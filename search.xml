<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>blog搭建教程</title>
      <link href="/2022/01/19/blog%E6%90%AD%E5%BB%BA/"/>
      <url>/2022/01/19/blog%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="第一步">第一步</h2><h3 id="安装node-js">安装node.js</h3><p>访问<a href="%5Bnodejs.org%5D(https://nodejs.org/en/)">官网</a></p><p><a href="https://blog.csdn.net/chanyeolchichi/article/details/121348541">教程</a></p><p>用<code>npm -v</code>来验证是否安装成功</p><h3 id="安装npm的国内镜像源-可选">安装npm的国内镜像源(可选)</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><p>之后可将<code>npm</code>命令换为<code>cnpm</code></p><p>用<code>cnpm -v</code>来验证是否安装成功</p><h3 id="安装博客框架">安装博客框架</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cnpm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>用<code>hexo -v</code>来验证是否安装成功</p><h3 id="使用hexo框架来搭建博客">使用hexo框架来搭建博客</h3><p>在电脑某一目录下，创建blog文件夹，然后在blog目录下运行以下命令</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure><p>在本地4000端口来预览搭建的博客。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><h2 id="第二步">第二步</h2><p>博客文章在blog-&gt;source-&gt;_posts下</p><h3 id="修改博客文章之后">修改博客文章之后</h3><p>运行以下命令</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br></pre></td></tr></table></figure><h3 id="将博客部署到github上公开使用">将博客部署到github上公开使用</h3><p>用户部署个人博客的GitHub仓库命令必须符合规范。<br>如：<br><img src="https://i.bmp.ovh/imgs/2022/01/5148007bd3fbab06.png" alt=""></p><h3 id="在目录下安装git插件">在目录下安装git插件</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install  hexo -deploy-git --save</span><br></pre></td></tr></table></figure><h3 id="修改-config-yml文件">修改_config.yml文件</h3><p>如下图：<br><img src="https://i.bmp.ovh/imgs/2022/01/2994ad62386a908c.png" alt=""></p><h3 id="推送博客到远端">推送博客到远端</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><h2 id="自定义博客主题">自定义博客主题</h2><p>运行以下命令</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><p>在_config.yml修改主题<br>如下图<br><img src="https://i.bmp.ovh/imgs/2022/01/bfbbc668ad1fe6f2.png" alt=""><br>安装以下插件</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><p>重新生成文件报错。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">err: YAMLException: end of the stream or a document separator is expected at line 2, column 1:</span><br></pre></td></tr></table></figure><p>原因一：md文件在Typora中修改过（编码不正常）。<br>建议：md最上面加上title并下划线分隔。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: git学习</span><br><span class="line">tag: git</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h2 id="自定义博客主题一">自定义博客主题一</h2><p><a href="https://butterfly.js.org/">详细教程</a><br>我的操作如下：</p><h3 id="新建页面">新建页面</h3><h4 id="标签页">标签页</h4><ol><li><p>前往你的 Hexo 博客的根目录（source目录下）</p></li><li><p>输入hexo new page tags</p></li><li><p>你会找到source/tags/index.md这个文件</p></li><li><p>修改这个文件：</p></li></ol><p>记得添加 type: “tags”</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 标签</span><br><span class="line">date: 2022-01-19 03:41:35</span><br><span class="line"><span class="section">type: &quot;tags&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><h4 id="分类页">分类页</h4><ol><li><p>前往你的 Hexo 博客的根目录</p></li><li><p>输入hexo new page categories</p></li><li><p>你会找到source/categories/index.md这个文件</p></li><li><p>修改这个文件：</p></li></ol><p>记得添加 type: “categories”</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 分类</span><br><span class="line">date: 2022-01-19 04:22:04</span><br><span class="line"><span class="section">type: &quot;categories&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><h4 id="友情链接">友情链接</h4><ol><li><p>前往你的 Hexo 博客的根目录</p></li><li><p>输入 hexo new page link</p></li><li><p>你会找到source/link/index.md这个文件</p></li><li><p>修改这个文件：</p></li></ol><p>记得添加 type: “link”</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 友情链接</span><br><span class="line">date: 2022-01-19 04:24:39</span><br><span class="line"><span class="section">type: &quot;link&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><h3 id="友情链接添加">友情链接添加</h3><p>在Hexo博客目录中的source/_data（如果没有 _data 文件夹，请自行创建），创建一个文件link.yml</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="string">友情链接</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">那些人，那些事</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">stevenlin</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://steven900516.github.io/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://steven900516.github.io/img/friend_404.gif</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">lyxのblog</span></span><br></pre></td></tr></table></figure><p>name就是名字，link就是点击跳转的链接，avatar就是头像图片<br>示例：<img src="/img/example1.png" alt=""></p><h3 id="友情链接-2">友情链接</h3><p>主题内置了一个简单的404页面，在themes/butterfly寻找_config.yml进行修改</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">error_404:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">subtitle:</span> <span class="string">&#x27;页面未找到&#x27;</span></span><br><span class="line">  <span class="attr">background:</span> <span class="string">https://i.loli.net/2020/05/19/aKOcLiyPl2JQdFD.png</span></span><br></pre></td></tr></table></figure><h2 id="自定义博客主题二">自定义博客主题二</h2><h3 id="front-master">front-master</h3><p>Front-matter 是 markdown 文件最上方以 — 分隔的区域，用于指定个别档案的变数。</p><p>Page Front-matter 用于页面配置<br>Post Front-matter 用于文章页配置</p><h4 id="Page-Front-matter">Page Front-matter</h4><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">updated:</span><br><span class="line">type:</span><br><span class="line">comments:</span><br><span class="line">description:</span><br><span class="line">keywords:</span><br><span class="line">top<span class="emphasis">_img:</span></span><br><span class="line"><span class="emphasis">mathjax:</span></span><br><span class="line"><span class="emphasis">katex:</span></span><br><span class="line"><span class="emphasis">aside:</span></span><br><span class="line"><span class="emphasis">aplayer:</span></span><br><span class="line"><span class="emphasis">highlight_</span>shrink:</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>具体解释如下：<br>title【必需】页面标题<br>date【必需】页面创建日期<br>type【必需】标签、分类和友情链接三个页面需要配置<br>updated【可选】页面更新日期<br>description【可选】页面描述<br>keywords【可选】页面关键字<br>comments【可选】显示页面评论模块(默认 true)<br>top_img【可选】页面顶部图片<br>mathjax【可选】显示mathjax(当设置mathjax的per_page: false时，才需要配置，默认 false)<br>katex【可选】显示katex(当设置katex的per_page: false时，才需要配置，默认 false)<br>aside【可选】显示侧边栏 (默认 true)<br>aplayer【可选】在需要的页面加载aplayer的js和css,请参考文章下面的音乐 配置<br>highlight_shrink【可选】配置代码框是否展开(true/false)(默认为设置中highlight_shrink的配置)</p><h4 id="Post-Front-matter">Post Front-matter</h4><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">updated:</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">keywords:</span><br><span class="line">description:</span><br><span class="line">top<span class="emphasis">_img:</span></span><br><span class="line"><span class="emphasis">comments:</span></span><br><span class="line"><span class="emphasis">cover:</span></span><br><span class="line"><span class="emphasis">toc:</span></span><br><span class="line"><span class="emphasis">toc_</span>number:</span><br><span class="line">toc<span class="emphasis">_style_</span>simple:</span><br><span class="line">copyright:</span><br><span class="line">copyright<span class="emphasis">_author:</span></span><br><span class="line"><span class="emphasis">copyright_</span>author<span class="emphasis">_href:</span></span><br><span class="line"><span class="emphasis">copyright_</span>url:</span><br><span class="line">copyright<span class="emphasis">_info:</span></span><br><span class="line"><span class="emphasis">mathjax:</span></span><br><span class="line"><span class="emphasis">katex:</span></span><br><span class="line"><span class="emphasis">aplayer:</span></span><br><span class="line"><span class="emphasis">highlight_</span>shrink:</span><br><span class="line"><span class="section">aside:</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><p>title【必需】文章标题<br>date【必需】文章创建日期<br>updated【可选】文章更新日期<br>tags【可选】文章标签<br>categories【可选】文章分类<br>keywords【可选】文章关键字<br>description【可选】文章描述<br>top_img【可选】文章顶部图片<br>cover【可选】文章缩略图(如果没有设置top_img,文章页顶部将显示缩略图，可设为false/图片地址/留空)<br>comments【可选】显示文章评论模块(默认 true)<br>toc【可选】显示文章TOC(默认为设置中toc的enable配置)<br>toc_number【可选】显示toc_number(默认为设置中toc的number配置)<br>toc_style_simple【可选】显示 toc 简洁模式<br>copyright【可选】显示文章版权模块(默认为设置中post_copyright的enable配置)<br>copyright_author【可选】文章版权模块的文章作者<br>copyright_author_href【可选】文章版权模块的文章作者链接<br>copyright_url【可选】文章版权模块的文章连结链接<br>copyright_info【可选】文章版权模块的版权声明文字<br>mathjax【可选】显示mathjax(当设置mathjax的per_page: false时，才需要配置，默认 false)<br>katex【可选】显示katex(当设置katex的per_page: false时，才需要配置，默认 false)<br>aplayer【可选】在需要的页面加载aplayer的js和css,请参考文章下面的音乐 配置<br>highlight_shrink【可选】配置代码框是否展开(true/false)(默认为设置中highlight_shrink的配置)<br>aside【可选】显示侧边栏 (默认 true)<br>如果要打多个tag的话，做法如下</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">tags: </span><br><span class="line"><span class="bullet">   -</span> blog</span><br><span class="line"><span class="bullet">   -</span> 教程</span><br></pre></td></tr></table></figure><h3 id="报错查看">报错查看</h3><p><code>hexo g</code>时出现如下错误1</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">INFO  Start processing</span><br><span class="line">ERROR Theme config load failed.</span><br><span class="line">ERROR &#123;</span><br><span class="line">  err: YAMLException: bad indentation of a mapping entry (40:27)</span><br><span class="line"></span><br><span class="line">   37 | #   icon: link || the description</span><br><span class="line">   38 | social:</span><br><span class="line">   39 |    fab fa-github: https://github.com/winfredliu || Github</span><br><span class="line">   40 |    fas fa-envelope: mailto: 3194769362@qq.com || Email</span><br><span class="line">   --------------------------------^</span><br><span class="line">   41 |</span><br><span class="line">   42 | # search (搜索)</span><br></pre></td></tr></table></figure><p>你知道怎么错了吗？</p><div class="hide-block"><button type="button" class="hide-button" style="">查看答案    </button><div class="hide-content"><p>从上面可知主题配置文件中第40行出错，查看是否有语法错误或其他错误。<br>我们查看相关信息发现：<br><img src="/img/example2.png" alt=""></p><p>我们在<code>mailto:</code>后多加了一个空格。</p><p>去掉空格即可</p></div></div><p><code>hexo g</code>时出现如下错误2</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ERROR RangeError: E:\blog\themes\butterfly\layout\includes\widget\index.pug:33</span><br><span class="line">    31|       !=partial(&#x27;includes/widget/card_tags&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">    32|       !=partial(&#x27;includes/widget/card_archives&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">  &gt; 33|       !=partial(&#x27;includes/widget/card_webinfo&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">    34|       !=partial(&#x27;includes/widget/card_bottom_self&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"></span><br><span class="line">E:\blog\themes\butterfly\layout\includes\widget\card_webinfo.pug:14</span><br><span class="line">    12|         .webinfo-item</span><br><span class="line">    13|           .item-name= _p(&#x27;aside.card_webinfo.runtime.name&#x27;) + &quot; :&quot;</span><br><span class="line">  &gt; 14|           .item-count#runtimeshow(data-publishDate=date_xml(theme.runtimeshow.publish_date))</span><br><span class="line">    15|       if theme.wordcount.enable &amp;&amp; theme.wordcount.total_wordcount</span><br><span class="line">    16|         .webinfo-item</span><br><span class="line">    17|           .item-name=_p(&#x27;aside.card_webinfo.site_wordcount&#x27;) + &quot; :&quot;</span><br></pre></td></tr></table></figure><div class="hide-toggle" ><div class="hide-button toggle-title" style=""><i class="fas fa-caret-right fa-fw"></i><span>解决方法</span></div>    <div class="hide-content"><p>我们可以知道应该是主题配置文件的card_webinfo出错，查看相关信息可知</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">card_webinfo:</span></span><br><span class="line">   <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">   <span class="attr">post_count:</span> <span class="literal">true</span></span><br><span class="line">   <span class="attr">last_push_date:</span> <span class="literal">true</span></span><br><span class="line">   <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br></pre></td></tr></table></figure><p>这个webinfo与网站访问人数和运营时间有关，再查看这两个</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">busuanzi:</span></span><br><span class="line">  <span class="attr">site_uv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">site_pv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">page_pv:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Time difference between publish date and now (網頁運行時間)</span></span><br><span class="line"><span class="comment"># Formal: Month/Day/Year Time or Year/Month/Day Time</span></span><br><span class="line"><span class="attr">runtimeshow:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">publish_date:</span> <span class="number">18</span><span class="string">/1/2022</span> <span class="number">20</span><span class="string">:00:00</span></span><br></pre></td></tr></table></figure><p>我们可以发现我们的日期格式写错了，更正就可以了。</p></div></div><h3 id="语言">语言</h3><p>修改根目录配置文件 _config.yml</p><p>默认语言是 en</p><p>主题支持三种语言</p><p>default(en)<br>zh-CN (简体中文)<br>zh-TW (繁体中文）</p><h3 id="网站资料">网站资料</h3><p>修改网站各种资料，例如标题、副标题和邮箱等个人资料，请修改博客根目录的_config.yml</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">欢迎来到我的博客</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">&#x27;博客&#x27;</span></span><br><span class="line"><span class="attr">keywords:</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">winfred</span> <span class="string">liu</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://winfredliu.github.io</span></span><br></pre></td></tr></table></figure><h3 id="导航菜单">导航菜单</h3><p>修改themes/butterfly下的_config.yml（主题配置文件）</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">Home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line"><span class="attr">Archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line"><span class="attr">Tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line"><span class="attr">Categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line"><span class="string">List||fas</span> <span class="attr">fa-list:</span></span><br><span class="line">  <span class="attr">Music:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">  <span class="attr">Movie:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line"><span class="attr">Link:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line"><span class="attr">About:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure><p>必须是 /xxx/，后面||分开，然后写图标名。</p><p>如果不希望显示图标，图标名可不写。</p><p>默认子目录是展开的，如果你想要隐藏，在子目录里添加 hide 。</p><p>导航中的文字可自行更改</p><p>例如：</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">首页:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="string">时间轴:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="string">标签:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="string">分类:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="string">娱乐||fas</span> <span class="string">fa-list||hide:</span></span><br><span class="line">    <span class="attr">Music:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">    <span class="attr">Movie:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line">    <span class="attr">photo:</span> <span class="string">/photo/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-photo</span></span><br><span class="line">  <span class="string">友链:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="string">关于:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure><h3 id="代码">代码</h3><h4 id="代码高亮主题">代码高亮主题</h4><p>Butterfly 支持6种代码高亮样式：</p><p>darker<br>pale night<br>light<br>ocean<br>mac<br>mac light</p><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">light</span></span><br></pre></td></tr></table></figure><h4 id="代码复制功能">代码复制功能</h4><p>修改主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_copy:</span> <span class="literal">true</span> <span class="comment"># copy button</span></span><br></pre></td></tr></table></figure><h4 id="代码框展开关闭">代码框展开关闭</h4><p>在默认情况下，代码框自动展开，可设置是否所有代码框都关闭状态，点击&gt;可展开代码</p><ul><li>true 全部代码框不展开，需点击&gt;打开</li><li>false 代码狂展开，有&gt;点击按钮</li><li>none 不显示&gt;按钮</li></ul><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_shrink:</span> <span class="literal">false</span> <span class="comment"># true: shrink the code blocks / false: expand the code blocks | none: expand code blocks and hide the button</span></span><br></pre></td></tr></table></figure><p>注：你也可以在post/page页对应的markdown文件front-matter添加highlight_shrink来独立配置。</p><p>当主题配置文件中的 highlight_shrink 设为true时，可在front-matter添加highlight_shrink: false来单独配置文章展开代码框。</p><p>当主题配置文件中的 highlight_shrink 设为false时，可在front-matter添加highlight_shrink: true来单独配置文章收缩代码框。</p><h4 id="代码换行">代码换行</h4><p>在默认情况下，Hexo 在编译的时候不会实现代码自动换行。如果你不希望在代码块的区域里有横向滚动条的话，那么你可以考虑开启这个功能。</p><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">code_word_wrap:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>如果你是使用 highlight 渲染（一般默认是highlight渲染），需要找到你根目录下的 Hexo 配置文件_config.yml，将line_number改成false:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">false</span> <span class="comment"># &lt;- 改这个</span></span><br><span class="line">  <span class="attr">auto_detect:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">tab_replace:</span></span><br></pre></td></tr></table></figure><h4 id="代码高度限制">代码高度限制</h4><p>可配置代码高度限制，超出的部分会隐藏，并显示展开按钮。</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_height_limit:</span> <span class="number">200</span> <span class="comment"># unit: px</span></span><br></pre></td></tr></table></figure><p>注：单位是 px，直接添加数字，如 200</p><p>实际限制高度为 highlight_height_limit + 30 px ，多增加 30px 限制，目的是避免代码高度只超出highlight_height_limit 一点时，出现展开按钮，展开没内容。</p><p>不适用于隐藏后的代码块（ css 设置 display: none）</p><h3 id="社交图标">社交图标</h3><p>Butterfly支持 font-awesome v5图标</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">   <span class="attr">fab fa-github:</span> <span class="string">https://github.com/winfredliu</span> <span class="string">||</span> <span class="string">Github</span></span><br><span class="line">   <span class="attr">fas fa-envelope:</span> <span class="string">mailto:3194769362@qq.com</span> <span class="string">||</span> <span class="string">Email</span></span><br></pre></td></tr></table></figure><h3 id="主页文章节选-自动节选和文章页description">主页文章节选(自动节选和文章页description)</h3><p>因为主题UI的关系，主页文章节选只支持自动节选和文章页description。</p><p>在butterfly里，有四种可供选择</p><ol><li>description： 只显示description</li><li>both： 优先选择description，如果没有配置description，则显示自动节选的内容</li><li>auto_excerpt：只显示自动节选</li><li>false： 不显示文章内容</li></ol><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">index_post_content:</span></span><br><span class="line">  <span class="attr">method:</span> <span class="number">2</span></span><br><span class="line">  <span class="attr">length:</span> <span class="number">500</span> <span class="comment"># if you set method to 2 or 3, the length need to config</span></span><br></pre></td></tr></table></figure><p>description在front-matter里添加</p><h3 id="顶部图">顶部图</h3><p>如果不要显示顶部图，可直接配置 disable_top_img: true<br>配置中的值：</p><table><thead><tr><th>配置</th><th>解释</th></tr></thead><tbody><tr><td>index_img</td><td>主页的 top_img</td></tr><tr><td>default_top_img</td><td>默认的 top_img，当页面的 top_img 没有配置时，会显示 default_top_img</td></tr><tr><td>archive_img</td><td>归档页面的 top_img</td></tr><tr><td>tag_imgtag</td><td>子页面 的 默认 top_img</td></tr><tr><td>tag_per_img</td><td>tag 子页面的 top_img，可配置每个 tag 的 top_img</td></tr><tr><td>category_img</td><td>category 子页面 的 默认 top_img</td></tr><tr><td>category_per_img</td><td>category 子页面的 top_img，可配置每个 category 的 top_img</td></tr></tbody></table><p>其它页面 （tags/categories/自建页面）和 文章页 的 top_img ，请到对应的 md 页面设置front-matter中的top_img</p><p>以上所有的 top_img 可配置以下值</p><table><thead><tr><th>配置的值</th><th>效果</th></tr></thead><tbody><tr><td>留空</td><td>显示默认的top_img（如有），否则显示默认的颜色（文章页top_img留空的话，会显示 cover 的值）</td></tr><tr><td>img链接</td><td>图片的链接，显示所配置的图片</td></tr><tr><td>颜色(  HEX值 - #0000FF   RGB值 - rgb(0,0,255)  颜色单词 - orange    渐变色 - linear-gradient( 135deg, #E2B0FF 10%, #9F44D3 100%)</td><td>对应的颜色</td></tr><tr><td>transparent</td><td>透明</td></tr><tr><td>false</td><td>不显示top_img</td></tr><tr><td>ag_per_img 和 category_per_img 是 3.2.0 新增的内容，可对 tag 和 category 进行单独的配置</td><td></td></tr></tbody></table><p>并不推荐为每个 tag 和每个 category 都配置不同的顶部图，因为配置太多会拖慢生成速度</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">tag_per_img：</span></span><br><span class="line">  <span class="attr">aplayer:</span> <span class="string">https://xxxxxx.png</span></span><br><span class="line">  <span class="attr">android:</span> <span class="string">ddddddd.png</span></span><br><span class="line">  </span><br><span class="line"><span class="string">category_per_img：</span></span><br><span class="line">  <span class="string">随想:</span> <span class="string">hdhdh.png</span></span><br><span class="line">  <span class="string">推荐:</span> <span class="string">ddjdjdjd.png</span></span><br></pre></td></tr></table></figure><h3 id="文章置顶">文章置顶</h3><p>【推荐】hexo-generator-index从 2.0.0 开始，已经支持文章置顶功能。你可以直接在文章的front-matter区域里添加sticky: 1属性来把这篇文章置顶。数值越大，置顶的优先级越大。</p><h3 id="文章封面">文章封面</h3><p>文章的markdown文档上,在Front-matter添加cover,并填上要显示的图片地址。<br>如果不配置cover,可以设置显示默认的cover.</p><p>如果不想在首页显示cover,可以设置为false</p><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">cover:</span></span><br><span class="line">  <span class="comment"># display the cover or not (是否顯示文章封面)</span></span><br><span class="line">  <span class="attr">index_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">aside_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">archives_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># the position of cover in home page (封面顯示的位置)</span></span><br><span class="line">  <span class="comment"># left/right/both</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">both</span></span><br><span class="line">  <span class="comment"># When cover is not set, the default cover is displayed (當沒有設置cover時，默認的封面顯示)</span></span><br></pre></td></tr></table></figure><p>当配置多张图片时,会随机选择一张作为cover.此时写法应为</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">default_cover:</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">/img/cover1.jpg</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">/img/cover2.jpg</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">/img/cover3.jpg</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">/img/cover4.jpg</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">/img/cover5.jpg</span></span><br></pre></td></tr></table></figure><h3 id="文章页相关配置">文章页相关配置</h3><h4 id="文章meta显示">文章meta显示</h4><p>这个选项是用来显示文章的相关信息的。</p><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_meta:</span></span><br><span class="line">  <span class="attr">page:</span> <span class="comment"># Home Page</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both 主頁文章日期是創建日或者更新日或都顯示</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">date</span> <span class="comment"># date/relative 顯示日期還是相對日期</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 主頁是否顯示分類</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false 主頁是否顯示標籤</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 顯示描述性文字</span></span><br><span class="line">  <span class="attr">post:</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both 文章頁日期是創建日或者更新日或都顯示</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">date</span> <span class="comment"># date/relative 顯示日期還是相對日期</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 文章頁是否顯示分類</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false 文章頁是否顯示標籤</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 顯示描述性文字</span></span><br></pre></td></tr></table></figure><p>主页：<img src="/img/example_page1.png" alt=""><br>文章页：<img src="/img/example_post1.png" alt=""><br>date_format 是 3.2.0 新增的内容，配置时间显示明确时间还是相对时间</p><h3 id="文章版权">文章版权</h3><p>为你的博客文章展示文章版权和许可协议。</p><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">decode:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span></span><br><span class="line">  <span class="attr">license_url:</span> <span class="string">https://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br></pre></td></tr></table></figure><p>由于Hexo 4.1开始，默认对网址进行解码，以至于如果是中文网址，会被解码，可设置decode: true来显示中文网址。</p><p>如果有文章（例如：转载文章）不需要显示版权，可以在文章Front-matter单独设置</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">copyright:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>从3.0.0开始，支持对单独文章设置版权信息，可以在文章Front-matter单独设置</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">copyright_author:</span> <span class="string">xxxx</span></span><br><span class="line"><span class="attr">copyright_author_href:</span> <span class="string">https://xxxxxx.com</span></span><br><span class="line"><span class="attr">copyright_url:</span> <span class="string">https://xxxxxx.com</span></span><br><span class="line"><span class="attr">copyright_info:</span> <span class="string">此文章版權歸xxxxx所有，如有轉載，請註明來自原作者</span></span><br></pre></td></tr></table></figure><h3 id="文章打赏">文章打赏</h3><p>在你每篇文章的结尾，可以添加打赏按钮。相关二维码可以自行配置。</p><p>对于没有提供二维码的，可配置一张软件的icon图片，然后在link上添加相应的打赏链接。用户点击图片就会跳转到链接去。</p><p>link可以不写，会默认为图片的链接。</p><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">reward:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">QR_code:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">img:</span> <span class="string">/img/wechat.png</span></span><br><span class="line">      <span class="attr">link:</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">微信</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">img:</span> <span class="string">/img/alipay.jpg</span></span><br><span class="line">      <span class="attr">link:</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">支付宝</span></span><br></pre></td></tr></table></figure><h3 id="目录">目录</h3><p>在文章页，会有一个目录，用于显示TOC。</p><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">post:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">page:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">expand:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">style_simple:</span> <span class="literal">false</span> <span class="comment"># for post</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>属性</th><th>解释</th></tr></thead><tbody><tr><td>post</td><td>文章页是否显示 TOC</td></tr><tr><td>page</td><td>普通页面是否显示 TOC</td></tr><tr><td>number</td><td>是否显示章节数</td></tr><tr><td>expand</td><td>是否展开 TOC</td></tr><tr><td>style_simple</td><td>简洁模式（侧边栏只显示 TOC, 只对文章页有效 ）</td></tr></tbody></table><h4 id="为特定的文章配置">为特定的文章配置</h4><p>在你的文章md文件的头部，加入toc_number和toc，并配置true或者false即可。</p><p>主题会优先判断文章Markdown的Front-matter是否有配置，如有，则以Front-matter的配置为准。否则，以主题配置文件中的配置为准</p><h3 id="相关文章">相关文章</h3><p>相关文章推荐的原理是根据文章tags的比重来推荐</p><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">related_post:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">3</span> <span class="comment"># Number of posts displayed</span></span><br><span class="line">  <span class="attr">date_type:</span> <span class="string">updated</span> <span class="comment"># or created or updated 文章日期顯示創建日或者更新日</span></span><br></pre></td></tr></table></figure><h3 id="文章锚点">文章锚点</h3><p>开启文章锚点后，当你在文章页进行滚动时，文章链接会根据标题ID进行替换<br>(注意: 每替换一次，会留下一个历史记录。所以如果一篇文章有很多锚点的话，网页的历史记录会很多。)</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># anchor</span></span><br><span class="line"><span class="comment"># when you scroll in post, the URL will update according to header id.</span></span><br><span class="line"><span class="attr">anchor:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="文章过期提醒">文章过期提醒</h3><p>可设置是否显示文章过期提醒，以更新时间为基准。</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Displays outdated notice for a post (文章過期提醒)</span></span><br><span class="line"><span class="attr">noticeOutdate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">flat</span> <span class="comment"># style: simple/flat</span></span><br><span class="line">  <span class="attr">limit_day:</span> <span class="number">500</span> <span class="comment"># When will it be shown</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">top</span> <span class="comment"># position: top/bottom</span></span><br><span class="line">  <span class="attr">message_prev:</span> <span class="string">It</span> <span class="string">has</span> <span class="string">been</span></span><br><span class="line">  <span class="attr">message_next:</span> <span class="string">days</span> <span class="string">since</span> <span class="string">the</span> <span class="string">last</span> <span class="string">update,</span> <span class="string">the</span> <span class="string">content</span> <span class="string">of</span> <span class="string">the</span> <span class="string">article</span> <span class="string">may</span> <span class="string">be</span> <span class="string">outdated.</span></span><br></pre></td></tr></table></figure><p>limit_day： 距离更新时间多少天才显示文章过期提醒</p><p>message_prev ： 天数之前的文字</p><p>message_next：天数之后的文字</p><p>style: 过期提示的样式选择</p><h3 id="文章编辑按钮">文章编辑按钮</h3><p>在文章标题旁边显示一个编辑按钮，点击会跳转到对应的链接去。</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_edit:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># url: https://github.com/user-name/repo-name/edit/branch-name/subdirectory-name/</span></span><br><span class="line">  <span class="comment"># For example: https://github.com/jerryc127/butterfly.js.org/edit/main/source/</span></span><br><span class="line">  <span class="attr">url:</span></span><br></pre></td></tr></table></figure><h3 id="文章分页按钮">文章分页按钮</h3><p>在文章标题旁边显示一个编辑按钮，点击会跳转到对应的链接去。</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># post_pagination (分頁)</span></span><br><span class="line"><span class="comment"># value: 1 || 2 || false</span></span><br><span class="line"><span class="comment"># 1: The &#x27;next post&#x27; will link to old post</span></span><br><span class="line"><span class="comment"># 2: The &#x27;next post&#x27; will link to new post</span></span><br><span class="line"><span class="comment"># false: disable pagination</span></span><br><span class="line"><span class="attr">post_pagination:</span> <span class="number">2</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>post_pagination: false</td><td>关闭分页按钮</td></tr><tr><td>post_pagination: 1</td><td>下一篇显示的是旧文章</td></tr><tr><td>post_pagination: 2</td><td>下一篇显示的是新文章</td></tr></tbody></table><h3 id="头像">头像</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Avatar (頭像)</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="attr">img:</span> <span class="string">/img/avatar.jpg</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h3 id="图片描述">图片描述</h3><p>可开启图片Figcaption描述文字显示</p><p>优先显示图片的 title 属性，然后是 alt 属性</p><p>语法如下：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">\ ![图片alt](图片链接 &quot;图片title&quot;)。</span><br></pre></td></tr></table></figure><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">photofigcaption:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="复制相关配置">复制相关配置</h3><p>可配置网站是否可以复制、复制的内容是否添加版权信息</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># copy settings</span></span><br><span class="line"><span class="comment"># copyright: Add the copyright information after copied content (複製的內容後面加上版權信息)</span></span><br><span class="line"><span class="attr">copy:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">copyright:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit_count:</span> <span class="number">50</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>配置</th><th>解释</th></tr></thead><tbody><tr><td>enable</td><td>是否开启网站复制权限</td></tr><tr><td>copyright</td><td>复制的内容后面加上版权信息</td></tr><tr><td>enable</td><td>是否开启复制版权信息添加</td></tr><tr><td>limit_count</td><td>字数限制，当复制文字大于这个字数限制时，将在复制的内容后面加上版权信息</td></tr></tbody></table><h3 id="页面底部设置">页面底部设置</h3><h4 id="博客年份">博客年份</h4><p>since是一个来展示你站点起始时间的选项。它位于页面的最底部。</p><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">owner:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">since:</span> <span class="number">2022</span></span><br></pre></td></tr></table></figure><h4 id="页脚自定义文本">页脚自定义文本</h4><p>custom_text是一个给你用来在页脚自定义文本的选项。通常你可以在这里写声明文本等。支持 HTML。</p><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">custom_text:</span> <span class="string">欢迎来到我的博客</span></span><br></pre></td></tr></table></figure><p>对于部分人需要写 ICP 的，也可以写在 custom_text里</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">custom_text:</span> <span class="string">&lt;a</span> <span class="string">href=&quot;icp链接&quot;&gt;&lt;img</span> <span class="string">class=&quot;icp-icon&quot;</span> <span class="string">src=&quot;icp图片&quot;&gt;&lt;span&gt;备案号：xxxxxx&lt;/span&gt;&lt;/a&gt;</span></span><br></pre></td></tr></table></figure><h3 id="右下角按钮">右下角按钮</h3><h4 id="简繁转换">简繁转换</h4><p>简体繁体互换</p><p>右下角会有简繁转换按钮。</p><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">translate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># The text of a button</span></span><br><span class="line">  <span class="attr">default:</span> <span class="string">简</span></span><br><span class="line">  <span class="comment"># the language of website (1 - Traditional Chinese/ 2 - Simplified Chinese）</span></span><br><span class="line">  <span class="attr">defaultEncoding:</span> <span class="number">2</span></span><br><span class="line">  <span class="comment"># Time delay</span></span><br><span class="line">  <span class="attr">translateDelay:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment"># The text of the button when the language is Simplified Chinese</span></span><br><span class="line">  <span class="attr">msgToTraditionalChinese:</span> <span class="string">&#x27;繁&#x27;</span></span><br><span class="line">  <span class="comment"># The text of the button when the language is Traditional Chinese</span></span><br><span class="line">  <span class="attr">msgToSimplifiedChinese:</span> <span class="string">&#x27;简&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="夜间模式">夜间模式</h4><p>右下角会有夜间模式按钮</p><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># dark mode</span></span><br><span class="line"><span class="attr">darkmode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Toggle Button to switch dark/light mode</span></span><br><span class="line">  <span class="attr">button:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Switch dark/light mode automatically (自動切換 dark mode和 light mode)</span></span><br><span class="line">  <span class="comment"># autoChangeMode: 1  Following System Settings, if the system doesn&#x27;t support dark mode, it will switch dark mode between 6 pm to 6 am</span></span><br><span class="line">  <span class="comment"># autoChangeMode: 2  Switch dark mode between 6 pm to 6 am</span></span><br><span class="line">  <span class="comment"># autoChangeMode: false</span></span><br><span class="line">  <span class="attr">autoChangeMode:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><p>注：V2.0.0 开始增加一个选项，可开启自动切换light mode 和 dark mode</p><p>autoChangeMode: 1 跟随系统而变化，不支持的浏览器/系统将按照时间晚上6点到早上6点之间切换为 dark mode</p><p>autoChangeMode: 2 只按照时间 晚上6点到早上6点之间切换为 dark mode,其余时间为light mode</p><p>autoChangeMode: false 取消自动切换</p><h4 id="阅读模式">阅读模式</h4><p>阅读模式下会去掉除文章外的内容，避免干扰阅读。</p><p>只会出现在文章页面，右下角会有阅读模式按钮。</p><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">readmode:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="按钮排序">按钮排序</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Don&#x27;t modify the following settings unless you know how they work (非必要請不要修改 )</span></span><br><span class="line"><span class="comment"># Choose: readmode,translate,darkmode,hideAside,toc,chat,comment</span></span><br><span class="line"><span class="comment"># Don&#x27;t repeat 不要重複</span></span><br><span class="line"><span class="attr">rightside_item_order:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">hide:</span> <span class="comment"># readmode,translate,darkmode,hideAside</span></span><br><span class="line">  <span class="attr">show:</span> <span class="comment"># toc,chat,comment</span></span><br></pre></td></tr></table></figure><h3 id="侧边栏设置">侧边栏设置</h3><h4 id="侧边排版">侧边排版</h4><p>可自行决定哪个项目需要显示，可决定位置，也可以设置不显示侧边栏。</p><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">aside:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hide:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">button:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span> <span class="comment"># display on mobile</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">right</span> <span class="comment"># left or right</span></span><br><span class="line">  <span class="attr">card_author:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">description:</span></span><br><span class="line">    <span class="attr">button:</span></span><br><span class="line">      <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">fab</span> <span class="string">fa-github</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">Follow</span> <span class="string">Me</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://github.com/winfredliu</span></span><br><span class="line">  <span class="attr">card_announcement:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">content:</span> <span class="string">This</span> <span class="string">is</span> <span class="string">my</span> <span class="string">Blog</span></span><br><span class="line">  <span class="attr">card_recent_post:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">5</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">sort:</span> <span class="string">date</span> <span class="comment"># date or updated</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_categories:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">8</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">expand:</span> <span class="string">none</span> <span class="comment"># none/true/false</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_tags:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">40</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">color:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_archives:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">monthly</span> <span class="comment"># yearly or monthly</span></span><br><span class="line">    <span class="attr">format:</span> <span class="string">MMMM</span> <span class="string">YYYY</span> <span class="comment"># eg: YYYY年MM月</span></span><br><span class="line">    <span class="attr">order:</span> <span class="number">-1</span> <span class="comment"># Sort of order. 1, asc for ascending; -1, desc for descending</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">8</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_webinfo:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">post_count:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">last_push_date:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br></pre></td></tr></table></figure><h4 id="访问人数-busuanzi-UV-和-PV">访问人数 busuanzi (UV 和 PV)</h4><p>访问 busuanzi 的<a href="http://busuanzi.ibruce.info/">官方网站</a>查看更多的介绍。</p><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">busuanzi:</span></span><br><span class="line">  <span class="attr">site_uv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">site_pv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">page_pv:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="运行时间">运行时间</h4><p>网页已运行时间</p><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Time difference between publish date and now (網頁運行時間)</span></span><br><span class="line"><span class="comment"># Formal: Month/Day/Year Time or Year/Month/Day Time</span></span><br><span class="line"><span class="attr">runtimeshow:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">publish_date:</span> <span class="number">18</span><span class="string">/1/2022</span> <span class="number">20</span><span class="string">:00:00</span></span><br></pre></td></tr></table></figure><h4 id="最新评论">最新评论</h4><p>注：最新评论只会在刷新时才会去读取，并不会实时变化</p><p>由于 API 有 访问次数限制，为了避免调用太多，主题默认存取期限为 10 分钟。也就是说，调用后资料会存在 localStorage 里，10分钟内刷新网站只会去 localStorage 读取资料。 10 分钟期限一过，刷新页面时才会去调取 API 读取新的数据。 （ 3.6.0 新增了 storage 配置，可自行配置缓存时间）<br>在侧边栏显示最新评论板块</p><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">newest_comments:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">6</span></span><br><span class="line">  <span class="attr">storage:</span> <span class="number">10</span> <span class="comment"># unit: mins, save data to localStorage</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>配置</th><th>解释</th></tr></thead><tbody><tr><td>limit</td><td>显示的数量</td></tr><tr><td>storage</td><td>设置缓存时间，单位 分钟</td></tr><tr><td>avatar</td><td>是否显示头像</td></tr></tbody></table><h3 id="标签外挂（Tag-Plugins）">标签外挂（Tag Plugins）</h3><p>info提示的写法：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note info simple %&#125;</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>详细写法：</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note simple %&#125;</span><br><span class="line">默认 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default simple %&#125;</span><br><span class="line">default 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary simple %&#125;</span><br><span class="line">primary 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success simple %&#125;</span><br><span class="line">success 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info simple %&#125;</span><br><span class="line">info 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning simple %&#125;</span><br><span class="line">warning 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger simple %&#125;</span><br><span class="line">danger 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><div class="note info simple"><p>标签外挂是Hexo独有的功能，并不是标准的Markdown格式。</p><p>以下的写法，只适用于Butterfly主题，用在其它主题上不会有效果，甚至可能会报错。使用前请留意</p></div><div class="note blue icon simple"><i class="note-icon fab fa-cc-visa"></i><p>标签外挂虽然能为主题带来一些额外的功能和UI方面的强化，但是，标签外挂也有明显的限制，使用时请留意。</p></div><h4 id="Note-Bootstrap-Callout">Note (Bootstrap Callout)</h4><p>移植于next主题，并进行修改。</p><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">note:</span></span><br><span class="line">  <span class="comment"># Note tag style values:</span></span><br><span class="line">  <span class="comment">#  - simple    bs-callout old alert style. Default.</span></span><br><span class="line">  <span class="comment">#  - modern    bs-callout new (v2-v3) alert style.</span></span><br><span class="line">  <span class="comment">#  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span></span><br><span class="line">  <span class="comment">#  - disabled  disable all CSS styles import of note tag.</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">simple</span></span><br><span class="line">  <span class="attr">icons:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">border_radius:</span> <span class="number">3</span></span><br><span class="line">  <span class="comment"># Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span></span><br><span class="line">  <span class="comment"># Offset also applied to label tag variables. This option can work with disabled note tag.</span></span><br><span class="line">  <span class="attr">light_bg_offset:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><p>用法</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note [class] [no-icon] [style] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th>名称</th><th>用法</th></tr></thead><tbody><tr><td>color</td><td>【可选】颜色(default / blue / pink / red / purple / orange / green)</td></tr><tr><td>icon</td><td>【可选】可配置自定义 icon (只支持 fontawesome 图标, 也可以配置no-icon )</td></tr><tr><td>style</td><td>【可选】可以覆盖配置中的 style（simple/modern/flat/disabled）</td></tr></tbody></table><h4 id="Gallery相册图库">Gallery相册图库</h4><p>一个图库集合。</p><div class="note info simple"><p>例如我的：</p></div><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">markdown 图片格式</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><p>写法</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><ul><li>name：图库名字</li><li>description：图库描述</li><li>link：连接到对应相册的地址</li><li>img-url：图库封面的地址</li></ul><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup &#x27;OH MY GIRL&#x27; &#x27;OH MY GIRL的图片（对没错，是网图）&#x27; &#x27;/gallery/girl&#x27; https://i.loli.net/2019/12/25/hOqbQ3BIwa6KWpo.jpg %&#125;</span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="Gallery相冊">Gallery相冊</h4><p>写法：</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">markdown 图片格式</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><div class="note info simple"><p>例如：</p></div><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">![](https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg)</span><br><span class="line">![](https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg)</span><br><span class="line">![](https://i.loli.net/2019/12/25/gEy5Zc1Ai6VuO4N.jpg)</span><br><span class="line">![](https://i.loli.net/2019/12/25/d6QHbytlSYO4FBG.jpg)</span><br><span class="line">![](https://i.loli.net/2019/12/25/6nepIJ1xTgufatZ.jpg)</span><br><span class="line">![](https://i.loli.net/2019/12/25/E7Jvr4eIPwUNmzq.jpg)</span><br><span class="line">![](https://i.loli.net/2019/12/25/mh19anwBSWIkGlH.jpg)</span><br><span class="line">![](https://i.loli.net/2019/12/25/2tu9JC8ewpBFagv.jpg)</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><h4 id="tag-hide">tag-hide</h4><div class="note info simple"><p>请注意，tag-hide内的标签外挂content内都不建议有h1 - h6 等标题。因为Toc会把隐藏内容标题也显示出来，而且当滚动屏幕时，如果隐藏内容没有显示出来，会导致Toc的滚动出现异常。</p></div><p>如果你想把一些文字、内容隐藏起来，并提供按钮让用户点击显示。可以使用这个标签外挂。</p><p>有以下三种方式：</p><h5 id="inline">inline</h5><p>inline 在文本里面添加按钮隐藏内容，只限文字</p><p>( content不能包含英文逗号，可用‚)</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% hideInline content,display,bg,color %&#125;</span><br></pre></td></tr></table></figure><ul><li><p>content: 文本内容</p></li><li><p>display: 按钮显示的文字(可选)</p></li><li><p>bg: 按钮的背景颜色(可选)</p></li><li><p>color: 按钮文字的颜色(可选)</p></li></ul><div class="note default simple"><p>实例</p></div><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">你帅（美）吗？ &#123;% hideInline 还行,点击查看答案,#FF7242,#fff %&#125;</span><br><span class="line">挥手告别  &#123;% hideInline 军 %&#125;</span><br></pre></td></tr></table></figure><p>你帅（美）吗？ <span class="hide-inline"><button type="button" class="hide-button" style="background-color: #FF7242;color: #fff">点击查看答案  </button><span class="hide-content">还行</span></span><br>挥手告别  <span class="hide-inline"><button type="button" class="hide-button" style="">Click  </button><span class="hide-content">军</span></span></p><h5 id="block">block</h5><p>block独立的block隐藏内容，可以隐藏很多内容，包括图片，代码块等等</p><p>( display 不能包含英文逗号，可用‚)</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% hideBlock display,bg,color %&#125;</span><br><span class="line">content</span><br><span class="line">&#123;% endhideBlock %&#125;</span><br></pre></td></tr></table></figure><ul><li>content: 文本内容</li><li>display: 按钮显示的文字(可选)</li><li>bg: 按钮的背景颜色(可选)</li><li>color: 按钮文字的颜色(可选)</li></ul><div class="note default simple"><p>实例</p></div><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">还有比你更帅（美）的人吗？</span><br><span class="line">&#123;% hideBlock 查看答案 %&#125;</span><br><span class="line">这重要吗？</span><br><span class="line">&#123;% endhideBlock %&#125;</span><br></pre></td></tr></table></figure><p>还有比你更帅（美）的人吗？</p><div class="hide-block"><button type="button" class="hide-button" style="">查看答案    </button><div class="hide-content"><p>这重要吗？</p></div></div><h5 id="Toggle">Toggle</h5><p>如果你需要展示的内容太多，可以把它隐藏在收缩框里，需要时再把它展开。</p><p>( display 不能包含英文逗号，可用‚)</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% hideToggle display,bg,color %&#125;</span><br><span class="line">content</span><br><span class="line">&#123;% endhideToggle %&#125;</span><br></pre></td></tr></table></figure><div class="note default simple"><p>实例</p></div><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% hideToggle 不知道写什么了 %&#125;</span><br><span class="line">就不写了吧</span><br><span class="line">&#123;% endhideToggle %&#125;</span><br></pre></td></tr></table></figure><div class="hide-toggle" ><div class="hide-button toggle-title" style=""><i class="fas fa-caret-right fa-fw"></i><span>不知道写什么了</span></div>    <div class="hide-content"><p>就不写了吧</p></div></div><h4 id="mermaid">mermaid</h4><p>使用mermaid标签可以绘制Flowchart（流程图）、Sequence diagram（时序图 ）、Class Diagram（类别图）、State Diagram（状态图）、Gantt（甘特图）和Pie Chart（圆形图），具体可以查看<a href="https://mermaid-js.github.io/mermaid/#/">mermaid文档</a></p><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># mermaid</span></span><br><span class="line"><span class="comment"># see https://github.com/mermaid-js/mermaid</span></span><br><span class="line"><span class="attr">mermaid:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># built-in themes: default/forest/dark/neutral</span></span><br><span class="line">  <span class="attr">theme:</span></span><br><span class="line">    <span class="attr">light:</span> <span class="string">default</span></span><br><span class="line">    <span class="attr">dark:</span> <span class="string">dark</span></span><br></pre></td></tr></table></figure><p>写法：</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% mermaid %&#125;</span><br><span class="line">內容</span><br><span class="line">&#123;% endmermaid %&#125;</span><br></pre></td></tr></table></figure><div class="note default simple"><p>实例</p></div><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% mermaid %&#125;</span><br><span class="line">pie</span><br><span class="line"><span class="code">    title Key elements in Product X</span></span><br><span class="line"><span class="code">    &quot;钙&quot; : 45</span></span><br><span class="line"><span class="code">    &quot;钾&quot; : 50.00</span></span><br><span class="line"><span class="code">    &quot;Magnesium&quot; : 10</span></span><br><span class="line"><span class="code">    &quot;Iron&quot; :  5</span></span><br><span class="line"><span class="code">&#123;% endmermaid %&#125;</span></span><br></pre></td></tr></table></figure><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  pie    title Key elements in Product X    &quot;钙&quot; : 45    &quot;钾&quot; : 50.00    &quot;Magnesium&quot; : 10    &quot;Iron&quot; :  5  </pre></div><h4 id="Tab">Tab</h4><p>移植于next主题</p><p>使用方法：</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tabs Unique name, [index] %&#125;</span><br><span class="line">&lt;!-- tab [Tab caption] [@icon] --&gt;</span><br><span class="line">Any content (support inline tags too).</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br><span class="line"></span><br><span class="line">Unique name   : Unique name of tabs block tag without comma.</span><br><span class="line"><span class="code">                Will be used in #id&#x27;s as prefix for each tab with their index numbers.</span></span><br><span class="line"><span class="code">                If there are whitespaces in name, for generate #id all whitespaces will replaced by dashes.</span></span><br><span class="line"><span class="code">                Only for current url of post/page must be unique!</span></span><br><span class="line"><span class="code">[index]       : Index number of active tab.</span></span><br><span class="line"><span class="code">                If not specified, first tab (1) will be selected.</span></span><br><span class="line"><span class="code">                If index is -1, no tab will be selected. It&#x27;s will be something like spoiler.</span></span><br><span class="line"><span class="code">                Optional parameter.</span></span><br><span class="line"><span class="code">[Tab caption] : Caption of current tab.</span></span><br><span class="line"><span class="code">                If not caption specified, unique name with tab index suffix will be used as caption of tab.</span></span><br><span class="line"><span class="code">                If not caption specified, but specified icon, caption will empty.</span></span><br><span class="line"><span class="code">                Optional parameter.</span></span><br><span class="line"><span class="code">[@icon]       : FontAwesome icon name (full-name, look like &#x27;fas fa-font&#x27;)</span></span><br><span class="line"><span class="code">                Can be specified with or without space; e.g. &#x27;Tab caption @icon&#x27; similar to &#x27;Tab caption@icon&#x27;.</span></span><br><span class="line"><span class="code">                Optional parameter.</span></span><br></pre></td></tr></table></figure><div class="note default simple"><p>实例1 默认选择第一个</p></div><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tabs test1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">test1 1</button></li><li class="tab"><button type="button" data-href="#test1-2">test1 2</button></li><li class="tab"><button type="button" data-href="#test1-3">test1 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note default simple"><p>实例2 自定义Tab名 + 只有icon + icon和Tab名</p></div><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tabs test4 %&#125;</span><br><span class="line">&lt;!-- tab 第一个Tab --&gt;</span><br><span class="line"><span class="strong">**tab名字为第一个Tab**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab @fab fa-apple-pay --&gt;</span><br><span class="line"><span class="strong">**只有图标 没有Tab名字**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab 炸弹@fas fa-bomb --&gt;</span><br><span class="line"><span class="strong">**名字+icon**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">第一个Tab</button></li><li class="tab"><button type="button" data-href="#test4-2"><i class="fab fa-apple-pay" style="text-align: center;"></i></button></li><li class="tab"><button type="button" data-href="#test4-3"><i class="fas fa-bomb"></i>炸弹</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p><strong>tab名字为第一个Tab</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><p><strong>只有图标 没有Tab名字</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-3"><p><strong>名字+icon</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="button">button</h4><p>使用方法：</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% btn [url],[text],[icon],[color] [style] [layout] [position] [size] %&#125;</span><br><span class="line"></span><br><span class="line">[url]         : 链接</span><br><span class="line">[text]        : 按钮文字</span><br><span class="line">[icon]        : [可选] 图标</span><br><span class="line">[color]       : [可选] 按钮背景颜色(默认style时）</span><br><span class="line"><span class="code">                      按钮字体和边框颜色(outline时)</span></span><br><span class="line"><span class="code">                      default/blue/pink/red/purple/orange/green</span></span><br><span class="line"><span class="code">[style]       : [可选] 按钮样式 默认实心</span></span><br><span class="line"><span class="code">                      outline/留空</span></span><br><span class="line"><span class="code">[layout]      : [可选] 按钮布局 默认为line</span></span><br><span class="line"><span class="code">                      block/留空</span></span><br><span class="line"><span class="code">[position]    : [可选] 按钮位置 前提是设置了layout为block 默认为左边</span></span><br><span class="line"><span class="code">                      center/right/留空</span></span><br><span class="line"><span class="code">[size]        : [可选] 按钮大小</span></span><br><span class="line"><span class="code">                      larger/留空</span></span><br></pre></td></tr></table></figure><div class="note default simple"><p>实例</p></div><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">This is my website, click the button &#123;% btn &#x27;https://winfredliu.github.io/gallery/girl/&#x27;,好看的妹妹,blue %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#x27;https://winfredliu.github.io/gallery/girl/&#x27;,好看的妹妹,far fa-hand-point-right %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#x27;https://winfredliu.github.io/gallery/girl/&#x27;,好看的妹妹,outline %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#x27;https://winfredliu.github.io/gallery/girl/&#x27;,好看的妹妹,far fa-hand-point-right,red outline %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#x27;https://winfredliu.github.io/gallery/girl/&#x27;,好看的妹妹,far fa-hand-point-right,larger %&#125;</span><br></pre></td></tr></table></figure><p>This is my website, click the button <a class="btn-beautify " href="https://winfredliu.github.io/gallery/girl/"   title="好看的妹妹"><i class="blue"></i><span>好看的妹妹</span></a><br>This is my website, click the button <a class="btn-beautify " href="https://winfredliu.github.io/gallery/girl/"   title="好看的妹妹"><i class="far fa-hand-point-right"></i><span>好看的妹妹</span></a><br>This is my website, click the button <a class="btn-beautify " href="https://winfredliu.github.io/gallery/girl/"   title="好看的妹妹"><i class="red outline"></i><span>好看的妹妹</span></a><br>This is my website, click the button <a class="btn-beautify outline" href="https://winfredliu.github.io/gallery/girl/"   title="好看的妹妹"><i class="far fa-hand-point-right"></i><span>好看的妹妹</span></a><br>This is my website, click the button <a class="btn-beautify larger" href="https://winfredliu.github.io/gallery/girl/"   title="好看的妹妹"><i class="far fa-hand-point-right"></i><span>好看的妹妹</span></a></p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% btn &#x27;https://winfredliu.github.io/gallery/girl/&#x27;,好看的妹妹,far fa-hand-point-right,block %&#125;</span><br><span class="line">&#123;% btn &#x27;https://winfredliu.github.io/gallery/girl/&#x27;,好看的妹妹,far fa-hand-point-right,block center  green larger %&#125;</span><br><span class="line">&#123;% btn &#x27;https://winfredliu.github.io/gallery/girl/&#x27;,好看的妹妹,far fa-hand-point-right,block right outline blue  larger %&#125;</span><br></pre></td></tr></table></figure><a class="btn-beautify block" href="https://winfredliu.github.io/gallery/girl/"   title="好看的妹妹"><i class="far fa-hand-point-right"></i><span>好看的妹妹</span></a><a class="btn-beautify block center green larger" href="https://winfredliu.github.io/gallery/girl/"   title="好看的妹妹"><i class="far fa-hand-point-right"></i><span>好看的妹妹</span></a><a class="btn-beautify block right outline blue larger" href="https://winfredliu.github.io/gallery/girl/"   title="好看的妹妹"><i class="far fa-hand-point-right"></i><span>好看的妹妹</span></a><h4 id="inlineImg">inlineImg</h4><p>主题中的图片都是默认以块级元素显示，如果你想以内联元素显示，可以使用这个标签外挂。</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% inlineImg [src] [height] %&#125;</span><br><span class="line"></span><br><span class="line">[src]      :    图片链接</span><br><span class="line">[height]   ：   图片高度限制【可选】</span><br></pre></td></tr></table></figure><div class="note default simple"><p>实例</p></div><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% inlineImg https://i.loli.net/2021/03/19/5M4jUB3ynq7ePgw.png 150px %&#125;</span><br></pre></td></tr></table></figure><p>你看我长得漂亮不</p><p><img src="https://i.loli.net/2021/03/19/2P6ivUGsdaEXSFI.png" alt=""></p><img class="inline-img" src="https://i.loli.net/2021/03/19/5M4jUB3ynq7ePgw.png" style="height:150px"/><h4 id="label">label</h4><p>高亮所需的文字</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% label text color %&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>text</td><td>文字</td></tr><tr><td>color</td><td>【可选】背景颜色，默认为 default default/blue/pink/red/purple/orange/green</td></tr></tbody></table><div class="note default simple"><p>实例</p></div><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">敲黑板&#123;% label 划重点 %&#125;，&#123;% label 网络流行词 blue %&#125;，作为网络语的该词其实和老师当年的&#123;% label 手势动作 pink %&#125;有&#123;% label 异曲同工之妙 red %&#125;，该词常作为标题出现后面还会紧接着其他的信息咨询，意思为&#123;% label 强调 purple %&#125;接下来要说的东西的重要性，起到一定的强调作用，和之前的&#123;% label “前方高能” orange %&#125;一词&#123;% label 意思比较接近 green %&#125;。</span><br></pre></td></tr></table></figure><p>敲黑板<mark class="hl-label default">划重点</mark> ，<mark class="hl-label blue">网络流行词</mark> ，作为网络语的该词其实和老师当年的<mark class="hl-label pink">手势动作</mark> 有<mark class="hl-label red">异曲同工之妙</mark> ，该词常作为标题出现后面还会紧接着其他的信息咨询，意思为<mark class="hl-label purple">强调</mark> 接下来要说的东西的重要性，起到一定的强调作用，和之前的<mark class="hl-label orange">“前方高能”</mark> 一词<mark class="hl-label green">意思比较接近</mark> 。</p><h4 id="timeline">timeline</h4><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% timeline title,color %&#125;</span><br><span class="line">&lt;!-- timeline title --&gt;</span><br><span class="line">xxxxx</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&lt;!-- timeline title --&gt;</span><br><span class="line">xxxxx</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>title</td><td>标题/时间线</td></tr><tr><td>color</td><td>timeline 颜色 default(留空) / blue / pink / red / purple / orange / green</td></tr></tbody></table><div class="note default simple"><p>实例</p></div><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% timeline 2022,pink %&#125;</span><br><span class="line">&lt;!-- timeline 01-02 --&gt;</span><br><span class="line">这是测试页面</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure><div class="timeline pink"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-02</p></div></div><div class='timeline-item-content'><p>这是测试页面</p></div></div></div><h2 id="自定义博客主题三">自定义博客主题三</h2><h3 id="评论">评论</h3><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">通用设置</button></li><li class="tab"><button type="button" data-href="#test1-2">Disqus</button></li><li class="tab"><button type="button" data-href="#test1-3">Twikoo</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p>从3.0.0开始，开启评论需要在comments-use中填写你需要的评论。</p><p>支持双评论显示，只需要配置两个评论（第一个为默认显示）</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">comments:</span></span><br><span class="line">  <span class="comment"># Up to two comments system, the first will be shown as default</span></span><br><span class="line">  <span class="comment"># Choose: Disqus/Disqusjs/Livere/Gitalk/Valine/Waline/Utterances/Facebook Comments/Twikoo/Giscus</span></span><br><span class="line">  <span class="attr">use:</span> <span class="string">Valine,Disqus</span> <span class="comment"># Valine,Disqus</span></span><br><span class="line">  <span class="attr">text:</span> <span class="literal">true</span> <span class="comment"># Display the comment name next to the button</span></span><br><span class="line">  <span class="comment"># lazyload: The comment system will be load when comment element enters the browser&#x27;s viewport.</span></span><br><span class="line">  <span class="comment"># If you set it to true, the comment count will be invalid</span></span><br><span class="line">  <span class="attr">lazyload:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">count:</span> <span class="literal">true</span> <span class="comment"># Display comment count in post&#x27;s top_img</span></span><br><span class="line">  <span class="attr">card_post_count:</span> <span class="literal">false</span> <span class="comment"># Display comment count in Home Page</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>use</td><td>使用的评论（请注意，最多支持两个，如果不需要请留空）注意：双评论不能是 Disqus 和 Disqusjs 一起，由于其共用同一个 ID，会出错</td></tr><tr><td>text</td><td>是否显示评论服务商的名字</td></tr><tr><td>lazyload</td><td>是否为评论开启lazyload，开启后，只有滚动到评论位置时才会加载评论所需要的资源（开启lazyload后，评论数将不显示）</td></tr><tr><td>count</td><td>是否在文章顶部显示评论数 livere、Giscus 和 utterances 不支持评论数显示</td></tr><tr><td>card_post_count</td><td>是否在首页文章卡片显示评论数 gitalk、livere 、Giscus 和 utterances 不支持评论数显示</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p>注册 <a href="ttps://disqus.com">disqus</a>，配置你自己的 disqus，然后在Butterfly里开启它。</p><p>配置教程：<a href="jianshu.com/p/d68de067ea74">配置流程</a></p><p>记得选免费订阅！</p><p>允许访客评论：Settings -&gt; Moderation -&gt; Guest Commenting -&gt; Allow guests to comment (Enable)</p><p>shortname:<br><img src="/img/example3.png" alt="示例图3"></p><p>之后把shortname放在对应位置。</p><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">disqus:</span></span><br><span class="line">  <span class="attr">shortname:</span> <span class="string">winfredliu</span></span><br><span class="line">  <span class="attr">apikey:</span> <span class="comment"># For newest comments widget</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><code>Twikoo</code> 是一个简洁、安全、无后端的静态网站评论系统，基于<code>腾讯云开发</code>。</p><p>具体如何配置评论，请查看 <a href="https://twikoo.js.org/quick-start.html#%E7%8E%AF%E5%A2%83%E5%88%9D%E5%A7%8B%E5%8C%96">Twikoo文档</a></p><p>所以，大家应该知道怎么做吧？</p><p>选择0元套餐的流程如下：<br>进入腾讯云-&gt; 选择最新活动-&gt; 选择云开发 CloudBase <mark class="hl-label blue">0元xx</mark> （具体我忘了，主要这个套餐我订了之后就没出现了，我也无法演示）</p><div class="note info simple"><p>注：如果你的博客评论人数和使用较多（0元每月云存储有5GB，云数据库2GB，云函数使用量1000GBS，每月重置），建议购买资源或自行配置服务器资源。</p></div><p>我是用命令行的形式部署的。</p><p>中间有个指令包下载时间较长，请耐心等待：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\imaegoo\twikoo&gt;yarn install</span><br></pre></td></tr></table></figure><p>部署成功你将看到</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">√ [twikoo] 云函数部署成功！</span><br><span class="line"></span><br><span class="line">i 控制台查看函数详情或创建HTTP 访问服务链接 🔗：https://console.cloud.tencent.com/tcb/scf?envId=test1-2gktnr4k00ee729f&amp;rid=4</span><br><span class="line">i 使用 cloudbase functions:list 命令查看已部署云函数</span><br></pre></td></tr></table></figure><p>接下来，你只需要把获取到的 <code>环境ID (envId)</code> 填写到配置上去就行</p><p>修改 <code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">twikoo:</span></span><br><span class="line">  <span class="attr">envId:</span></span><br><span class="line">  <span class="attr">region:</span></span><br><span class="line">  <span class="attr">visitor:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">option:</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>envId</td><td>环境 ID</td></tr><tr><td>region</td><td>环境地域，默认为 ap-shanghai，如果您的环境地域不是上海，需传此参数</td></tr><tr><td>visitor</td><td>是否显示文章閲读数</td></tr><tr><td>option</td><td>可选配置</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="在线聊天">在线聊天</h3><p>从3.0开始，Butterfly主题内置了多种在綫聊天工具。你可以选择开启一种，方便你与访客的交流。</p><p>你只需要把chat_btn打开就行。</p><p>修改主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Chat Button [recommend]</span></span><br><span class="line"><span class="comment"># It will create a button in the bottom right corner of website, and hide the origin button</span></span><br><span class="line"><span class="attr">chat_btn:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>为了不影响访客的体验，主题提供一个chat_hide_show配置<br>设为true后，使用工具提供的按钮时，只有向上滚动才会显示聊天按钮，向下滚动时会隐藏按钮。</p><p>修改 主题配置文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># The origin chat button is displayed when scrolling up, and the button is hidden when scrolling down</span></span><br><span class="line"><span class="attr">chat_hide_show:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><div class="note info simple"><p>如果使用工具自带的聊天按钮，按钮位置可能会遮挡右下角图标，请配置rightside-bottom调正右下角图标位置</p><p>the position of bottom right button/default unit: px (右下角按钮距离底部的距离/默认单位为px)<br>rightside-bottom</p></div><p>我选择的是daovie这个国内聊天工具，五千人以内免费。</p><h4 id="添加步骤">添加步骤</h4><h5 id="注册daovice账号">注册daovice账号</h5><p>首先需要到 <a href="https://dashboard.daocloud.io/">DaoCloud</a> 注册，登录之后需要进入到<a href="http://dashboard.daovoice.io/get-started">控制台</a></p><div class="note info simple"><p>注意：注册完毕之后找不到你所需的app_id，一定要从上面的控制台进入，创建你的应用。</p></div><h5 id="控制台查看app-id">控制台查看app_id</h5><p>进入到应用之后，点击左边的应用设置 -&gt; 安装到网站 -&gt; 注册用户+匿名用户，下方会看到我们的 app_id 后面需要用到</p><h6 id="聊天样式设置">聊天样式设置</h6><p>找到应用设置 -&gt; 聊天设置，可以进行聊天小图标的设置，设置自己喜欢的颜色和位置。</p><h6 id="主题配置文件修改">主题配置文件修改</h6><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># daovoice</span></span><br><span class="line"><span class="comment"># http://daovoice.io/</span></span><br><span class="line"><span class="attr">daovoice:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">app_id:</span> <span class="string">填自己的app_id</span></span><br></pre></td></tr></table></figure><h3 id="分享">分享</h3><p>默认是<a href="https://github.com/overtrue/share.js/">sharejs</a>，这个就不用管了。</p><h3 id="搜索系统">搜索系统</h3><div class="tabs" id="test2"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test2-1">Algolia</button></li><li class="tab"><button type="button" data-href="#test2-2">本地搜索</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test2-1"><div class="note info simple"><p>记得运行<code>hexo clean</code>和<code>hexo g</code></p></div>1. 你需要安装 [hexo-algolia](https://github.com/oncletom/hexo-algolia)或 [hexo-algoliasearch](https://github.com/LouisBarranqueiro/hexo-algoliasearch)（个人推荐这个，但是这个功能有限,只能搜索文章，要搜索全站内容推荐第一个，但是第一个我没配成功）. 根据它们的说明文档去做相应的配置。<p>网上的教程基本上都是第二个。</p><p><a href="https://blog.ccknbc.cc/posts/hexo-butterfly-algolia/">具体教程</a></p><p>这个比较详细</p><div class="note info simple"><p>记得添加algolia时，是在根目录下的<code>_config.yml</code>中，而不是主题配置文件。</p><p>寻找apikey时，看下图<br><img src="/img/example4.png" alt=""></p><p>点进去之后，再查看<br><img src="/img/example5.png" alt=""></p><p><code>Search-Only API Key</code>在<code>all api keys</code>里，其余的<code>appid</code>,<code>admin api key</code>在这里</p><p>最后看：<br><img src="/img/example6.png" alt=""><br>有你创建的<code>index</code>的<code>api key</code>才是真正的<code>Search-Only API Key</code></p><p>还有在你的电脑里加入关于<code>Search-Only API Key</code>的环境变量</p><ol start="2"><li>修改 <code>主题配置文件</code></li></ol><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">algolia_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hits:</span></span><br><span class="line">    <span class="attr">per_page:</span> <span class="number">6</span></span><br></pre></td></tr></table></figure></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test2-2"><p>个人推荐用这个，那个algolia配置之后感觉还不如这个本地搜索，而且配置algolia花了我整整四个小时。</p><ol><li><p>你需要安装 <a href="https://github.com/wzpan/hexo-generator-search">hexo-generator-search</a>. 根据它的文档去做相应配置。注意格式只支持 xml。<br>具体就是，根目录下输入<code>npm install hexo-generator-search</code>下载需要的插件</p></li><li><p>修改 <code>主题配置文件</code></p></li></ol><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><div class="note info simple"><p>记得运行<code>hexo clean</code>和<code>hexo g</code></p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="网站验证">网站验证</h3><p>如果需要搜索引擎收录网站，可能需要登录对应搜索引擎的管理平台（站点管理）进行提交。<br>各自的验证码可从各自管理平台拿到</p><p>修改 <code>主题配置文件</code><br>我的配置如下：</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">site_verification:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">google-site-verification</span></span><br><span class="line">      <span class="attr">content:</span> <span class="string">&quot;xxxxxxxx&quot;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">baidu-site-verification</span></span><br><span class="line">      <span class="attr">content:</span> <span class="string">&quot;xxxxxxxxxx&quot;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">msvalidate.01</span></span><br><span class="line">      <span class="attr">content:</span> <span class="string">&quot;xxxxxxxxxx&quot;</span></span><br></pre></td></tr></table></figure><p>修改之后,<code>hexo d</code>推送之后再通过各自平台验证（我分别验证了百度，google，bing）。</p><h3 id="分析统计">分析统计</h3><div class="tabs" id="test3"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test3-1">百度统计</button></li><li class="tab"><button type="button" data-href="#test3-2">谷歌分析</button></li><li class="tab"><button type="button" data-href="#test3-3">Microsoft Clarity</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test3-1"><ol><li><p>登录百度统计的<a href="https://tongji.baidu.com/web/welcome/login">官方网站</a><br>注意这里登录建议选择新媒体站长</p></li><li><p>找到你百度统计的统计代码<br><img src="/img/example7.png" alt=""></p></li><li><p>修改<code>主题配置文件</code></p></li></ol><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">baidu_analytics:</span> <span class="string">xxxxxx</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-2"><ol><li><p>登录谷歌分析的官方网站</p></li><li><p>找到你的谷歌分析的跟踪 ID</p></li></ol><div class="note info simple"><p>创建资源时候要选择高级选项，创建Universal Analytics 媒体资源，不创建Google Analytics（分析）4 媒体资源</p><p>详细说明：<br><a href="https://support.google.com/analytics/answer/9539598?hl=zh-Hans">有关跟踪ID的变化</a></p></div><ol start="3"><li>修改<code>主题配置文件</code></li></ol><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">google_analytics:</span> <span class="string">UA-xxxx</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-3"><ol><li><p>登录 Clarity 的官方网站</p></li><li><p>创建 PROJECT</p></li><li><p>找到你的 ID<br><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-clarity-id.png" alt=""></p></li><li><p>修改<code>主题配置文件</code></p></li></ol><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">microsoft_clarity:</span> <span class="string">xxxxxxx</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="广告">广告</h3><div class="note info simple"><p>个人认为没必要</p></div><div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">谷歌广告</button></li><li class="tab"><button type="button" data-href="#test4-2">手动广告配置</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p>主题已集成谷歌广告（自动广告）未开启</p><p>修改 <code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">google_adsense:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">auto_ads:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">js:</span> <span class="string">https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js</span></span><br><span class="line">  <span class="attr">client:</span> <span class="comment"># 填入个人识别码</span></span><br><span class="line">  <span class="attr">enable_page_level_ads:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><p>主题预留了三个位置可供插入广告，分别为主页文章(每三篇文章出现广告)/aside公告之后/文章页打赏之后。<br>把html代码填写到对应的位置<br>修改 <code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Insert ads manually (手動插入廣告)</span></span><br><span class="line"><span class="comment"># ad:</span></span><br><span class="line"><span class="comment">#   index:</span></span><br><span class="line"><span class="comment">#   aside:</span></span><br><span class="line"><span class="comment">#   post:</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="Math数学">Math数学</h3><p>主题作者提供了两种MAth方式，本人没有配置<a href="https://butterfly.js.org/posts/ceeb73f/#Math-%E6%95%B8%E5%AD%B8">MsthJax</a>。</p><p>Katex配置如下：</p><p>首先禁用<code>MathJax</code>（如果你配置过 <code>MathJax</code> 的话），然后修改你的主题配置文件以便加载<code>katex.min.css</code>:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># KaTeX</span></span><br><span class="line"><span class="attr">katex:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">hide_scrollbar:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>你不需要添加<code>katex.min.js</code>来渲染数学方程。相应的你需要卸载你之前的 hexo 的 markdown 渲染器，然后安装其它插件。</p><p>卸载掉 marked 插件，安装 <a href="https://github.com/hexojs/hexo-renderer-markdown-it">hexo-renderer-markdown-it</a></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm un hexo-renderer-marked --save # 如果有安装这个的话，卸载</span><br><span class="line">npm un hexo-renderer-kramed --save # 如果有安装这个的话，卸载</span><br><span class="line"></span><br><span class="line">npm i hexo-renderer-markdown-it --save # 需要安装这个渲染插件</span><br><span class="line">npm install @neilsustc/markdown-it-katex --save #需要安装这个katex插件</span><br></pre></td></tr></table></figure><p>在 hexo 的根目录的 <code>_config.yml</code> 中配置</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">plugins:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">plugin:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">&#x27;@neilsustc/markdown-it-katex&#x27;</span></span><br><span class="line">      <span class="attr">options:</span></span><br><span class="line">        <span class="attr">strict:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h3 id="美化-特效">美化/特效</h3><h4 id="自定义主题色">自定义主题色</h4><p>可以修改大部分UI颜色</p><p>修改 <code>主题配置文件</code>，比如：</p><div class="note info simple"><p>颜色值必须被双引号包裹，就像&quot;#000&quot;而不是#000。否则将会在构建的时候报错！</p></div><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">theme_color:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">main:</span> <span class="string">&quot;#49B1F5&quot;</span></span><br><span class="line">  <span class="attr">paginator:</span> <span class="string">&quot;#00c4b6&quot;</span></span><br><span class="line">  <span class="attr">button_hover:</span> <span class="string">&quot;#FF7242&quot;</span></span><br><span class="line">  <span class="attr">text_selection:</span> <span class="string">&quot;#00c4b6&quot;</span></span><br><span class="line">  <span class="attr">link_color:</span> <span class="string">&quot;#99a9bf&quot;</span></span><br><span class="line">  <span class="attr">meta_color:</span> <span class="string">&quot;#858585&quot;</span></span><br><span class="line">  <span class="attr">hr_color:</span> <span class="string">&quot;#A4D8FA&quot;</span></span><br><span class="line">  <span class="attr">code_foreground:</span> <span class="string">&quot;#F47466&quot;</span></span><br><span class="line">  <span class="attr">code_background:</span> <span class="string">&quot;rgba(27, 31, 35, .05)&quot;</span></span><br><span class="line">  <span class="attr">toc_color:</span> <span class="string">&quot;#00c4b6&quot;</span></span><br><span class="line">  <span class="attr">blockquote_padding_color:</span> <span class="string">&quot;#49b1f5&quot;</span></span><br><span class="line">  <span class="attr">blockquote_background_color:</span> <span class="string">&quot;#49b1f5&quot;</span></span><br><span class="line">  <span class="attr">scrollbar_color:</span> <span class="string">&quot;#49b1f5&quot;</span></span><br></pre></td></tr></table></figure><h4 id="网站背景">网站背景</h4><p>默认显示白色，可设置图片或者颜色</p><p>修改 <code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 图片格式 url(http://xxxxxx.com/xxx.jpg)</span></span><br><span class="line"><span class="comment"># 颜色（HEX值/RGB值/顔色单词/渐变色)</span></span><br><span class="line"><span class="comment"># 留空 不显示背景</span></span><br><span class="line"><span class="attr">background:</span></span><br></pre></td></tr></table></figure><p>留意: 如果你的网站根目录不是’/',使用本地图片时，需加上你的根目录。</p><p>例如：网站是 <a href="https://yoursite.com/blog,%E5%BC%95%E7%94%A8%E4%B8%80%E5%BC%A0img/xx.png%E5%9B%BE%E7%89%87%EF%BC%8C%E5%88%99%E8%AE%BE%E7%BD%AEbackground%E4%B8%BA">https://yoursite.com/blog,引用一张img/xx.png图片，则设置background为</a> `url(/blog/img/xx.png)</p><p>像我的网站根目录就是’/'，<a href="https://winfredliu.github.io/">https://winfredliu.github.io/</a>.</p><p>以下是两种写法：</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">background:&#x27;#49B202&#x27;</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">background:</span> <span class="string">url(https://i.loli.net/2019/09/09/5oDRkWVKctx2b6A.png)</span></span><br></pre></td></tr></table></figure><h4 id="footer背景">footer背景</h4><p>修改<code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Footer Background</span></span><br><span class="line"><span class="attr">footer_bg:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>配置的值</th><th>效果</th></tr></thead><tbody><tr><td>留空/false</td><td>显示默认的顔色</td></tr><tr><td>img链接</td><td>图片的链接，显示所配置的图片</td></tr><tr><td>顔色(HEX值 - #0000FF RGB值 - rgb(0,0,255) 顔色单词 - orange 渐变色 - linear-gradient( 135deg, #E2B0FF 10%, #9F44D3 100%)）</td><td>对应的顔色</td></tr><tr><td>true</td><td>显示跟 top_img 一样</td></tr></tbody></table><h4 id="打字效果">打字效果</h4><p>打字效果<a href="https://github.com/disjukr/activate-power-mod">activate-power-mode</a></p><p>修改<code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Typewriter Effect (打字效果)</span></span><br><span class="line"><span class="comment"># https://github.com/disjukr/activate-power-mode</span></span><br><span class="line"><span class="attr">activate_power_mode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">colorful:</span> <span class="literal">true</span> <span class="comment"># open particle animation (冒光特效)</span></span><br><span class="line">  <span class="attr">shake:</span> <span class="literal">true</span> <span class="comment">#  open shake (抖動特效)</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h4 id="背景特效">背景特效</h4><div class="tabs" id="test5"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test5-1">精止彩带</button></li><li class="tab"><button type="button" data-href="#test5-2">动态彩带</button></li><li class="tab"><button type="button" data-href="#test5-3">canvas-nest</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test5-1"><p>好看的彩带背景，可设置每次刷新更换彩带，或者每次点击更换彩带<br>修改 <code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">canvas_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">size:</span> <span class="number">150</span></span><br><span class="line">  <span class="attr">alpha:</span> <span class="number">0.6</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span></span><br><span class="line">  <span class="attr">click_to_change:</span> <span class="literal">false</span>  <span class="comment">#设置是否每次点击都更换彩带</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment"># false 手机端不显示 true 手机端显示</span></span><br></pre></td></tr></table></figure><p>相关配置可查看<a href="https://github.com/hustcc/ribbon.js">canvas_ribbon</a></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test5-2"><p>好看的彩带背景，会飘动<br>修改 <code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">canvas_fluttering_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment"># false 手机端不显示 true 手机端显示</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test5-3"><p>修改 <code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line">   <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">   <span class="attr">color:</span> <span class="string">&#x27;0,0,255&#x27;</span> <span class="comment">#color of lines, default: &#x27;0,0,0&#x27;; RGB values: (R,G,B).(<span class="doctag">note:</span> use &#x27;,&#x27; to separate.)</span></span><br><span class="line">   <span class="attr">opacity:</span> <span class="number">0.7</span> <span class="comment"># the opacity of line (0~1), default: 0.5.</span></span><br><span class="line">   <span class="attr">zIndex:</span> <span class="number">-1</span> <span class="comment"># z-index property of the background, default: -1.</span></span><br><span class="line">   <span class="attr">count:</span> <span class="number">99</span> <span class="comment"># the number of lines, default: 99.</span></span><br><span class="line">   <span class="attr">mobile:</span> <span class="literal">true</span> <span class="comment"># false 手机端不显示 true 手机端显示</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="鼠标点击效果">鼠标点击效果</h4><div class="tabs" id="test6"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test6-1">烟花</button></li><li class="tab"><button type="button" data-href="#test6-2">爱心</button></li><li class="tab"><button type="button" data-href="#test6-3">文字</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test6-1"><p>zIndex建议只在-1和9999上选<br>-1 代表烟火效果在底部<br>9999 代表烟火效果在前面</p><p>修改 <code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">fireworks:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">9999</span> <span class="comment"># -1 or 9999</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-firewall.gif" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test6-2"><p>修改 <code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 点击出现爱心</span></span><br><span class="line"><span class="attr">click_heart:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/click_love.gif" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test6-3"><p>修改 <code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 点击出现文字，文字可自行修改</span></span><br><span class="line"><span class="attr">ClickShowText:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">text:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">I</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">LOVE</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">YOU</span></span><br><span class="line">  <span class="attr">fontSize:</span> <span class="string">15px</span></span><br><span class="line">  <span class="attr">random:</span> <span class="literal">false</span> <span class="comment"># 文字随机显示</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="页面美化">页面美化</h4><p>会改变ol、ul、h1-h5的样式</p><p>field配置生效的区域</p><ul><li>post 只在文章页生效</li><li>site 在全站生效<br>修改 <code>主题配置文件</code></li></ul><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 美化页面显示</span></span><br><span class="line"><span class="attr">beautify:</span></span><br><span class="line">   <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">   <span class="attr">field:</span> <span class="string">site</span> <span class="comment"># site/post</span></span><br><span class="line">   <span class="attr">title-prefix-icon:</span> <span class="string">&#x27;\f0c1&#x27;</span></span><br><span class="line">   <span class="attr">title-prefix-icon-color:</span> <span class="string">&quot;#F47466&quot;</span></span><br></pre></td></tr></table></figure><p><code>title-prefix-icon</code>填写的是fontawesome的icon的Unicode数。</p><h4 id="自定义字体和字体大小">自定义字体和字体大小</h4><h5 id="全局字体">全局字体</h5><p>可自行设置字体的font-family<br>如不需要配置，请留空</p><p>修改 <code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Global font settings</span></span><br><span class="line"><span class="comment"># Don&#x27;t modify the following settings unless you know how they work (非必要不要修改)</span></span><br><span class="line"><span class="attr">font:</span></span><br><span class="line">  <span class="attr">global-font-size:</span></span><br><span class="line">  <span class="attr">code-font-size:</span></span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">-apple-system,</span> <span class="string">BlinkMacSystemFont,</span> <span class="string">&quot;Segoe UI&quot;</span><span class="string">,</span> <span class="string">&quot;Helvetica Neue&quot;</span><span class="string">,</span> <span class="string">Lato,</span> <span class="string">Roboto,</span> <span class="string">&quot;PingFang SC&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft JhengHei&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft YaHei&quot;</span><span class="string">,</span> <span class="string">sans-serif</span></span><br><span class="line">  <span class="attr">code-font-family:</span> <span class="string">consolas,</span> <span class="string">Menlo,</span> <span class="string">&quot;PingFang SC&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft JhengHei&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft YaHei&quot;</span><span class="string">,</span> <span class="string">sans-serif</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="blog标题字体">blog标题字体</h5><p>可自行设置字体的<code>font-family</code><br>如不需要配置，请留空。<br>如不需要使用网络字体，只需要把font_link留空就行</p><p>修改 <code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Font settings for the site title and site subtitle</span></span><br><span class="line"><span class="comment"># 左上角网站名字 主页居中网站名字</span></span><br><span class="line"><span class="attr">blog_title_font:</span></span><br><span class="line">  <span class="attr">font_link:</span> <span class="string">https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap</span></span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">Titillium</span> <span class="string">Web,</span> <span class="string">&#x27;PingFang SC&#x27;</span><span class="string">,</span> <span class="string">&#x27;Hiragino Sans GB&#x27;</span><span class="string">,</span> <span class="string">&#x27;Microsoft JhengHei&#x27;</span><span class="string">,</span> <span class="string">&#x27;Microsoft YaHei&#x27;</span><span class="string">,</span> <span class="string">sans-serif</span></span><br></pre></td></tr></table></figure><h4 id="网站副标题">网站副标题</h4><p>可设置主页中显示的网站副标题或者喜欢的座右铭。</p><p>修改 <code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 主页subtitle</span></span><br><span class="line"><span class="attr">subtitle:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Typewriter Effect (打字效果)</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># loop (循环打字)</span></span><br><span class="line">  <span class="attr">loop:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># source 调用第三方服务</span></span><br><span class="line">  <span class="comment"># source: false 关闭调用</span></span><br><span class="line">  <span class="comment"># source: 1  调用一言网的一句话（简体） https://hitokoto.cn/</span></span><br><span class="line">  <span class="comment"># source: 2  调用一句网（简体） http://yijuzhan.com/</span></span><br><span class="line">  <span class="comment"># source: 3  调用今日诗词（简体） https://www.jinrishici.com/</span></span><br><span class="line">  <span class="comment"># subtitle 会先显示 source , 再显示 sub 的内容</span></span><br><span class="line">  <span class="attr">source:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># 如果关闭打字效果，subtitle 只会显示 sub 的第一行文字</span></span><br><span class="line">  <span class="attr">sub:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">欢迎来到我的博客</span></span><br><span class="line">  <span class="comment"># &quot;&amp;#44;&quot;表示是逗号</span></span><br></pre></td></tr></table></figure><h4 id="主页top-img显示大小">主页top_img显示大小</h4><p>默认的显示为全屏。site-info的区域会居中显示</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 主页设置</span></span><br><span class="line"><span class="comment"># 默认top_img全屏，site_info在中间</span></span><br><span class="line"><span class="comment"># 使用默认, 都无需填写（建议默认）</span></span><br><span class="line"><span class="attr">index_site_info_top:</span> <span class="comment"># 主页标题距离顶部距离  例如 300px/300em/300rem/10%</span></span><br><span class="line"><span class="attr">index_top_img_height:</span>  <span class="comment">#主页top_img高度 例如 300px/300em/300rem  不能使用百分比</span></span><br></pre></td></tr></table></figure><p>注意：index_top_img_height的值不能使用百分比。<br>2个都不填的话，会使用默认值</p><h4 id="页面加载动画preloader">页面加载动画preloader</h4><p>当进入网页时，因为加载速度的问题，可能会导致top_img图片出现断层显示，或者网页加载不全而出现等待时间，开启preloader后，会显示加载动画，等页面加载完，加载动画会消失。</p><p>修改 <code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 加载动画 Loading Animation</span></span><br><span class="line"><span class="attr">preloader:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="PWA">PWA</h3><p>要为<code>Butterfly</code>配上 <a href="https://en.wikipedia.org/wiki/Progressive_web_application">PWA</a> 特性, 你需要如下几个步骤:</p><ol><li><p>打开 hexo 工作目录</p></li><li><p><code>npm install hexo-offline --save</code> 或者 <code>yarn add hexo-offline</code></p></li><li><p>在根目录创建 <code>hexo-offline.config.cjs</code> 文件，并增加以下内容。</p></li></ol><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// offline config passed to workbox-build.</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">globPatterns</span>: [<span class="string">&#x27;**/*.&#123;js,html,css,png,jpg,gif,svg,webp,eot,ttf,woff,woff2&#125;&#x27;</span>],</span><br><span class="line">  <span class="comment">// 静态文件合集，如果你的站点使用了例如 webp 格式的文件，请将文件类型添加进去。</span></span><br><span class="line">  <span class="attr">globDirectory</span>: <span class="string">&#x27;public&#x27;</span>,</span><br><span class="line">  <span class="attr">swDest</span>: <span class="string">&#x27;public/service-worker.js&#x27;</span>,</span><br><span class="line">  <span class="attr">maximumFileSizeToCacheInBytes</span>: <span class="number">10485760</span>, <span class="comment">// 缓存的最大文件大小，以字节为单位。</span></span><br><span class="line">  <span class="attr">skipWaiting</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">clientsClaim</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">runtimeCaching</span>: [ <span class="comment">// 如果你需要加载 CDN 资源，请配置该选项，如果没有，可以不配置。</span></span><br><span class="line">    <span class="comment">// CDNs - should be CacheFirst, since they should be used specific versions so should not change</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">urlPattern</span>: <span class="regexp">/^https:\/\/cdn\.example\.com\/.*/</span>, <span class="comment">// 可替换成你的 URL</span></span><br><span class="line">      handler: <span class="string">&#x27;CacheFirst&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>更多内容请查看<a href="https://github.com/JLHwung/hexo-offline">hexo-offline</a>的官方文档<br>4. 在<code>主题配置文件</code>中开启 pwa 选项。</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">pwa:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">manifest:</span> <span class="string">/img/pwa/manifest.json</span></span><br><span class="line">  <span class="attr">apple_touch_icon:</span> <span class="string">/img/pwa/apple-touch-icon.png</span></span><br><span class="line">  <span class="attr">favicon_32_32:</span> <span class="string">/img/pwa/32.png</span></span><br><span class="line">  <span class="attr">favicon_16_16:</span> <span class="string">/img/pwa/16.png</span></span><br><span class="line">  <span class="attr">mask_icon:</span> <span class="string">/img/pwa/safari-pinned-tab.svg</span></span><br></pre></td></tr></table></figure><ol start="5"><li>在创建<code>source/</code>目录中创建<code>manifest.json</code>文件。</li></ol><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;name&quot;:</span> <span class="string">&quot;string&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;short_name&quot;:</span> <span class="string">&quot;Junzhou&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;theme_color&quot;:</span> <span class="string">&quot;#49b1f5&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;background_color&quot;:</span> <span class="string">&quot;#49b1f5&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;display&quot;:</span> <span class="string">&quot;standalone&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;scope&quot;:</span> <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;start_url&quot;:</span> <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;icons&quot;:</span> [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;src&quot;:</span> <span class="string">&quot;images/pwaicons/36.png&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;sizes&quot;:</span> <span class="string">&quot;36x36&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;type&quot;:</span> <span class="string">&quot;image/png&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;src&quot;:</span> <span class="string">&quot;images/pwaicons/48.png&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;sizes&quot;:</span> <span class="string">&quot;48x48&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;type&quot;:</span> <span class="string">&quot;image/png&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;src&quot;:</span> <span class="string">&quot;images/pwaicons/72.png&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;sizes&quot;:</span> <span class="string">&quot;72x72&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;type&quot;:</span> <span class="string">&quot;image/png&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;src&quot;:</span> <span class="string">&quot;images/pwaicons/96.png&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;sizes&quot;:</span> <span class="string">&quot;96x96&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;type&quot;:</span> <span class="string">&quot;image/png&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;src&quot;:</span> <span class="string">&quot;images/pwaicons/144.png&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;sizes&quot;:</span> <span class="string">&quot;144x144&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;type&quot;:</span> <span class="string">&quot;image/png&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;src&quot;:</span> <span class="string">&quot;images/pwaicons/192.png&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;sizes&quot;:</span> <span class="string">&quot;192x192&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;type&quot;:</span> <span class="string">&quot;image/png&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;src&quot;:</span> <span class="string">&quot;images/pwaicons/512.png&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;sizes&quot;:</span> <span class="string">&quot;512x512&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;:</span> <span class="string">&quot;image/png&quot;</span></span><br><span class="line">          &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">&quot;splash_pages&quot;:</span> <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>你也可以通过 <a href="https://app-manifest.firebaseapp.com/">Web App Manifest</a>快速创建manifest.json。（Web App Manifest 要求至少包含一个 512<em>512 像素的图标）<br>6. 可以通过<code>Chrome</code>插件<code>Lighthouse</code>检查 PWA 配置是否生效以及配置是否正确。<br>* 打开博客页面<br>* 启动<code>Lighthouse</code>插件 (<code>Lighthouse</code>插件要求至少包含一个 512</em>512 像素的图标)<br>关于 PWA（渐进式增强 Web 应用）的更多内容请参阅 <a href="https://web.dev/themed-omnibox/">Google Tools for Web Developers</a></p><h3 id="字数统计">字数统计</h3><ol><li><p>打开 hexo 工作目录</p></li><li><p><code>npm install hexo-wordcount --save</code> or <code>yarn add hexo-wordcount</code></p></li><li><p>修改 <code>主题配置文件</code>:</p></li></ol><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># wordcount (字數統計)</span></span><br><span class="line"><span class="attr">wordcount:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">post_wordcount:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">min2read:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_wordcount:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="图片大图查看模式">图片大图查看模式</h3><p>如果你并不想为某张图片添加大图查看模式，你可以使用 html 格式引用图片，并为图片添加 no-lightbox class 名。</p><div class="note info simple"><p>只能开启一个</p></div><div class="tabs" id="test6"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test6-1">fancybox</button></li><li class="tab"><button type="button" data-href="#test6-2">medium_zoom</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test6-1"><p>这个是默认开启的<br>修改 <code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># fancybox http://fancyapps.com/fancybox/3/</span></span><br><span class="line"><span class="attr">fancybox:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/fancybox.gif" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test6-2"><p>修改 <code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">medium_zoom:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/medium_zoom.gif" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="Snackbar-弹窗">Snackbar 弹窗</h3><p>Snackbar 弹窗,根据自己爱好开启<br>修改 <code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Snackbar (Toast Notification 彈窗)</span></span><br><span class="line"><span class="comment"># https://github.com/polonel/SnackBar</span></span><br><span class="line"><span class="comment"># position 彈窗位置</span></span><br><span class="line"><span class="comment"># 可選 top-left / top-center / top-right / bottom-left / bottom-center / bottom-right</span></span><br><span class="line"><span class="attr">snackbar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">bottom-left</span></span><br><span class="line">  <span class="attr">bg_light:</span> <span class="string">&#x27;#49b1f5&#x27;</span> <span class="comment"># The background color of Toast Notification in light mode</span></span><br><span class="line">  <span class="attr">bg_dark:</span> <span class="string">&#x27;#121212&#x27;</span> <span class="comment"># The background color of Toast Notification in dark mode</span></span><br></pre></td></tr></table></figure><h3 id="其他配置">其他配置</h3><h4 id="CSS前缀">CSS前缀</h4><p>有些 CSS 并不是所有浏览器都支持，需要增加对应的前缀才会生效。</p><p>开启 <code>css_prefix</code> 后，会自动为一些 CSS 增加前缀。（会增加 20%的体积）</p><p>默认开启</p><p>修改 <code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Add the vendor prefixes to ensure compatibility</span></span><br><span class="line"><span class="attr">css_prefix:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="Open-Graph">Open Graph</h4><p>在 <code>head</code> 里增加一些 meta 资料，例如缩略图、标题、时间等等。当你分享网页到一些平台时，平臺会读取 Open Graph 的内容，展示缩略图，标题等等信息。</p><p>默认开启</p><p>修改 <code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Open graph meta tags</span></span><br><span class="line"><span class="comment"># https://developers.facebook.com/docs/sharing/webmasters/</span></span><br><span class="line"><span class="attr">Open_Graph_meta:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="Instantpage">Instantpage</h4><p>当鼠标悬停到链接上超过 65 毫秒时，Instantpage 会对该链接进行预加载，可以提升访问速度。</p><p>修改<code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># https://instant.page/</span></span><br><span class="line"><span class="comment"># prefetch (預加載)</span></span><br><span class="line"><span class="attr">instantpage:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="Pangu">Pangu</h4><p><code>Pangu</code>它会自动替你在网页中所有的中文字和半形的英文、数字、符号之间插入空白。<br>修改<code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># https://github.com/vinta/pangu.js</span></span><br><span class="line"><span class="comment"># Insert a space between Chinese character and English character (中英文之間添加空格)</span></span><br><span class="line"><span class="attr">pangu:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span> <span class="comment"># site/post</span></span><br></pre></td></tr></table></figure><h3 id="Pjax">Pjax</h3><p>当用户点击链接，通过ajax更新页面需要变化的部分，然后使用HTML5的pushState修改浏览器的URL地址。</p><p>这样可以不用重复加载相同的资源（css/js）， 从而提升网页的加载速度。</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Pjax</span></span><br><span class="line"><span class="comment"># It may contain bugs and unstable, give feedback when you find the bugs.</span></span><br><span class="line"><span class="comment"># https://github.com/MoOx/pjax</span></span><br><span class="line"><span class="attr">pjax:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="comment"># - /music/</span></span><br><span class="line">    <span class="comment"># - /no-pjax/</span></span><br><span class="line">    <span class="comment"># - /movie/</span></span><br></pre></td></tr></table></figure><div class="note info simple"><p>对于一些第三方插件，有些并不支持 pjax 。<br>你可以把网页加入到 <code>exclude</code> 里，这个网页会被 pjax 排除在外。<br>点击该网页会重新加载网站</p><p>使用pjax后，一些自己DIY的js可能会无效，跳转页面时需要重新调用，请参考<a href="https://github.com/MoOx/pjax">Pjax文档</a><br>使用pjax后，一些个别页面加载的js/css，将会改为所有页面都加载</p></div><div class="note info simple"><p>Butterfly的Pjax目前仍有一些问题，请留意</p><ul><li>使用谷歌广告可能会报错（例如自动广告）</li></ul></div><h3 id="Inject">Inject</h3><p>如想添加额外的js/css/meta等等东西，可以在Inject里添加，支持添加到head(<code>&lt;/body&gt;</code>标签之前)和bottom(<code>&lt;/html&gt;</code>标籤之前)。</p><p>请注意：以标准的html格式添加内容</p><p>例如：</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/self.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>留意: 如果你的网站根目录不是’/',使用本地图片时，需加上你的根目录。<br>例如：网站是 <code>https://yoursite.com/blog,引用css/xx.css</code>，则设置为<code>&lt;link rel=&quot;stylesheet&quot; href=&quot;/blog/css/xx.css&quot;&gt;</code></p><h3 id="CDN">CDN</h3><p>配置文件中最后一部分<a href="https://www.cloudflare.com/zh-cn/learning/cdn/what-is-a-cdn/">CDN</a>，里面是主题所引用到的文件，可自行配置CDN。（非必要请勿修改，配置后请确认链接是否能访问）</p><p>以下是一些CDN提供商：</p><ul><li><a href="https://www.jsdelivr.com/">jsdelivr</a></li><li><a href="https://www.bootcdn.cn/">bootcdn</a></li><li><a href="https://cdnjs.com/">cdnjs</a></li></ul><h2 id="进阶教程">进阶教程</h2><h3 id="建议">建议</h3><ol><li>不要把个人需要的文件/图片放在主题source文件夹里，因为在升级主题的过程中，可能会把文件覆盖删除了。<br>在Hexo根目录的source文件夹里，创建一个文件夹来放置个人文件/图片。<br>引用文件直接为/文件夹名称/文件名</li></ol><h3 id="音乐">音乐</h3><p>全局音乐播放设置<br>音乐界面使用插件<code>hexo-tag-aplayer</code></p><p>详细使用方法请参考插件<a href="https://github.com/MoePlayer/hexo-tag-aplayer/blob/master/docs/README-zh_cn.md">文档</a></p><p><a href="https://easyhexo.com/3-Plugins-use-and-config/3-1-hexo-tag-aplayer/">教程</a></p><p>我的做法如下：<br>我使用的是<code>Metingjs</code></p><ol><li>安装<code>hexo-tag-aplayer</code>插件,在博客目录执行</li></ol><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-tag-aplayer -save</span><br></pre></td></tr></table></figure><ol start="2"><li>关闭 asset_inject<br>在<code>Hexo的配置文件</code>中</li></ol><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">aplayer:</span></span><br><span class="line">  <span class="attr">meting:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">asset_inject:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ol start="3"><li>开启主题的aplayerInject<br>在<code>主题配置文件</code>中，enable设为true和per_page设为true</li></ol><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Inject the css and script (aplayer/meting)</span></span><br><span class="line"><span class="attr">aplayerInject:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><ol start="4"><li>插入Aplayer html<br>为了适配hexo-tag-aplayer，主题内置的Meting js 仍为1.2版本，并非最新的2.x版本。</li></ol><p>把aplayer代码插入到主题配置文件的inject.bottom去</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">     <span class="bullet">-</span> <span class="string">&lt;div</span> <span class="string">class=&quot;aplayer</span> <span class="literal">no</span><span class="string">-destroy&quot;</span> <span class="string">data-id=&quot;3136952023&quot;</span> <span class="string">data-server=&quot;netease&quot;</span> <span class="string">data-type=&quot;playlist&quot;</span> <span class="string">data-fixed=&quot;true&quot;</span> <span class="string">data-mini=&quot;false&quot;</span> <span class="string">data-loop=&quot;all&quot;</span> <span class="string">data-listFolded=&quot;false&quot;</span> <span class="string">data-order=&quot;list&quot;</span> <span class="string">data-preload=&quot;none&quot;</span> <span class="string">data-autoplay=&quot;true&quot;</span> <span class="string">muted&gt;&lt;/div&gt;</span></span><br></pre></td></tr></table></figure><p><code>3136952023</code>是id,  <code>neteas</code>是平台，  <code>playlist</code>是类型</p><p>QQ音乐</p><p>搜索歌曲，歌曲地址就是 id ，如果是音乐列表，列表地址就是 id , 同理，歌手也是一样的。</p><p><img src="https://easyhexo.com/assets/img/1.eb1f69ab.png" alt=""></p><p>网易云音乐</p><p>网易云音乐比较实在，直接告诉你 id 是什么了</p><p><img src="/img/example8.png" alt=""></p><p>其他平台的，也是类似，只要花点时间研究一下就能找到。</p><p>详细介绍</p><table><thead><tr><th>选项</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td>必须值</td><td>歌曲 id / 播放列表 id / 相册 id / 搜索关键字</td></tr><tr><td>server</td><td>必须值</td><td>音乐平台: netease , tencent , kugou , xiami , baidu</td></tr><tr><td>type</td><td>必须值</td><td>song , playlist , album , search , artist</td></tr><tr><td>fixed</td><td>false</td><td>开启固定模式</td></tr><tr><td>mini</td><td>false</td><td>开启迷你模式</td></tr><tr><td>loop</td><td>all</td><td>列表循环模式： all , one , none</td></tr><tr><td>order</td><td>list</td><td>列表播放模式： list , random</td></tr><tr><td>volume</td><td>0.7</td><td>播放器音量</td></tr><tr><td>lrctype</td><td>0</td><td>歌词格式类型</td></tr><tr><td>listfolded</td><td>false</td><td>指定音乐播放列表是否折叠</td></tr><tr><td>storagename</td><td>metingjs</td><td>LocalStorage 中存储播放器设定的键名</td></tr><tr><td>autoplay</td><td>true</td><td>自动播放，移动端浏览器暂时不支持此功能</td></tr><tr><td>mutex</td><td>true</td><td>该选项开启时，如果同页面有其他 aplayer 播放，该播放器会暂停</td></tr><tr><td>listmaxheight</td><td>340px</td><td>播放列表的最大长度</td></tr><tr><td>preload</td><td>auto</td><td>音乐文件预载入模式，可选项： none , metadata , auto</td></tr><tr><td>theme</td><td>#ad7a86</td><td>播放器风格色彩设置</td></tr></tbody></table><ol start="5"><li>UI 调整<br>按照上面的步骤设置完成后，浏览器左下角会出现Aplayer。打开文章页面时，你会发现打开Toc目录的按钮被遮挡了。我们需要修改CSS来改变按钮的位置。</li></ol><p>修改<code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">     <span class="bullet">-</span> <span class="string">&#x27;&lt;style type=&quot;text/css&quot;&gt;#toggle-sidebar &#123;bottom: 80px&#125;&lt;/style&gt;&#x27;</span></span><br></pre></td></tr></table></figure><p>最终如下:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">     <span class="bullet">-</span> <span class="string">&#x27;&lt;style type=&quot;text/css&quot;&gt;#toggle-sidebar &#123;bottom: 80px&#125;&lt;/style&gt;&#x27;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">     <span class="bullet">-</span> <span class="string">&lt;div</span> <span class="string">class=&quot;aplayer</span> <span class="literal">no</span><span class="string">-destroy&quot;</span> <span class="string">data-id=&quot;3136952023&quot;</span> <span class="string">data-server=&quot;netease&quot;</span> <span class="string">data-type=&quot;playlist&quot;</span> <span class="string">data-fixed=&quot;true&quot;</span> <span class="string">data-mini=&quot;false&quot;</span> <span class="string">data-loop=&quot;all&quot;</span> <span class="string">data-listFolded=&quot;false&quot;</span> <span class="string">data-order=&quot;list&quot;</span> <span class="string">data-preload=&quot;none&quot;</span> <span class="string">data-autoplay=&quot;true&quot;</span> <span class="string">muted&gt;&lt;/div&gt;</span></span><br></pre></td></tr></table></figure><h3 id="电影">电影</h3><p>电影界面使用了插件 <code>hexo-butterfly-douban</code><br>使用方法请参考插件的<a href="https://github.com/jerryc127/butterfly-plugins/tree/main/hexo-butterfly-douban">文档</a>。</p><p>注意：</p><ol><li>hexo-butterfly-douban 会主动生成页面，所以不需要自己创建（前提是你选择了builtin: true）。</li><li>如遇到无法抓取问题，显示 INFO 0 movies have been loaded in xxx ms, because you are offline or your network is bad<br>请过段时间再试试。</li></ol><p>这个其实就是抓取了你的豆瓣账号上的内容，如果你没有豆瓣账号或你的豆瓣账号为空，那也没什么用。</p><h3 id="说说">说说</h3><p>我采用的是<code>Artitalk</code>来配置的。</p><p>教程如下：</p><ol><li>安裝插件</li></ol><blockquote><p>npm install hexo-butterfly-artitalk</p></blockquote><ol start="2"><li><p>leancloud配置 参考<a href="https://artitalk.js.org/doc.html#%F0%9F%8C%88-leancloud-%E7%9A%84%E7%9B%B8%E5%85%B3%E5%87%86%E5%A4%87">Artitalk 文档 - LeanCloud 的相关准备</a></p></li><li><p>前往 <a href="https://leancloud.app/">LeanCloud</a> 国际版，注册账号。</p></li><li><p>注册完成之后根据 LeanCloud 的提示绑定手机号和邮箱。</p></li><li><p>绑定完成之后点击创建应用，应用名称随意，接着在结构化数据中创建 class，命名为 <code>shuoshuo</code>。</p></li><li><p>在你新建的应用中找到<code>结构化数据</code>下的<code>_User</code>。点击<code>添加行</code>，输入想用的用户名及密码。</p></li><li><p>回到<code>结构化数据</code>中，点击 <code>class</code> 下的 <code>shuoshuo</code>。找到权限，在 <code>Class 访问权限</code>中将 <code>add_fields</code> 以及 <code>create</code> 权限设置为指定用户，输入你刚才输入的用户名会自动匹配。为了安全起见，将 <code>delete</code> 和 <code>update</code> 也设置为跟它们一样的权限。</p></li><li><p>然后新建一个名为<code>atComment</code>的class，权限什么的使用默认的即可。</p></li><li><p>点击 <code>class</code> 下的 <code>_User</code> 添加列，列名称为 <code>img</code>，默认值填上你这个账号想要用的发布说说的头像url，这一项不进行配置，说说头像会显示为默认头像 —— Artitalk 的 logo。</p></li><li><p>在最菜单栏中找到设置-&gt; 应用 keys，记下来 <code>AppID</code> 和 <code>AppKey</code> ，一会会用。</p></li><li><p>最后将 <code>_User</code> 中的权限全部调为指定用户，或者数据创建者，为了保证不被篡改用户数据以达到强制发布说说</p></li><li><p>这几步一定要设置好，才可以保证不被 “闲人” 破解发布说说的验证</p></li><li><p>创建页面source\artitalk\<a href="http://index.md">index.md</a></p></li></ol><p>我的写法如下：</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: artitalk</span><br><span class="line">date: 2022-01-23 22:28:21</span><br><span class="line">type: artitalk</span><br><span class="line"><span class="section">comments: false</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/artitalk&quot;</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;artitalk_main&quot;</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></span><br><span class="line">  new Artitalk(&#123;</span><br><span class="line"><span class="code">    appId: &#x27;EfTHJsYzXKKdIsxz1ibFndD6-MdYXbMMI&#x27;,</span></span><br><span class="line"><span class="code">    appKey: &#x27;WCtHUMA1xWqisTWv1w9Rf0rm&#x27;,</span></span><br><span class="line"><span class="code">    atComment: 1,</span></span><br><span class="line"><span class="code">  &#125;)</span></span><br><span class="line"><span class="code">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><ol start="4"><li>添加配置信息 在 <code>Hexo （根目录下）的配置文件</code> 或者 <code>主题配置文件</code>中添加</li></ol><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Artitalk</span></span><br><span class="line"> <span class="comment"># see https://artitalk.js.org/</span></span><br><span class="line"> <span class="attr">artitalk:</span></span><br><span class="line">   <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">   <span class="attr">appId:</span></span><br><span class="line">   <span class="attr">appKey:</span></span><br><span class="line">   <span class="attr">path:</span></span><br><span class="line">   <span class="attr">js:</span></span><br><span class="line">   <span class="attr">option:</span></span><br><span class="line">   <span class="attr">front_matter:</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>解释</th></tr></thead><tbody><tr><td>appId</td><td>【必须】LeanCloud 创建的应用中的 AppID</td></tr><tr><td>appKey</td><td>【必须】LeanCloud 创建的应用中的 AppKEY</td></tr><tr><td>path</td><td>【可选】Artitalk 的路径名称（默认为 artitalk，生成的页面为 artitalk/index.html）</td></tr><tr><td>js</td><td>【可选】更换 Artitalk 的 js CDN（默认为 <a href="https://cdn.jsdelivr.net/npm/artitalk%EF%BC%89">https://cdn.jsdelivr.net/npm/artitalk）</a></td></tr><tr><td>option</td><td>【可选】Artitalk 需要的额外配置</td></tr><tr><td>front_matter</td><td>【可选】Artitalk 页面的 front_matter 配置</td></tr></tbody></table><h3 id="自定义代码配色">自定义代码配色</h3><p><a href="https://butterfly.js.org/posts/b37b5fe3/">详细教程</a></p><h3 id="自定义侧边栏">自定义侧边栏</h3><p><a href="https://butterfly.js.org/posts/ea33ab97/">详细教程</a></p><h3 id="Icon">Icon</h3><p>Butterfly主题内置了<a href="https://fontawesome.com/">Font Awesome V5</a> 图标，目前已更新到 5.13.0，总共有1,588个免费图标。由于是国外的图标网站，对于国内的一些网站Icon并不支持。如有需要，你可以引入其它的图标服务商。</p><h4 id="iconfont">iconfont</h4><p>国内最出名的莫过于<a href="https://www.iconfont.cn/">iconfont</a>,功能很强大且图标内容很丰富的矢量图标库。很多<code>Font Awesome</code>不支持的图标都可以在这里找到。同时，<code>iconfont</code>支持选择需要的图标生成css链接，减少不必要的CSS加载。</p><p><a href="https://butterfly.js.org/posts/4073eda/#iconfont">详细使用教程</a></p><h3 id="图片压缩">图片压缩</h3><p><a href="https://butterfly.js.org/posts/4073eda/#%E5%9C%96%E7%89%87%E5%A3%93%E7%B8%AE">详细教程</a></p><h3 id="插件推荐">插件推荐</h3><ul><li><a href="https://github.com/rozbo/hexo-abbrlink">hexo-abbrlink</a><br>可以把链接permalink转为数字的插件，配置容易，生成时自动转为数字。</li><li><a href="https://github.com/hexojs/hexo-generator-feed">hexo-generator-feed</a><br>生成RSS文件的插件</li><li><a href="https://github.com/hexojs/hexo-filter-nofollow">hexo-filter-nofollow</a><br>为网站使用到的所有外链添加<code>rel=&quot;noopener external nofollow noreferrer&quot;</code>, 可以有效地加强网站SEO和防止权重流失</li><li><a href="https://github.com/hexojs/hexo-generator-sitemap">hexo-generator-sitemap</a><br>生成sitemap的插件</li><li><a href="https://github.com/coneycode/hexo-generator-baidu-sitemap">hexo-generator-baidu-sitemap</a><br>看名字就知道，是专门为百度生成sitemap的插件</li></ul><h3 id="留言板配置">留言板配置</h3><p>在站点根目录执行</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-butterfly-envelope --save</span><br></pre></td></tr></table></figure><p>安装完成之后打开<code>站点的配置文件</code>或<code>主题的配置文件</code>，添加如下配置</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 留言板</span></span><br><span class="line"><span class="attr">envelope_comment:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">cover:</span> <span class="string">https://ae01.alicdn.com/kf/U5bb04af32be544c4b41206d9a42fcacfd.jpg</span> <span class="comment"># 信笺封面图</span></span><br><span class="line">  <span class="attr">message:</span>  <span class="comment"># 信笺内容，支持多行</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">来自木雁的留言</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想问的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想说的？</span></span><br><span class="line">     <span class="bullet">-</span> <span class="string">有什么想吐槽的？</span></span><br><span class="line">  <span class="attr">bottom:</span> <span class="string">自动书记人偶竭诚为您服务!</span>   <span class="comment"># 信笺结束语，只能单行</span></span><br><span class="line">  <span class="attr">height:</span>                          <span class="comment"># 调整信笺划出高度，默认1050px</span></span><br><span class="line">  <span class="attr">path:</span>                           <span class="comment"># 【可选】comments 的路径名称。默认为 comments ， 生成的页面为 comments/index.html</span></span><br><span class="line">  <span class="attr">front_matter:</span>                    <span class="comment"># 【可选】comments页面的 front_matter 配置</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">留言板</span></span><br><span class="line">    <span class="attr">comments:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">aside:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>最后在站点根目录执行</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new page comments</span><br></pre></td></tr></table></figure><h3 id="主题更新">主题更新</h3><p>了减少升级主题后带来的不便，请使用以下方法（建议，可以不做）。</p><p>在 hexo 的根目录创建一个文件 <code>_config.butterfly.yml</code>，并把主题目录的 <code>_config.yml</code> 内容复制到 <code>_config.butterfly.ym</code>l 去。( 注意: 复製的是主题的 <code>_config.yml</code> ,而不是 hexo 的<code> _config.yml</code>)</p><p>注意： 不要把主题目录的 _config.yml 删掉</p><p>注意： 以后只需要在 <code>_config.butterfly.yml</code>进行配置就行。<br>如果使用了 <code>_config.butterfly.yml</code>， 配置主题的 <code>_config.yml</code> 将不会有效果。</p><p>Hexo会自动合并主题中的<code>_config.yml</code>和 <code>_config.butterfly.yml</code>里的配置，如果存在同名配置，会使用<code>_config.butterfly.yml</code>的配置，其优先度较高。</p><p><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/butterfly-docs-install-suggestion-1.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown基本语法教程</title>
      <link href="/2022/01/18/markdown%E5%AD%A6%E4%B9%A0/"/>
      <url>/2022/01/18/markdown%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<h2 id="标题语法">标题语法</h2><p>创建标题，在单词或短语前添加井号（#）。#的数量代表标题的大小，越多越小</p><h2 id="段落语法">段落语法</h2><p>用空白行来分隔文本，不要用空格（spaces）或制表符（ tabs）缩进段落。</p><h2 id="Markdown换行语法">Markdown换行语法</h2><p>在一行的末尾添加两个或多个空格，然后按回车键,即可创建一个换行</p><h3 id="换行语法的最佳实践">换行语法的最佳实践</h3><p>几乎每个 Markdown 应用程序都支持两个或多个空格进行换行，称为 结尾空格（trailing whitespace) 的方式，但这是有争议的，因为很难在编辑器中直接看到空格，并且很多人在每个句子后面都会有意或无意地添加两个空格。由于这个原因，你可能要使用除结尾空格以外的其它方式来换行。幸运的是，几乎每个 Markdown 应用程序都支持另一种换行方式：HTML 的 <br> 标签。</p><p>为了兼容性，请在行尾添加“结尾空格”或 HTML 的 <br> 标签来实现换行。<br>还有两种其他方式我并不推荐使用。CommonMark 和其它几种轻量级标记语言支持在行尾添加反斜杠 () 的方式实现换行，但是并非所有 Markdown 应用程序都支持此种方式，因此从兼容性的角度来看，不推荐使用。并且至少有两种轻量级标记语言支持无须在行尾添加任何内容，只须键入回车键（return）即可实现换行。</p><h2 id="Markdown-强调语法">Markdown 强调语法</h2><h3 id="粗体">粗体</h3><p>要加粗文本，请在单词或短语的前后各添加两个星号（asterisks）或下划线（underscores）。如需加粗一个单词或短语的中间部分用以表示强调的话，请在要加粗部分的两侧各添加两个星号（asterisks）。</p><h3 id="斜体">斜体</h3><p>要用斜体显示文本，请在单词或短语前后添加一个星号（asterisk）或下划线（underscore）。要斜体突出单词的中间部分，请在字母前后各添加一个星号，中间不要带空格。</p><h3 id="同时粗体-斜体">同时粗体+斜体</h3><p>要同时用粗体和斜体突出显示文本，请在单词或短语的前后各添加三个星号或下划线。要加粗并用斜体显示单词或短语的中间部分，请在要突出显示的部分前后各添加三个星号，中间不要带空格。</p><h2 id="Markdown-引用语法">Markdown 引用语法</h2><p>要创建块引用，请在段落前添加一个 &gt; 符号。<br>举例：</p><blockquote><p>Dorothy followed her through many of the beautiful rooms in her castle.</p></blockquote><h3 id="多个段落的块引用">多个段落的块引用</h3><p>块引用可以包含多个段落。为段落之间的空白行添加一个 &gt; 符号<br>举例：</p><blockquote><p>Dorothy followed her through many of the beautiful rooms in her castle.</p><p>The Witch bade her clean the pots and kettles and sweep the floor and keep the fire fed with wood.</p></blockquote><h3 id="嵌套块引用">嵌套块引用</h3><p>块引用可以嵌套。在要嵌套的段落前添加一个 &gt;&gt; 符号。<br>举例：</p><blockquote><p>Dorothy followed her through many of the beautiful rooms in her castle.</p><blockquote><p>The Witch bade her clean the pots and kettles and sweep the floor and keep the fire fed with wood.</p></blockquote></blockquote><h3 id="带有其他元素的块引用">带有其他元素的块引用</h3><p>块引用可以包含其他 Markdown 格式的元素。并非所有元素都可以使用，你需要进行实验以查看哪些元素有效。<br>举例：</p><blockquote><h4 id="The-quarterly-results-look-great">The quarterly results look great!</h4><ul><li>Revenue was off the chart.</li><li>Profits were higher than ever.</li></ul><p><em>Everything</em> is going according to <strong>plan</strong>.</p></blockquote><h1>Markdown列表语法</h1><p>可以将多个条目组织成有序或无序列表。</p><h3 id="有序列表">有序列表</h3><p>要创建有序列表，请在每个列表项前添加数字并紧跟一个英文句点。数字不必按数学顺序排列，但是列表应当以数字 1 起始。<br>举例：</p><ol><li>First item</li><li>Second item</li><li>Third item<ol><li>Indented item</li><li>Indented item</li></ol></li><li>Fourth item</li></ol><h3 id="无序列表">无序列表</h3><p>要创建无序列表，请在每个列表项前面添加破折号 (-)、星号 (*) 或加号 (+) 。缩进一个或多个列表项可创建嵌套列表。</p><h3 id="在列表中嵌套其他元素">在列表中嵌套其他元素</h3><p>要在保留列表连续性的同时在列表中添加另一种元素，请将该元素缩进四个空格或一个制表符，如下例所示：</p><ul><li><p>This is the first list item.</p></li><li><p>Here’s the second list item.</p><p>I need to add another paragraph below the second list item.</p></li><li><p>And here’s the third list item.</p></li></ul><h4 id="引用块">引用块</h4><ul><li><p>This is the first list item.</p></li><li><p>Here’s the second list item.</p><blockquote><p>A blockquote would look great below the second list item.</p></blockquote></li><li><p>And here’s the third list item.</p></li></ul><h4 id="代码块">代码块</h4><p>代码块通常采用四个空格或一个制表符缩进。当它们被放在列表中时，请将它们缩进八个空格或两个制表符。</p><h2 id="Markdown-代码语法">Markdown 代码语法</h2><p>要将单词或短语表示为代码，请将其包裹在反引号 (`) 中。</p><p>如果你要表示为代码的单词或短语中包含一个或多个反引号，则可以通过将单词或短语包裹在双反引号(``)中。</p><h3 id="代码块-2">代码块</h3><p>要创建代码块，请将代码块的每一行缩进至少四个空格或一个制表符。<br>举例：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>😊</p><h3 id="Markdown-围栏代码块">Markdown 围栏代码块</h3><p>Markdown基本语法允许您通过将行缩进四个空格或一个制表符来创建代码块。如果发现不方便，请尝试使用受保护的代码块。根据Markdown处理器或编辑器的不同，您将在代码块之前和之后的行上使用三个反引号（(```）或三个波浪号（~~~）。</p><h2 id="Markdown分割线语法">Markdown分割线语法</h2><p>要创建分隔线，请在单独一行上使用三个或多个星号 (***)、破折号 (—) 或下划线 (___) ，并且不能包含其他内容。<br>如：</p><hr><hr><hr><h2 id="Markdown-链接语法">Markdown 链接语法</h2><p>链接文本放在中括号内，链接地址放在后面的括号中，链接title可选。</p><p>超链接Markdown语法代码：<a href="%E8%B6%85%E9%93%BE%E6%8E%A5%E5%9C%B0%E5%9D%80" title="超链接title">超链接显示名</a></p><p>对应的HTML代码：<a href="超链接地址" title="超链接title">超链接显示名</a><br>举例：<br>这是一个链接 <a href="https://markdown.com.cn">Markdown语法</a>。</p><h3 id="给链接增加-Title">给链接增加 Title</h3><p>链接title是当鼠标悬停在链接上时会出现的文字，这个title是可选的，它放在圆括号中链接地址后面，跟链接地址之间以空格分隔。<br>举例：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&gt; 这是一个链接 [Markdown语法](https://markdown.com.cn &quot;最好的markdown教程&quot;)。</span><br></pre></td></tr></table></figure><p>这是一个链接 <a href="https://markdown.com.cn" title="最好的markdown教程">Markdown语法</a>。</p><h3 id="网址和Email地址">网址和Email地址</h3><p>使用尖括号可以很方便地把URL或者email地址变成可点击的链接<br>如：<br><a href="https://markdown.com.cn">https://markdown.com.cn</a><br><a href="mailto:fake@example.com">fake@example.com</a></p><h3 id="格式化链接">格式化链接</h3><p>强调链接, 在链接语法前后增加星号。 要将链接表示为代码，请在方括号中添加反引号。<br>举例：<br>I love supporting the <strong><a href="https://eff.org">EFF</a></strong>.<br>This is the <em><a href="https://www.markdownguide.org">Markdown Guide</a></em>.<br>See the section on <a href="#code"><code>code</code></a>.</p><h3 id="引用类型链接">引用类型链接</h3><p>1.放在括号中的标签，其后紧跟一个冒号和至少一个空格（例如[label]:）。<br>2.链接的URL，可以选择将其括在尖括号中。<br>3.链接的可选标题，可以将其括在双引号，单引号或括号中。<br>举例：<br>[1]: <a href="https://en.wikipedia.org/wiki/Hobbit#Lifestyle">https://en.wikipedia.org/wiki/Hobbit#Lifestyle</a><br>[1]: <a href="https://en.wikipedia.org/wiki/Hobbit#Lifestyle">https://en.wikipedia.org/wiki/Hobbit#Lifestyle</a> “Hobbit lifestyles”<br>[1]: <a href="https://en.wikipedia.org/wiki/Hobbit#Lifestyle">https://en.wikipedia.org/wiki/Hobbit#Lifestyle</a> ‘Hobbit lifestyles’<br>[1]: <a href="https://en.wikipedia.org/wiki/Hobbit#Lifestyle">https://en.wikipedia.org/wiki/Hobbit#Lifestyle</a> (Hobbit lifestyles)<br>[1]: <a href="https://en.wikipedia.org/wiki/Hobbit#Lifestyle">https://en.wikipedia.org/wiki/Hobbit#Lifestyle</a> “Hobbit lifestyles”</p><h3 id="注意：">注意：</h3><p>不同的 Markdown 应用程序处理URL中间的空格方式不一样。为了兼容性，请尽量使用%20代替空格。</p><h2 id="Markdown-图片语法">Markdown 图片语法</h2><p>要添加图像，请使用感叹号 (!), 然后在方括号增加替代文本，图片链接放在圆括号里，括号里的链接后可以增加一个可选的图片标题文本。</p><p>插入图片Markdown语法代码：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">\ ![图片alt](图片链接 &quot;图片title&quot;)。</span><br></pre></td></tr></table></figure><p>对应的HTML代码：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img src=&quot;图片链接&quot; alt=&quot;图片alt&quot; title=&quot;图片title&quot;&gt;</span><br></pre></td></tr></table></figure><p>举例：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">![这是图片](/img/a.jpg &quot;风景图&quot;)</span><br></pre></td></tr></table></figure><p><img src="/img/a.jpg" alt="这是图片" title="风景图"></p><h3 id="链接图片">链接图片</h3><p>给图片增加链接，请将图像的Markdown 括在方括号中，然后将链接添加在圆括号中。<br>举例：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[![图片](/img/a.jpg &quot;Shiprock&quot;)](https://markdown.com.cn)</span><br></pre></td></tr></table></figure><p><a href="https://markdown.com.cn"><img src="/img/a.jpg" alt="图片" title="Shiprock"></a></p><h2 id="转义字符语法">转义字符语法</h2><p>要显示原本用于格式化 Markdown 文档的字符，请在字符前面添加反斜杠字符 \ 。<br>举例：<br>* Without the backslash, this would be a bullet in an unordered list.</p><h2 id="Markdown内嵌-HTML-标签">Markdown内嵌 HTML 标签</h2><h3 id="行级內联标签">行级內联标签</h3><p>HTML 的行级內联标签如 <code>&lt;span&gt;、&lt;cite&gt;、&lt;del&gt;</code> 不受限制，可以在 Markdown 的段落、列表或是标题里任意使用。依照个人习惯，甚至可以不用 Markdown 格式，而采用 HTML 标签来格式化。例如：如果比较喜欢 HTML 的 <code>&lt;a&gt;</code> 或 <code>&lt;img&gt;</code> 标签，可以直接使用这些标签，而不用 Markdown 提供的链接或是图片语法。当你需要更改元素的属性时（例如为文本指定颜色或更改图像的宽度），使用 HTML 标签更方便些。</p><p>HTML 行级內联标签和区块标签不同，在內联标签的范围内， Markdown 的语法是可以解析的。<br>举例：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">This **word** is bold. This &lt;em&gt;word&lt;/em&gt; is italic.</span><br></pre></td></tr></table></figure><p>This <strong>word</strong> is bold. This <em>word</em> is italic.</p><h3 id="区块标签">区块标签</h3><p>区块元素──比如 &lt;div&gt;、&lt;table&gt;、&lt;pre&gt;、&lt;p&gt; 等标签，必须在前后加上空行，以便于内容区分。而且这些元素的开始与结尾标签，不可以用 tab 或是空白来缩进。Markdown 会自动识别这区块元素，避免在区块标签前后加上没有必要的 &lt;p&gt; 标签。</p><h2 id="扩展教程">扩展教程</h2><p>markdown扩展语法](<a href="https://markdown.com.cn/extended-syntax/">https://markdown.com.cn/extended-syntax/</a>)</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git学习</title>
      <link href="/2022/01/18/git%E5%AD%A6%E4%B9%A0/"/>
      <url>/2022/01/18/git%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<h2 id="初始化版本库">初始化版本库</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git init </span><br></pre></td></tr></table></figure><h2 id="添加文件">添加文件</h2><p>把一个文件放到Git仓库只需要两步<br>readme.txt内容如下：</p><blockquote><p>Git is a version control system.<br>Git is free software.<br>放在上文git init的目录下.<br>第一步，用命令git add告诉Git，可反复多次使用，添加多个文件,把文件添加到仓库：</p></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git add readme.txt</span><br></pre></td></tr></table></figure><p>第二步，用命令git commit告诉Git，把文件提交到仓库,commit可以一次提交很多文件：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git commit -m &quot;wrote a readme file&quot;</span><br><span class="line">[master (root-commit) eaadf4e] wrote a readme file</span><br><span class="line"> 1 file changed, 2 insertions(+)</span><br><span class="line"> create mode 100644 readme.txt</span><br></pre></td></tr></table></figure><p>简单解释一下git commit命令，-m后面输入的是本次提交的说明，可以输入任意内容，当然最好是有意义的，这样你就能从历史记录里方便地找到改动记录。</p><p>git commit命令执行成功后会告诉你，1 file changed：1个文件被改动（我们新添加的readme.txt文件）；2 insertions：插入了两行内容（readme.txt有两行）</p><h2 id="时空穿梭">时空穿梭</h2><h3 id="修改历史查询">修改历史查询</h3><p>修改readme.txt文件</p><p>改成如下内容：</p><p><code>Git is a distributed version control system. </code></p><p><code>Git is free software.</code></p><p>运行git status命令看看结果</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git status</span><br><span class="line">On branch master</span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span><br><span class="line">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span><br><span class="line">        modified:   readme.txt</span><br><span class="line"></span><br><span class="line">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span><br></pre></td></tr></table></figure><p><code>git status</code>命令可以让我们时刻掌握仓库当前的状态，上面的命令输出告诉我们，<code>readme.txt</code>被修改过了，但还没有准备提交的修改。</p><p>运行<code>git diff</code>查看当前仓库状态。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git diff</span><br><span class="line">diff --git a/readme.txt b/readme.txt</span><br><span class="line">index 07fc819..b18bfcc 100644</span><br><span class="line">--- a/readme.txt</span><br><span class="line">+++ b/readme.txt</span><br><span class="line">@@ -1,2 +1,2 @@</span><br><span class="line">-Git is a version control system</span><br><span class="line">+Git is a distributed version control system.^M</span><br><span class="line"> Git is free software.</span><br><span class="line">\ No newline at end of file</span><br></pre></td></tr></table></figure><p>可以从上面的命令输出看到，我们在第一行添加了一个distributed单词。</p><p>提交修改和提交新文件是一样的两步.</p><h3 id="版本回退">版本回退</h3><p>用<code>git log</code>命令查看历史记录<br>注：<br>和SVN不一样，Git的commit id不是1，2，3……递增的数字，而是一个SHA1计算出来的一个非常大的数字，用十六进制表示。</p><p>Git中，用HEAD表示当前版本，也就是最新的提交1094adb…（注意我的提交ID和你的肯定不一样），上一个版本就是HEAD^，上上一个版本就是HEAD^^，当然往上100个版本写100个^比较容易数不过来，所以写成HEAD~100。</p><p>现在，我们要把当前版本append GPL回退到上一个版本add distributed，就可以使用<code>git reset</code>命令,版本号没必要写全，前几位就可以了，Git会自动去找：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git reset --hard 4439d</span><br><span class="line">HEAD is now at 4439dd9 add distributed</span><br></pre></td></tr></table></figure><p>想恢复到新版本怎么办？找不到新版本的commit id怎么办？<br>Git提供了一个命令git reflog用来记录你的每一次命令：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git reflog</span><br><span class="line">4439dd9 (HEAD -&gt; master) HEAD@&#123;0&#125;: reset: moving to 4439d</span><br><span class="line">daffbfd HEAD@&#123;1&#125;: commit: append GPL</span><br><span class="line">4439dd9 (HEAD -&gt; master) HEAD@&#123;2&#125;: commit: add distributed</span><br><span class="line">0c1e964 HEAD@&#123;3&#125;: commit (initial): write a readme file</span><br></pre></td></tr></table></figure><p>我们可以知道append GPL的commit id是daffbfd</p><h3 id="工作区和暂存区">工作区和暂存区</h3><p>当前我的<code>E:\test</code>就是工作区</p><p>工作区有一个隐藏目录.git，这个不算工作区，而是Git的版本库。</p><p>Git的版本库里存了很多东西，其中最重要的就是称为stage（或者叫index）的暂存区，还有Git为我们自动创建的第一个分支master，以及指向master的一个指针叫HEAD。</p><p>前面讲了我们把文件往Git版本库里添加的时候，是分两步执行的：</p><p>第一步是用git add把文件添加进去，实际上就是把文件修改添加到暂存区；</p><p>第二步是用git commit提交更改，实际上就是把暂存区的所有内容提交到当前分支。</p><p>因为我们创建Git版本库时，Git自动为我们创建了唯一一个master分支，所以，现在，git commit就是往master分支上提交更改。</p><p><code>git status</code>:</p><p>作两次对比，工作区 vs 暂存区 以及 暂存区 vs 仓库，并将两次对比的结果显示在输出中。哪个对比没差别，就不显示。两个对比都没差别，就显示working tree clean。</p><p><code>git diff</code>：</p><ol><li>git diff：是查看working tree与index的差别的。</li><li>git diff --cached：是查看index与repository的差别的。</li><li>git diff HEAD：是查看working tree和repository的差别的。其中：HEAD代表的是最近的一次commit的信息。</li></ol><h3 id="管理修改">管理修改</h3><p>Git跟踪并管理的是修改，而非文件<br>git add放在暂存区之后，如果修改相应文件，应该重新git add 再git commit -m。否则修改的内容不会被提交。</p><h3 id="撤销修改">撤销修改</h3><p><code>git checkout --file</code>可以丢弃工作区的修改<br>命令git checkout – readme.txt意思就是，把readme.txt文件在工作区的修改全部撤销，这里有两种情况：</p><p>一种是readme.txt自修改后还没有被放到暂存区，现在，撤销修改就回到和版本库一模一样的状态；</p><p>一种是readme.txt已经添加到暂存区后，又作了修改，现在，撤销修改就回到添加到暂存区后的状态。</p><p>总之，就是让这个文件回到最近一次git commit或git add时的状态。</p><p>命令git reset HEAD <file>可以把暂存区的修改撤销掉（unstage），重新放回工作区</p><h3 id="删除文件">删除文件</h3><p>一、确实要从版本库中删除该文件，那就用命令<code>git rm</code>删掉，并且<code>git commit</code>：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git rm test.txt</span><br><span class="line">rm &#x27;test.txt&#x27;</span><br><span class="line"></span><br><span class="line">$ git commit -m &quot;remove test.txt&quot;</span><br><span class="line">[master d46f35e] remove test.txt</span><br><span class="line"> 1 file changed, 1 deletion(-)</span><br><span class="line"> delete mode 100644 test.txt</span><br></pre></td></tr></table></figure><p>二、删错了，用git checkout恢复</p><h2 id="远程仓库">远程仓库</h2><p>github创建SSH KEY</p><h3 id="添加远程库">添加远程库</h3><p>先在github上创建一个Git仓库，然后根据github上的提示，在本地仓库运行命令</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git remote add origin git@github.com:winfredliu/learngit.git</span><br></pre></td></tr></table></figure><p>添加后，远程库的名字就是origin，这是Git默认的叫法，也可以改成别的，但是origin这个名字一看就知道是远程库。<br>下一步，就可以把本地库的所有内容推送到远程库上：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git push -u origin main</span><br></pre></td></tr></table></figure><p>把本地库的内容推送到远程，用<code>git push</code>命令，实际上是把当前分支main推送到远程。</p><p>由于远程库是空的，我们第一次推送main分支时，加上了-u参数，Git不但会把本地的main分支内容推送的远程新的main分支，还会把本地的main分支和远程的main分支关联起来，在以后的推送或者拉取时就可以简化命令。<br>从现在起，只要本地作了提交，就可以通过命令：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git push origin main</span><br></pre></td></tr></table></figure><p>把本地main分支的最新修改推送至GitHub.</p><h4 id="删除远程库">删除远程库</h4><p>如果添加的时候地址写错了，或者就是想删除远程库，可以用git remote rm <name>命令。使用前，建议先用git remote -v查看远程库信息，然后，根据名字删除，比如删除origin：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git remote rm origin</span><br></pre></td></tr></table></figure><p>此处的“删除”其实是解除了本地和远程的绑定关系，并不是物理上删除了远程库。远程库本身并没有任何改动。要真正删除远程库，需要登录到GitHub，在后台页面找到删除按钮再删除。</p><h3 id="从远程库克隆">从远程库克隆</h3><p>用<code>git clone</code>把远程库克隆到本地库</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone git@github.com:winfredliu/learngit.git</span><br></pre></td></tr></table></figure><p>GitHub给出的地址不止一个，还可以用https://github.com/winfredliu/learngit.git这样的地址。实际上，Git支持多种协议，默认的git://使用ssh，但也可以使用https等其他协议。</p><p>使用https除了速度慢以外，还有个最大的麻烦是每次推送都必须输入口令，但是在某些只开放http端口的公司内部就无法使用ssh协议而只能用https</p><h2 id="分支管理">分支管理</h2><p>首先，我们创建dev分支，然后切换到dev分支：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git checkout -b dev</span><br><span class="line">Switched to a new branch &#x27;dev&#x27;</span><br></pre></td></tr></table></figure><p><code>git checkout</code>命令加上-b参数表示创建并切换，相当于以下两条命令：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git branch dev</span><br><span class="line">$ git checkout dev</span><br></pre></td></tr></table></figure><p>然后，用<code>git branch</code>命令查看当前分支：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git branch</span><br><span class="line">* dev</span><br><span class="line">  main</span><br></pre></td></tr></table></figure><p>git branch命令会列出所有分支，当前分支前面会标一个*号。<br>现在，我们把dev分支的工作成果合并到main分支</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git merge dev</span><br><span class="line">Updating f92c8e5..a7abaa2</span><br><span class="line">Fast-forward</span><br><span class="line"> readme.txt | 3 ++-</span><br><span class="line"> 1 file changed, 2 insertions(+), 1 deletion(-)</span><br></pre></td></tr></table></figure><p><code>git merge</code>命令用于合并指定分支到当前分支.<br>注意到上面的Fast-forward信息，Git告诉我们，这次合并是“快进模式”，也就是直接把main指向dev的当前提交，所以合并速度非常快。</p><h4 id="删除本地分支">删除本地分支</h4><p>合并完成后，就可以放心地删除dev分支了，<code>git branch -d dev</code>是删除指令：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git branch -d dev</span><br><span class="line">Deleted branch dev (was a7abaa2).</span><br></pre></td></tr></table></figure><p>我们注意到切换分支使用git checkout <branch>.实际上，切换分支这个动作，用switch更科学。因此，最新版本的Git提供了新的<code>git switch</code>命令来切换分支：</p><h4 id="删除远程分支">删除远程分支</h4><p>指令：<code>git push &lt;远程主机名&gt; --detete &lt;删除分支名&gt;</code><br>删除出现如下错误：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git push origin --delete main</span><br><span class="line">To github.com:winfredliu/learngit.git</span><br><span class="line"> ! [remote rejected] main (refusing to delete the current branch: refs/heads/main)</span><br><span class="line">error: failed to push some refs to &#x27;github.com:winfredliu/learngit.git&#x27;</span><br></pre></td></tr></table></figure><p>这是因为在我们的远程仓库中main是默认分支，所以无法删除。所以我们需要将远程仓库中的默认分支改为另外的分支。</p><ol><li>进入github的远程仓库，点击如下界面中的setting</li><li>进入如下界面，再点击branch</li><li>设置branch中的default branch，更改为main之外的分支，这里我设置的master，然后点击一下update后确认。<br>然后再删除。</li></ol><p>创建并切换到新的dev分支，可以使用：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git switch -c dev</span><br></pre></td></tr></table></figure><p>直接切换到已有的master分支，可以使用</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git switch master</span><br></pre></td></tr></table></figure><h3 id="解决冲突">解决冲突</h3><p>参考链接：<a href="https://www.liaoxuefeng.com/wiki/896043488029600/900004111093344" title="廖雪峰的教程-解决分支冲突问题">解决冲突</a></p><p>简要来说，合并分支时，每个分支工作区的文件如果不一致的话就会产生冲突。这个时候要使工作区文件相同。</p><h3 id="分支管理策略">分支管理策略</h3><p>通常，合并分支时，如果可能，Git会用Fast forward模式，但这种模式下，删除分支后，会丢掉分支信息。</p><p>如果要强制禁用Fast forward模式，Git就会在merge时生成一个新的commit，这样，从分支历史上就可以看出分支信息。</p><p>下面我们实战一下–no-ff方式的git merge：</p><p>首先，仍然创建并切换dev分支,修改readme.txt文件，并提交一个新的commit,现在，我们切换回main.</p><p>准备合并dev分支，请注意<code>--no-ff</code>参数，表示禁用<code>Fast forward</code>：</p><p>因为本次合并要创建一个新的commit，所以加上-m参数，把commit描述写进去。</p><h4 id="分支历史变迁">分支历史变迁</h4><p>合并后，我们用git log看看分支历史</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git log --graph --pretty=oneline --abbrev-commit</span><br><span class="line">*   e1e9c68 (HEAD -&gt; master) merge with no-ff</span><br><span class="line">|\  </span><br><span class="line">| * f52c633 (dev) add merge</span><br><span class="line">|/  </span><br><span class="line">*   cf810e4 conflict fixed</span><br></pre></td></tr></table></figure><p><img src="https://s3.bmp.ovh/imgs/2022/01/b7954a837df7139d.png" alt="merge图" title="分支可视图"></p><h3 id="BUG分支">BUG分支</h3><p>当你接到一个修复一个代号101的bug的任务时，很自然地，你想创建一个分支<code>issue-101</code>来修复它，但是，等等，当前正在<code>dev</code>上进行的工作还没有提交：<br>git提供了一个<code>git stash</code>功能，可以把当前工作现场“储藏”起来，等以后恢复现场后继续工作：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git stash</span><br></pre></td></tr></table></figure><p>现在，用<code>git status</code>查看工作区，就是干净的（除非有没有被Git管理的文件），因此可以放心地创建分支来修复bug。</p><p>首先确定要在哪个分支上修复bug，假定需要在main分支上修复，就从main创建临时分支<code>issue-101</code>。</p><p>现在修复bug，需要把“Git is free software …”改为“Git is a free software …”，然后提交</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git add readme.txt </span><br><span class="line">$ git commit -m &quot;fix bug 101&quot;</span><br><span class="line">[issue-101 4c805e2] fix bug 101</span><br><span class="line"> 1 file changed, 1 insertion(+), 1 deletion(-)</span><br></pre></td></tr></table></figure><p>修复完成后，切换到main分支，并完成合并，最后删除<code>issue-101</code>分支.</p><p>修复完BUG后，是时候接着回到<code>dev</code>分支干活了！</p><p>工作区是干净的，刚才的工作现场存到哪去了？用git stash list命令看看：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git stash list</span><br><span class="line">stash@&#123;0&#125;: WIP on main: bd67996 AND simple</span><br></pre></td></tr></table></figure><p>工作现场还在，Git把stash内容存在某个地方了，但是需要恢复一下，有两个办法：</p><p>一是用<code>git stash apply</code>恢复，但是恢复后，stash内容并不删除，你需要用<code>git stash drop</code>来删除；</p><p>另一种方式是用<code>git stash pop</code>，恢复的同时把stash内容也删了：</p><p>举例：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git stash pop</span><br><span class="line">Removing test.txt</span><br><span class="line">On branch main</span><br><span class="line">Your branch is ahead of &#x27;origin/main&#x27; by 2 commits.</span><br><span class="line">  (use &quot;git push&quot; to publish your local commits)</span><br><span class="line"></span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use &quot;git add/rm &lt;file&gt;...&quot; to update what will be committed)</span><br><span class="line">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span><br><span class="line">        deleted:    test.txt</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span><br><span class="line">        img/</span><br><span class="line"></span><br><span class="line">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span><br><span class="line">Dropped refs/stash@&#123;0&#125; (e4765582cca89fa0c52a11ccb8a254d504b3643b)</span><br></pre></td></tr></table></figure><p>你可以多次stash，恢复的时候，先用git stash list查看，然后恢复指定的stash，用命令：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git stash apply stash@&#123;0&#125;</span><br></pre></td></tr></table></figure><p>在main分支上修复了bug后，我们要想一想，dev分支是早期从main分支分出来的，所以，这个bug其实在当前dev分支上也存在。</p><p>那怎么在dev分支上修复同样的bug？重复操作一次，提交不就行了？</p><p>有木有更简单的方法？</p><p>有！</p><p>同样的bug，要在dev上修复，我们只需要把<code>4c805e2 fix bug 101</code>这个提交所做的修改“复制”到dev分支。注意：我们只想复制<code>4c805e2 fix bug 101</code>这个提交所做的修改，并不是把整个main分支merge过来。</p><p>为了方便操作，Git专门提供了一个cherry-pick命令，让我们能复制一个特定的提交到当前分支</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git cherry-pick 4c805e2</span><br></pre></td></tr></table></figure><p>当然要确保当前分支在dev上。</p><h3 id="Feature分支">Feature分支</h3><p>软件开发中，总有无穷无尽的新的功能要不断添加进来。</p><p>添加一个新功能时，你肯定不希望因为一些实验性质的代码，把主分支搞乱了，所以，每添加一个新功能，最好新建一个feature分支，在上面开发，完成后，合并，最后，删除该feature分支。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git switch -c feature-1</span><br><span class="line">git add 某个文件</span><br><span class="line">git commit -m &quot;&quot;</span><br><span class="line">git switch 起始分支</span><br></pre></td></tr></table></figure><p>就在此时，接到上级命令，因经费不足，新功能必须取消！</p><p>Git友情提醒，feature-vulcan分支还没有被合并，如果删除，将丢失掉修改，如果要强行删除，需要使用大写的-D参数。。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git branch -D feature-1</span><br></pre></td></tr></table></figure><h3 id="多人协作">多人协作</h3><p>当你从远程仓库克隆时，实际上Git自动把本地的分支和远程的m分支对应起来了，并且，远程仓库的默认名称是origin。</p><p>要查看远程库的信息，用<code>git remote</code>:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git remote</span><br><span class="line">origin</span><br></pre></td></tr></table></figure><p>或者，用<code>git remote -v</code>显示更详细的信息：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git remote -v</span><br><span class="line">origin  git@github.com:winfredliu/learngit.git (fetch)</span><br><span class="line">origin  git@github.com:winfredliu/learngit.git (push)</span><br></pre></td></tr></table></figure><h4 id="推送分支">推送分支</h4><p>推送分支，就是把该分支上的所有本地提交推送到远程库。推送时，要指定本地分支，这样，Git就会把该分支推送到远程库对应的远程分支上：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git push origin main</span><br></pre></td></tr></table></figure><p>但是，并不是一定要把本地分支往远程推送，那么，哪些分支需要推送，哪些不需要呢？</p><ul><li><p>master分支是主分支，因此要时刻与远程同步；</p></li><li><p>dev分支是开发分支，团队所有成员都需要在上面工作，所以也需要与远程同步；</p></li><li><p>bug分支只用于在本地修复bug，就没必要推到远程了，除非老板要看看你每周到底修复了几个bug；</p></li><li><p>feature分支是否推到远程，取决于你是否和你的小伙伴合作在上面开发。</p></li></ul><h4 id="抓取分支">抓取分支</h4><p>人协作时，大家都会往master和dev分支上推送各自的修改。<br>当你的小伙伴从远程库clone时，默认情况下，你的小伙伴只能看到本地的master分支。<br>现在，你的小伙伴要在dev分支上开发，就必须创建远程origin的dev分支到本地，于是他用这个命令创建本地dev分支：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git checkout -b dev origin/dev</span><br></pre></td></tr></table></figure><p><img src="https://i.bmp.ovh/imgs/2022/01/fc36a49ada8f0283.png" alt="这是图片"><br>注：如上图所示，你test目录下clone，但管理该项目应该在learngit目录下</p><p>现在，他就可以在dev上继续修改，然后，时不时地把dev分支push到远程。你的小伙伴已经向origin/dev分支推送了他的提交，而碰巧你也对同样的文件作了修改，并试图推送。</p><p>推送失败，因为你的小伙伴的最新提交和你试图推送的提交有冲突，解决办法也很简单，Git已经提示我们，先用<code>git pull</code>把最新的提交从origin/dev抓下来，然后，在本地合并，解决冲突，再推送：<br>git pull前，应该指定本地dev分支与远程origin/dev分支的链接，根据提示，设置dev和origin/dev的链接：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git branch --set-upstream-to=origin/dev dev</span><br></pre></td></tr></table></figure><p>再pull.</p><p>这回git pull成功，但是合并有冲突，需要手动解决，解决的方法和分支管理中的解决冲突完全一样。解决后，提交，再push.</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git commit -m &quot;fix env conflict&quot;</span><br><span class="line">[dev 57c53ab] fix env conflict</span><br><span class="line"></span><br><span class="line">$ git push origin dev</span><br><span class="line">Counting objects: 6, done.</span><br><span class="line">Delta compression using up to 4 threads.</span><br><span class="line">Compressing objects: 100% (4/4), done.</span><br><span class="line">Writing objects: 100% (6/6), 621 bytes | 621.00 KiB/s, done.</span><br><span class="line">Total 6 (delta 0), reused 0 (delta 0)</span><br><span class="line">To github.com:michaelliao/learngit.git</span><br><span class="line">   7a5e5dd..57c53ab  dev -&gt; dev</span><br></pre></td></tr></table></figure><h3 id="Rebase">Rebase</h3><p>Git有一种称为rebase的操作，有人把它翻译成“变基”。</p><p>我们输入命令<code>git rebase</code>,原本分叉的提交现在变成一条直线了.这就是rebase操作的特点：把分叉的提交历史“整理”成一条直线，看上去更直观</p><h2 id="标签管理">标签管理</h2><p>发布一个版本时，我们通常先在版本库中打一个标签（tag），这样，就唯一确定了打标签时刻的版本。将来无论什么时候，取某个标签的版本，就是把那个打标签的时刻的历史版本取出来。所以，标签也是版本库的一个快照。</p><p>Git的标签虽然是版本库的快照，但其实它就是指向某个commit的指针（跟分支很像对不对？但是分支可以移动，标签不能移动），所以，创建和删除标签都是瞬间完成的。</p><p>commit号不如tag直观。</p><h3 id="创建标签">创建标签</h3><p>在Git中打标签非常简单，首先，切换到需要打标签的分支上,然后，敲命令<code>git tag &lt;name&gt;</code>就可以打一个新标签：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git tag v1.0</span><br></pre></td></tr></table></figure><p>可以用命令<code>git tag</code>查看所有标签：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git tag</span><br><span class="line">v1.0</span><br></pre></td></tr></table></figure><p>默认标签是打在最新提交的commit上的。有时候，如果忘了打标签，比如，现在已经是周五了，但应该在周一打的标签没有打，怎么办？</p><p>方法是找到历史提交的commit id，然后打上就可以了：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git log --pretty=oneline --abbrev-commit</span><br><span class="line">bd67996 (HEAD -&gt; master, tag: v1.0, origin/master, origin/dev, feature1, dev) AND simple</span><br><span class="line">a7abaa2 branch test</span><br><span class="line">f92c8e5 add test.txt</span><br><span class="line">4439dd9 add distributed</span><br><span class="line">0c1e964 write a readme file</span><br></pre></td></tr></table></figure><p>比方说要对<code>add distributed</code>这次提交打标签，它对应的<code>commit id</code>是<code>4439dd9</code>，敲入命令：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git tag v0.9 4439dd9</span><br></pre></td></tr></table></figure><p>注意，标签不是按时间顺序列出，而是按字母排序的。可以用<code>git show &lt;tagname&gt;</code>查看标签信息：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git show v0.9</span><br><span class="line">commit 4439dd984e2d83ff7c7a70df6d0519eef2600669 (tag: v0.9)</span><br><span class="line">Author: winfredliu &lt;3194769362@qq.com&gt;</span><br><span class="line">Date:   Thu Jan 13 18:31:47 2022 +0800</span><br><span class="line"></span><br><span class="line">    add distributed</span><br><span class="line"></span><br><span class="line">diff --git a/readme.txt b/readme.txt</span><br><span class="line">index 07fc819..b18bfcc 100644</span><br><span class="line">--- a/readme.txt</span><br><span class="line">+++ b/readme.txt</span><br><span class="line">@@ -1,2 +1,2 @@</span><br><span class="line">-Git is a version control system</span><br><span class="line">+Git is a distributed version control system.^M</span><br><span class="line"> Git is free software.</span><br><span class="line">\ No newline at end of file</span><br></pre></td></tr></table></figure><p>还可以创建带有说明的标签，用<code>-a</code>指定标签名，<code>-m</code>指定说明文字：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git tag -a v0.1 -m &quot;version 0.1 released&quot; 0c1e964</span><br></pre></td></tr></table></figure><p>用命令<code>git show &lt;tagname&gt;</code>可以看到说明文字:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tag v0.1</span><br><span class="line">Tagger: winfredliu &lt;3194769362@qq.com&gt;</span><br><span class="line">Date:   Tue Jan 18 20:11:52 2022 +0800</span><br><span class="line"></span><br><span class="line">version 0.1 released</span><br><span class="line"></span><br><span class="line">commit 0c1e9644bed1817dc3671747fd8da4825387bd9a (tag: v0.1)</span><br><span class="line">Author: winfredliu &lt;3194769362@qq.com&gt;</span><br><span class="line">Date:   Thu Jan 13 18:07:40 2022 +0800</span><br><span class="line"></span><br><span class="line">    write a readme file</span><br><span class="line">.......</span><br></pre></td></tr></table></figure><p>注：标签总是和某个commit挂钩。如果这个commit既出现在master分支，又出现在dev分支，那么在这两个分支上都可以看到这个标签。</p><h3 id="操作标签">操作标签</h3><p>如果标签打错了，也可以删除：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git tag -d v0.1</span><br><span class="line">Deleted tag &#x27;v0.1&#x27; (was 2acd0d6)</span><br></pre></td></tr></table></figure><p>因为创建的标签都只存储在本地，不会自动推送到远程。所以，打错的标签可以在本地安全删除。</p><h4 id="推送标签到远程">推送标签到远程</h4><p>如果要推送某个标签到远程，使用命令<code>git push origin &lt;tagname&gt;</code>：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git push origin v1.0</span><br><span class="line">Total 0 (delta 0), reused 0 (delta 0), pack-reused 0</span><br><span class="line">To github.com:winfredliu/learngit.git</span><br><span class="line"> * [new tag]         v1.0 -&gt; v1.0</span><br></pre></td></tr></table></figure><p>或者，一次性推送全部尚未推送到远程的本地标签：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git push origin --tags</span><br><span class="line">Total 0 (delta 0), reused 0 (delta 0), pack-reused 0</span><br><span class="line">To github.com:winfredliu/learngit.git</span><br><span class="line"> * [new tag]         v0.9 -&gt; v0.9</span><br></pre></td></tr></table></figure><h4 id="删除远程标签">删除远程标签</h4><p>如果标签已经推送到远程，要删除远程标签就麻烦一点，先从本地删除：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt;git tag -d v0.9</span><br><span class="line">Deleted tag &#x27;v0.9&#x27; (was 4439dd9)</span><br></pre></td></tr></table></figure><p>然后，从远程删除。删除命令也是push，但是格式如下：</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\test&gt; git push origin :refs/tags/v0.9</span><br><span class="line">To github.com:winfredliu/learngit.git</span><br><span class="line"> - [deleted]         v0.9</span><br></pre></td></tr></table></figure><h2 id="Github删除仓库">Github删除仓库</h2><p>如果我们想要删除Github中没有用的仓库，应该如何去做呢？</p><p>进入到我们需要删除的仓库里面，找到“settings”即仓库设置,<br>然后，在仓库设置里拉到最底部，找到“Danger Zone”即危险区域,<br>点击“Delete this repository”这样就可以删除该仓库了。</p>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
