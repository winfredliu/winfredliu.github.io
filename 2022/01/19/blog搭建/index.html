<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>blog搭建教程 | 木雁之间的博客</title><meta name="keywords" content="butterfly,教程,blog"><meta name="author" content="木雁之间"><meta name="copyright" content="木雁之间"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="基于hexo和butterfly搭建博客的较详细介绍">
<meta property="og:type" content="article">
<meta property="og:title" content="blog搭建教程">
<meta property="og:url" content="https://winfredliu.github.io/2022/01/19/blog%E6%90%AD%E5%BB%BA/index.html">
<meta property="og:site_name" content="木雁之间的博客">
<meta property="og:description" content="基于hexo和butterfly搭建博客的较详细介绍">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://winfredliu.github.io/img/cover1.jpg">
<meta property="article:published_time" content="2022-01-19T14:05:38.145Z">
<meta property="article:modified_time" content="2022-01-25T13:45:15.178Z">
<meta property="article:author" content="木雁之间">
<meta property="article:tag" content="butterfly">
<meta property="article:tag" content="教程">
<meta property="article:tag" content="blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://winfredliu.github.io/img/cover1.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://winfredliu.github.io/2022/01/19/blog%E6%90%AD%E5%BB%BA/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//www.clarity.ms"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="GYl5vuHFiVm14ACBFzavbBv2K8jmuv2jVUbTA5oOHXE"/><meta name="baidu-site-verification" content="code-7fah9bWOCA"/><meta name="msvalidate.01" content="353E6B4F3B3181C0DF59987FEB5CC4EB"/><link rel="manifest" href="/pwa/manifest.json"/><link rel="apple-touch-icon" sizes="180x180" href="/pwa/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/pwa/32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/pwa/16.png"/><link rel="mask-icon" href="/pwa/safari-pinned-tab.svg" color="#5bbad5"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?ed41968fc5a98eec0bd6db0949b7ef93";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-217798011-2"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-217798011-2');
</script><script>(function(c,l,a,r,i,t,y){
    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
})(window, document, "clarity", "script", "aaqriq29pg");</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 木雁之间","link":"链接: ","source":"来源: 木雁之间的博客","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'blog搭建教程',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-01-25 05:45:15'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><style type="text/css">#toggle-sidebar {bottom: 80px}</style><script src="https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget/autoload.js"></script><meta name="generator" content="Hexo 6.0.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">4</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" href="/photo/"><i class="fa-fw fas fa-images"></i><span> Photo</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> Book</span></a></li><li><a class="site-page child" href="/artitalk/"><i class="fa-fw far fa-comments"></i><span> 说说</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> Game</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw far fa-sticky-note"></i><span> 留言板</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/cover1.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">木雁之间的博客</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" href="/photo/"><i class="fa-fw fas fa-images"></i><span> Photo</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> Book</span></a></li><li><a class="site-page child" href="/artitalk/"><i class="fa-fw far fa-comments"></i><span> 说说</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> Game</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw far fa-sticky-note"></i><span> 留言板</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">blog搭建教程</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-01-19T14:05:38.145Z" title="发表于 2022-01-19 06:05:38">2022-01-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-01-25T13:45:15.178Z" title="更新于 2022-01-25 05:45:15">2022-01-25</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%99%E7%A8%8B/">教程</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">15.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>62分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="blog搭建教程"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="第一步">第一步</h2>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Yb411a7ty?from=search&amp;seid=11245991882461293997">参考教程</a></p>
<p>前置教程：您需要</p>
<p>掌握git的基本语法<a class="btn-beautify outline" href="https://winfredliu.github.io/2022/01/18/git%E5%AD%A6%E4%B9%A0/index.html" 
  title="git学习"><i class="far fa-hand-point-right"></i><span>git学习</span></a><br>
熟练使用markdown<a class="btn-beautify " href="https://winfredliu.github.io/2022/01/18/markdown%E5%AD%A6%E4%B9%A0/index.html" 
  title="Markdown 基本语法教程"><i class="far fa-hand-point-right"></i><span>Markdown 基本语法教程</span></a>。</p>
<h3 id="安装node-js">安装node.js</h3>
<p>访问<a href="%5Bnodejs.org%5D(https://nodejs.org/en/)">官网</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/chanyeolchichi/article/details/121348541">教程</a></p>
<p>用<code>npm -v</code>来验证是否安装成功</p>
<h3 id="安装npm的国内镜像源-可选">安装npm的国内镜像源(可选)</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>
<p>之后可将<code>npm</code>命令换为<code>cnpm</code></p>
<p>用<code>cnpm -v</code>来验证是否安装成功</p>
<h3 id="安装博客框架">安装博客框架</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cnpm install -g hexo-cli</span><br></pre></td></tr></table></figure>
<p>用<code>hexo -v</code>来验证是否安装成功</p>
<h3 id="使用hexo框架来搭建博客">使用hexo框架来搭建博客</h3>
<p>在电脑某一目录下，创建blog文件夹，然后在blog目录下运行以下命令</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure>
<p>在本地4000端口来预览搭建的博客。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure>
<h2 id="第二步">第二步</h2>
<p>博客文章在blog-&gt;source-&gt;_posts下</p>
<h3 id="修改博客文章之后">修改博客文章之后</h3>
<p>运行以下命令</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br></pre></td></tr></table></figure>
<h3 id="将博客部署到github上公开使用">将博客部署到github上公开使用</h3>
<p>用户部署个人博客的GitHub仓库命令必须符合规范。<br>
如：<br>
<img src="https://i.bmp.ovh/imgs/2022/01/5148007bd3fbab06.png" alt=""></p>
<h3 id="将博客部署到gitee上公开使用">将博客部署到gitee上公开使用</h3>
<p>用户部署个人博客的Gitee仓库命令必须符合规范。<br>
如：<br>
<img src="https://i.bmp.ovh/imgs/2022/01/2925f2d9a54f0b86.png" alt=""></p>
<h3 id="在目录下安装git插件">在目录下安装git插件</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install  hexo -deploy-git --save</span><br></pre></td></tr></table></figure>
<h3 id="修改-config-yml文件">修改_config.yml文件</h3>
<p>如下图：<br>
<img src="https://i.bmp.ovh/imgs/2022/01/2994ad62386a908c.png" alt=""></p>
<h3 id="推送博客到远端">推送博客到远端</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure>
<h4 id="gitee推动成功之后还要开启静态页面服务">gitee推动成功之后还要开启静态页面服务</h4>
<p>进入码云新建的仓库，开启 Gitee Pages<br>
实名认证之后才可以开通。<br>
审核之后就会出现你博客的网站。</p>
<h2 id="自定义博客主题">自定义博客主题</h2>
<p>运行以下命令</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure>
<p>在_config.yml修改主题<br>
如下图<br>
<img src="https://i.bmp.ovh/imgs/2022/01/bfbbc668ad1fe6f2.png" alt=""><br>
安装以下插件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure>
<p>重新生成文件报错。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">err: YAMLException: end of the stream or a document separator is expected at line 2, column 1:</span><br></pre></td></tr></table></figure>
<p>原因一：md文件在Typora中修改过（编码不正常）。<br>
建议：md最上面加上title并下划线分隔。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: git学习</span><br><span class="line">tag: git</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<h2 id="自定义博客主题一">自定义博客主题一</h2>
<p><a target="_blank" rel="noopener" href="https://butterfly.js.org/">详细教程</a><br>
我的操作如下：</p>
<h3 id="新建页面">新建页面</h3>
<h4 id="标签页">标签页</h4>
<ol>
<li>
<p>前往你的 Hexo 博客的根目录（source目录下）</p>
</li>
<li>
<p>输入hexo new page tags</p>
</li>
<li>
<p>你会找到source/tags/index.md这个文件</p>
</li>
<li>
<p>修改这个文件：</p>
</li>
</ol>
<p>记得添加 type: “tags”</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 标签</span><br><span class="line">date: 2022-01-19 03:41:35</span><br><span class="line"><span class="section">type: &quot;tags&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure>
<h4 id="分类页">分类页</h4>
<ol>
<li>
<p>前往你的 Hexo 博客的根目录</p>
</li>
<li>
<p>输入hexo new page categories</p>
</li>
<li>
<p>你会找到source/categories/index.md这个文件</p>
</li>
<li>
<p>修改这个文件：</p>
</li>
</ol>
<p>记得添加 type: “categories”</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 分类</span><br><span class="line">date: 2022-01-19 04:22:04</span><br><span class="line"><span class="section">type: &quot;categories&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure>
<h4 id="友情链接">友情链接</h4>
<ol>
<li>
<p>前往你的 Hexo 博客的根目录</p>
</li>
<li>
<p>输入 hexo new page link</p>
</li>
<li>
<p>你会找到source/link/index.md这个文件</p>
</li>
<li>
<p>修改这个文件：</p>
</li>
</ol>
<p>记得添加 type: “link”</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 友情链接</span><br><span class="line">date: 2022-01-19 04:24:39</span><br><span class="line"><span class="section">type: &quot;link&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure>
<h3 id="友情链接添加">友情链接添加</h3>
<p>在Hexo博客目录中的source/_data（如果没有 _data 文件夹，请自行创建），创建一个文件link.yml</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="string">友情链接</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">那些人，那些事</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">stevenlin</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://steven900516.github.io/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://steven900516.github.io/img/friend_404.gif</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">lyxのblog</span></span><br></pre></td></tr></table></figure>
<p>name就是名字，link就是点击跳转的链接，avatar就是头像图片<br>
示例：<img src="/img/example1.png" alt=""></p>
<h3 id="友情链接-2">友情链接</h3>
<p>主题内置了一个简单的404页面，在themes/butterfly寻找_config.yml进行修改</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">error_404:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">subtitle:</span> <span class="string">&#x27;页面未找到&#x27;</span></span><br><span class="line">  <span class="attr">background:</span> <span class="string">https://i.loli.net/2020/05/19/aKOcLiyPl2JQdFD.png</span></span><br></pre></td></tr></table></figure>
<h2 id="自定义博客主题二">自定义博客主题二</h2>
<h3 id="front-master">front-master</h3>
<p>Front-matter 是 markdown 文件最上方以 — 分隔的区域，用于指定个别档案的变数。</p>
<p>Page Front-matter 用于页面配置<br>
Post Front-matter 用于文章页配置</p>
<h4 id="Page-Front-matter">Page Front-matter</h4>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">updated:</span><br><span class="line">type:</span><br><span class="line">comments:</span><br><span class="line">description:</span><br><span class="line">keywords:</span><br><span class="line">top<span class="emphasis">_img:</span></span><br><span class="line"><span class="emphasis">mathjax:</span></span><br><span class="line"><span class="emphasis">katex:</span></span><br><span class="line"><span class="emphasis">aside:</span></span><br><span class="line"><span class="emphasis">aplayer:</span></span><br><span class="line"><span class="emphasis">highlight_</span>shrink:</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>具体解释如下：</p>
<table>
<thead>
<tr>
<th>title</th>
<th>【必需】</th>
<th>页面标题</th>
</tr>
</thead>
<tbody>
<tr>
<td>date</td>
<td>【必需】</td>
<td>页面创建日期</td>
</tr>
<tr>
<td>type</td>
<td>【必需】</td>
<td>标签、分类和友情链接三个页面需要配置</td>
</tr>
<tr>
<td>updated</td>
<td>【可选】</td>
<td>页面更新日期</td>
</tr>
<tr>
<td>description</td>
<td>【可选】</td>
<td>页面描述</td>
</tr>
<tr>
<td>keywords</td>
<td>【可选】</td>
<td>页面关键字</td>
</tr>
<tr>
<td>comments</td>
<td>【可选】</td>
<td>显示页面评论模块(默认 true)</td>
</tr>
<tr>
<td>top_img</td>
<td>【可选】</td>
<td>页面顶部图片</td>
</tr>
<tr>
<td>mathjax</td>
<td>【可选】</td>
<td>显示mathjax(当设置mathjax的per_page: false时，才需要配置，默认 false)</td>
</tr>
<tr>
<td>katex</td>
<td>【可选】</td>
<td>显示katex(当设置katex的per_page: false时，才需要配置，默认 false)</td>
</tr>
<tr>
<td>aside</td>
<td>【可选】</td>
<td>显示侧边栏 (默认 true)</td>
</tr>
<tr>
<td>aplayer</td>
<td>【可选】</td>
<td>在需要的页面加载aplayer的js和css,请参考文章下面的音乐 配置</td>
</tr>
<tr>
<td>highlight_shrink</td>
<td>【可选】</td>
<td>配置代码框是否展开(true/false)(默认为设置中highlight_shrink的配置)</td>
</tr>
</tbody>
</table>
<h4 id="Post-Front-matter">Post Front-matter</h4>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">updated:</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">keywords:</span><br><span class="line">description:</span><br><span class="line">top<span class="emphasis">_img:</span></span><br><span class="line"><span class="emphasis">comments:</span></span><br><span class="line"><span class="emphasis">cover:</span></span><br><span class="line"><span class="emphasis">toc:</span></span><br><span class="line"><span class="emphasis">toc_</span>number:</span><br><span class="line">toc<span class="emphasis">_style_</span>simple:</span><br><span class="line">copyright:</span><br><span class="line">copyright<span class="emphasis">_author:</span></span><br><span class="line"><span class="emphasis">copyright_</span>author<span class="emphasis">_href:</span></span><br><span class="line"><span class="emphasis">copyright_</span>url:</span><br><span class="line">copyright<span class="emphasis">_info:</span></span><br><span class="line"><span class="emphasis">mathjax:</span></span><br><span class="line"><span class="emphasis">katex:</span></span><br><span class="line"><span class="emphasis">aplayer:</span></span><br><span class="line"><span class="emphasis">highlight_</span>shrink:</span><br><span class="line"><span class="section">aside:</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>title</th>
<th>【必需】</th>
<th>文章标题</th>
</tr>
</thead>
<tbody>
<tr>
<td>date</td>
<td>【必需】</td>
<td>文章创建日期</td>
</tr>
<tr>
<td>updated</td>
<td>【可选】</td>
<td>文章更新日期</td>
</tr>
<tr>
<td>tags</td>
<td>【可选】</td>
<td>文章标签</td>
</tr>
<tr>
<td>categories</td>
<td>【可选】</td>
<td>文章分类</td>
</tr>
<tr>
<td>keywords</td>
<td>【可选】</td>
<td>文章关键字</td>
</tr>
<tr>
<td>description</td>
<td>【可选】</td>
<td>文章描述</td>
</tr>
<tr>
<td>top_img</td>
<td>【可选】</td>
<td>文章顶部图片</td>
</tr>
<tr>
<td>cover</td>
<td>【可选】</td>
<td>文章缩略图(如果没有设置top_img,文章页顶部将显示缩略图，可设为false/图片地址/留空)</td>
</tr>
<tr>
<td>comments</td>
<td>【可选】</td>
<td>显示文章评论模块(默认 true)</td>
</tr>
<tr>
<td>toc</td>
<td>【可选】</td>
<td>显示文章TOC(默认为设置中toc的enable配置)</td>
</tr>
<tr>
<td>toc_number</td>
<td>【可选】</td>
<td>显示toc_number(默认为设置中toc的number配置)</td>
</tr>
<tr>
<td>toc_style_simple</td>
<td>【可选】</td>
<td>显示 toc 简洁模式</td>
</tr>
<tr>
<td>copyright</td>
<td>【可选】</td>
<td>显示文章版权模块(默认为设置中post_copyright的enable配置)</td>
</tr>
<tr>
<td>copyright_author</td>
<td>【可选】</td>
<td>文章版权模块的文章作者</td>
</tr>
<tr>
<td>copyright_author_href</td>
<td>【可选】</td>
<td>文章版权模块的文章作者链接</td>
</tr>
<tr>
<td>copyright_url</td>
<td>【可选】</td>
<td>文章版权模块的文章连结链接</td>
</tr>
<tr>
<td>copyright_info</td>
<td>【可选】</td>
<td>文章版权模块的版权声明文字</td>
</tr>
<tr>
<td>mathjax</td>
<td>【可选】</td>
<td>显示mathjax(当设置mathjax的per_page: false时，才需要配置，默认 false)</td>
</tr>
<tr>
<td>katex</td>
<td>【可选】</td>
<td>显示katex(当设置katex的per_page: false时，才需要配置，默认 false)</td>
</tr>
<tr>
<td>aplayer</td>
<td>【可选】</td>
<td>在需要的页面加载aplayer的js和css,请参考文章下面的音乐 配置</td>
</tr>
<tr>
<td>highlight_shrink</td>
<td>【可选】</td>
<td>配置代码框是否展开(true/false)(默认为设置中highlight_shrink的配置)</td>
</tr>
<tr>
<td>aside</td>
<td>【可选】</td>
<td>显示侧边栏 (默认 true)</td>
</tr>
</tbody>
</table>
<p>如果要打多个tag的话，做法如下</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">tags: </span><br><span class="line"><span class="bullet">   -</span> blog</span><br><span class="line"><span class="bullet">   -</span> 教程</span><br></pre></td></tr></table></figure>
<h3 id="报错查看">报错查看</h3>
<p><code>hexo g</code>时出现如下错误1</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">INFO  Start processing</span><br><span class="line">ERROR Theme config load failed.</span><br><span class="line">ERROR &#123;</span><br><span class="line">  err: YAMLException: bad indentation of a mapping entry (40:27)</span><br><span class="line"></span><br><span class="line">   37 | #   icon: link || the description</span><br><span class="line">   38 | social:</span><br><span class="line">   39 |    fab fa-github: https://github.com/winfredliu || Github</span><br><span class="line">   40 |    fas fa-envelope: mailto: 3194769362@qq.com || Email</span><br><span class="line">   --------------------------------^</span><br><span class="line">   41 |</span><br><span class="line">   42 | # search (搜索)</span><br></pre></td></tr></table></figure>
<p>你知道怎么错了吗？</p>
<div class="hide-block"><button type="button" class="hide-button" style="">查看答案
    </button><div class="hide-content"><p>从上面可知主题配置文件中第40行出错，查看是否有语法错误或其他错误。<br>
我们查看相关信息发现：<br>
<img src="/img/example2.png" alt=""></p>
<p>我们在<code>mailto:</code>后多加了一个空格。</p>
<p>去掉空格即可</p>
</div></div>
<p><code>hexo g</code>时出现如下错误2</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ERROR RangeError: E:\blog\themes\butterfly\layout\includes\widget\index.pug:33</span><br><span class="line">    31|       !=partial(&#x27;includes/widget/card_tags&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">    32|       !=partial(&#x27;includes/widget/card_archives&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">  &gt; 33|       !=partial(&#x27;includes/widget/card_webinfo&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">    34|       !=partial(&#x27;includes/widget/card_bottom_self&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"></span><br><span class="line">E:\blog\themes\butterfly\layout\includes\widget\card_webinfo.pug:14</span><br><span class="line">    12|         .webinfo-item</span><br><span class="line">    13|           .item-name= _p(&#x27;aside.card_webinfo.runtime.name&#x27;) + &quot; :&quot;</span><br><span class="line">  &gt; 14|           .item-count#runtimeshow(data-publishDate=date_xml(theme.runtimeshow.publish_date))</span><br><span class="line">    15|       if theme.wordcount.enable &amp;&amp; theme.wordcount.total_wordcount</span><br><span class="line">    16|         .webinfo-item</span><br><span class="line">    17|           .item-name=_p(&#x27;aside.card_webinfo.site_wordcount&#x27;) + &quot; :&quot;</span><br></pre></td></tr></table></figure>
<div class="hide-toggle" ><div class="hide-button toggle-title" style=""><i class="fas fa-caret-right fa-fw"></i><span>解决方法</span></div>
    <div class="hide-content"><p>我们可以知道应该是主题配置文件的card_webinfo出错，查看相关信息可知</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">card_webinfo:</span></span><br><span class="line">   <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">   <span class="attr">post_count:</span> <span class="literal">true</span></span><br><span class="line">   <span class="attr">last_push_date:</span> <span class="literal">true</span></span><br><span class="line">   <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br></pre></td></tr></table></figure>
<p>这个webinfo与网站访问人数和运营时间有关，再查看这两个</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">busuanzi:</span></span><br><span class="line">  <span class="attr">site_uv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">site_pv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">page_pv:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Time difference between publish date and now (網頁運行時間)</span></span><br><span class="line"><span class="comment"># Formal: Month/Day/Year Time or Year/Month/Day Time</span></span><br><span class="line"><span class="attr">runtimeshow:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">publish_date:</span> <span class="number">18</span><span class="string">/1/2022</span> <span class="number">20</span><span class="string">:00:00</span></span><br></pre></td></tr></table></figure>
<p>我们可以发现我们的日期格式写错了，更正就可以了。</p>
</div></div>
<h3 id="语言">语言</h3>
<p>修改根目录配置文件 _config.yml</p>
<p>默认语言是 en</p>
<p>主题支持三种语言</p>
<p>default(en)<br>
zh-CN (简体中文)<br>
zh-TW (繁体中文）</p>
<h3 id="网站资料">网站资料</h3>
<p>修改网站各种资料，例如标题、副标题和邮箱等个人资料，请修改博客根目录的_config.yml</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">欢迎来到我的博客</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">&#x27;博客&#x27;</span></span><br><span class="line"><span class="attr">keywords:</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">winfred</span> <span class="string">liu</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://winfredliu.github.io</span></span><br></pre></td></tr></table></figure>
<h3 id="导航菜单">导航菜单</h3>
<p>修改themes/butterfly下的_config.yml（主题配置文件）</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">Home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line"><span class="attr">Archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line"><span class="attr">Tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line"><span class="attr">Categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line"><span class="string">List||fas</span> <span class="attr">fa-list:</span></span><br><span class="line">  <span class="attr">Music:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">  <span class="attr">Movie:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line"><span class="attr">Link:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line"><span class="attr">About:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure>
<p>必须是 /xxx/，后面||分开，然后写图标名。</p>
<p>如果不希望显示图标，图标名可不写。</p>
<p>默认子目录是展开的，如果你想要隐藏，在子目录里添加 hide 。</p>
<p>导航中的文字可自行更改</p>
<p>例如：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">首页:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="string">时间轴:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="string">标签:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="string">分类:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="string">娱乐||fas</span> <span class="string">fa-list||hide:</span></span><br><span class="line">    <span class="attr">Music:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">    <span class="attr">Movie:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line">    <span class="attr">photo:</span> <span class="string">/photo/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-photo</span></span><br><span class="line">  <span class="string">友链:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="string">关于:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure>
<h3 id="代码">代码</h3>
<h4 id="代码高亮主题">代码高亮主题</h4>
<p>Butterfly 支持6种代码高亮样式：</p>
<p>darker<br>
pale night<br>
light<br>
ocean<br>
mac<br>
mac light</p>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">light</span></span><br></pre></td></tr></table></figure>
<h4 id="代码复制功能">代码复制功能</h4>
<p>修改主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_copy:</span> <span class="literal">true</span> <span class="comment"># copy button</span></span><br></pre></td></tr></table></figure>
<h4 id="代码框展开关闭">代码框展开关闭</h4>
<p>在默认情况下，代码框自动展开，可设置是否所有代码框都关闭状态，点击&gt;可展开代码</p>
<ul>
<li>true 全部代码框不展开，需点击&gt;打开</li>
<li>false 代码狂展开，有&gt;点击按钮</li>
<li>none 不显示&gt;按钮</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_shrink:</span> <span class="literal">false</span> <span class="comment"># true: shrink the code blocks / false: expand the code blocks | none: expand code blocks and hide the button</span></span><br></pre></td></tr></table></figure>
<p>注：你也可以在post/page页对应的markdown文件front-matter添加highlight_shrink来独立配置。</p>
<p>当主题配置文件中的 highlight_shrink 设为true时，可在front-matter添加highlight_shrink: false来单独配置文章展开代码框。</p>
<p>当主题配置文件中的 highlight_shrink 设为false时，可在front-matter添加highlight_shrink: true来单独配置文章收缩代码框。</p>
<h4 id="代码换行">代码换行</h4>
<p>在默认情况下，Hexo 在编译的时候不会实现代码自动换行。如果你不希望在代码块的区域里有横向滚动条的话，那么你可以考虑开启这个功能。</p>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">code_word_wrap:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>如果你是使用 highlight 渲染（一般默认是highlight渲染），需要找到你根目录下的 Hexo 配置文件_config.yml，将line_number改成false:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">false</span> <span class="comment"># &lt;- 改这个</span></span><br><span class="line">  <span class="attr">auto_detect:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">tab_replace:</span></span><br></pre></td></tr></table></figure>
<h4 id="代码高度限制">代码高度限制</h4>
<p>可配置代码高度限制，超出的部分会隐藏，并显示展开按钮。</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_height_limit:</span> <span class="number">200</span> <span class="comment"># unit: px</span></span><br></pre></td></tr></table></figure>
<p>注：单位是 px，直接添加数字，如 200</p>
<p>实际限制高度为 highlight_height_limit + 30 px ，多增加 30px 限制，目的是避免代码高度只超出highlight_height_limit 一点时，出现展开按钮，展开没内容。</p>
<p>不适用于隐藏后的代码块（ css 设置 display: none）</p>
<h3 id="社交图标">社交图标</h3>
<p>Butterfly支持 font-awesome v5图标</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">   <span class="attr">fab fa-github:</span> <span class="string">https://github.com/winfredliu</span> <span class="string">||</span> <span class="string">Github</span></span><br><span class="line">   <span class="attr">fas fa-envelope:</span> <span class="string">mailto:3194769362@qq.com</span> <span class="string">||</span> <span class="string">Email</span></span><br></pre></td></tr></table></figure>
<h3 id="主页文章节选-自动节选和文章页description">主页文章节选(自动节选和文章页description)</h3>
<p>因为主题UI的关系，主页文章节选只支持自动节选和文章页description。</p>
<p>在butterfly里，有四种可供选择</p>
<ol>
<li>description： 只显示description</li>
<li>both： 优先选择description，如果没有配置description，则显示自动节选的内容</li>
<li>auto_excerpt：只显示自动节选</li>
<li>false： 不显示文章内容</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">index_post_content:</span></span><br><span class="line">  <span class="attr">method:</span> <span class="number">2</span></span><br><span class="line">  <span class="attr">length:</span> <span class="number">500</span> <span class="comment"># if you set method to 2 or 3, the length need to config</span></span><br></pre></td></tr></table></figure>
<p>description在front-matter里添加</p>
<h3 id="顶部图">顶部图</h3>
<p>如果不要显示顶部图，可直接配置 disable_top_img: true<br>
配置中的值：</p>
<table>
<thead>
<tr>
<th>配置</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>index_img</td>
<td>主页的 top_img</td>
</tr>
<tr>
<td>default_top_img</td>
<td>默认的 top_img，当页面的 top_img 没有配置时，会显示 default_top_img</td>
</tr>
<tr>
<td>archive_img</td>
<td>归档页面的 top_img</td>
</tr>
<tr>
<td>tag_img	tag</td>
<td>子页面 的 默认 top_img</td>
</tr>
<tr>
<td>tag_per_img</td>
<td>tag 子页面的 top_img，可配置每个 tag 的 top_img</td>
</tr>
<tr>
<td>category_img</td>
<td>category 子页面 的 默认 top_img</td>
</tr>
<tr>
<td>category_per_img</td>
<td>category 子页面的 top_img，可配置每个 category 的 top_img</td>
</tr>
</tbody>
</table>
<p>其它页面 （tags/categories/自建页面）和 文章页 的 top_img ，请到对应的 md 页面设置front-matter中的top_img</p>
<p>以上所有的 top_img 可配置以下值</p>
<table>
<thead>
<tr>
<th>配置的值</th>
<th>效果</th>
</tr>
</thead>
<tbody>
<tr>
<td>留空</td>
<td>显示默认的top_img（如有），否则显示默认的颜色（文章页top_img留空的话，会显示 cover 的值）</td>
</tr>
<tr>
<td>img链接</td>
<td>图片的链接，显示所配置的图片</td>
</tr>
<tr>
<td>颜色(  HEX值 - #0000FF   RGB值 - rgb(0,0,255)  颜色单词 - orange    渐变色 - linear-gradient( 135deg, #E2B0FF 10%, #9F44D3 100%)</td>
<td>对应的颜色</td>
</tr>
<tr>
<td>transparent</td>
<td>透明</td>
</tr>
<tr>
<td>false</td>
<td>不显示top_img</td>
</tr>
<tr>
<td>ag_per_img 和 category_per_img 是 3.2.0 新增的内容，可对 tag 和 category 进行单独的配置</td>
<td></td>
</tr>
</tbody>
</table>
<p>并不推荐为每个 tag 和每个 category 都配置不同的顶部图，因为配置太多会拖慢生成速度</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">tag_per_img：</span></span><br><span class="line">  <span class="attr">aplayer:</span> <span class="string">https://xxxxxx.png</span></span><br><span class="line">  <span class="attr">android:</span> <span class="string">ddddddd.png</span></span><br><span class="line">  </span><br><span class="line"><span class="string">category_per_img：</span></span><br><span class="line">  <span class="string">随想:</span> <span class="string">hdhdh.png</span></span><br><span class="line">  <span class="string">推荐:</span> <span class="string">ddjdjdjd.png</span></span><br></pre></td></tr></table></figure>
<h3 id="文章置顶">文章置顶</h3>
<p>【推荐】hexo-generator-index从 2.0.0 开始，已经支持文章置顶功能。你可以直接在文章的front-matter区域里添加sticky: 1属性来把这篇文章置顶。数值越大，置顶的优先级越大。</p>
<h3 id="文章封面">文章封面</h3>
<p>文章的markdown文档上,在Front-matter添加cover,并填上要显示的图片地址。<br>
如果不配置cover,可以设置显示默认的cover.</p>
<p>如果不想在首页显示cover,可以设置为false</p>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">cover:</span></span><br><span class="line">  <span class="comment"># display the cover or not (是否顯示文章封面)</span></span><br><span class="line">  <span class="attr">index_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">aside_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">archives_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># the position of cover in home page (封面顯示的位置)</span></span><br><span class="line">  <span class="comment"># left/right/both</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">both</span></span><br><span class="line">  <span class="comment"># When cover is not set, the default cover is displayed (當沒有設置cover時，默認的封面顯示)</span></span><br></pre></td></tr></table></figure>
<p>当配置多张图片时,会随机选择一张作为cover.此时写法应为</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">default_cover:</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">/img/cover1.jpg</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">/img/cover2.jpg</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">/img/cover3.jpg</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">/img/cover4.jpg</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">/img/cover5.jpg</span></span><br></pre></td></tr></table></figure>
<h3 id="文章页相关配置">文章页相关配置</h3>
<h4 id="文章meta显示">文章meta显示</h4>
<p>这个选项是用来显示文章的相关信息的。</p>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_meta:</span></span><br><span class="line">  <span class="attr">page:</span> <span class="comment"># Home Page</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both 主頁文章日期是創建日或者更新日或都顯示</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">date</span> <span class="comment"># date/relative 顯示日期還是相對日期</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 主頁是否顯示分類</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false 主頁是否顯示標籤</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 顯示描述性文字</span></span><br><span class="line">  <span class="attr">post:</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both 文章頁日期是創建日或者更新日或都顯示</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">date</span> <span class="comment"># date/relative 顯示日期還是相對日期</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 文章頁是否顯示分類</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false 文章頁是否顯示標籤</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 顯示描述性文字</span></span><br></pre></td></tr></table></figure>
<p>主页：<img src="/img/example_page1.png" alt=""><br>
文章页：<img src="/img/example_post1.png" alt=""><br>
date_format 是 3.2.0 新增的内容，配置时间显示明确时间还是相对时间</p>
<h3 id="文章版权">文章版权</h3>
<p>为你的博客文章展示文章版权和许可协议。</p>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">decode:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span></span><br><span class="line">  <span class="attr">license_url:</span> <span class="string">https://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br></pre></td></tr></table></figure>
<p>由于Hexo 4.1开始，默认对网址进行解码，以至于如果是中文网址，会被解码，可设置decode: true来显示中文网址。</p>
<p>如果有文章（例如：转载文章）不需要显示版权，可以在文章Front-matter单独设置</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">copyright:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p>从3.0.0开始，支持对单独文章设置版权信息，可以在文章Front-matter单独设置</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">copyright_author:</span> <span class="string">xxxx</span></span><br><span class="line"><span class="attr">copyright_author_href:</span> <span class="string">https://xxxxxx.com</span></span><br><span class="line"><span class="attr">copyright_url:</span> <span class="string">https://xxxxxx.com</span></span><br><span class="line"><span class="attr">copyright_info:</span> <span class="string">此文章版權歸xxxxx所有，如有轉載，請註明來自原作者</span></span><br></pre></td></tr></table></figure>
<h3 id="文章打赏">文章打赏</h3>
<p>在你每篇文章的结尾，可以添加打赏按钮。相关二维码可以自行配置。</p>
<p>对于没有提供二维码的，可配置一张软件的icon图片，然后在link上添加相应的打赏链接。用户点击图片就会跳转到链接去。</p>
<p>link可以不写，会默认为图片的链接。</p>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">reward:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">QR_code:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">img:</span> <span class="string">/img/wechat.png</span></span><br><span class="line">      <span class="attr">link:</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">微信</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">img:</span> <span class="string">/img/alipay.jpg</span></span><br><span class="line">      <span class="attr">link:</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">支付宝</span></span><br></pre></td></tr></table></figure>
<h3 id="目录">目录</h3>
<p>在文章页，会有一个目录，用于显示TOC。</p>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">post:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">page:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">expand:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">style_simple:</span> <span class="literal">false</span> <span class="comment"># for post</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>属性</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>post</td>
<td>文章页是否显示 TOC</td>
</tr>
<tr>
<td>page</td>
<td>普通页面是否显示 TOC</td>
</tr>
<tr>
<td>number</td>
<td>是否显示章节数</td>
</tr>
<tr>
<td>expand</td>
<td>是否展开 TOC</td>
</tr>
<tr>
<td>style_simple</td>
<td>简洁模式（侧边栏只显示 TOC, 只对文章页有效 ）</td>
</tr>
</tbody>
</table>
<h4 id="为特定的文章配置">为特定的文章配置</h4>
<p>在你的文章md文件的头部，加入toc_number和toc，并配置true或者false即可。</p>
<p>主题会优先判断文章Markdown的Front-matter是否有配置，如有，则以Front-matter的配置为准。否则，以主题配置文件中的配置为准</p>
<h3 id="相关文章">相关文章</h3>
<p>相关文章推荐的原理是根据文章tags的比重来推荐</p>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">related_post:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">3</span> <span class="comment"># Number of posts displayed</span></span><br><span class="line">  <span class="attr">date_type:</span> <span class="string">updated</span> <span class="comment"># or created or updated 文章日期顯示創建日或者更新日</span></span><br></pre></td></tr></table></figure>
<h3 id="文章锚点">文章锚点</h3>
<p>开启文章锚点后，当你在文章页进行滚动时，文章链接会根据标题ID进行替换<br>
(注意: 每替换一次，会留下一个历史记录。所以如果一篇文章有很多锚点的话，网页的历史记录会很多。)</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># anchor</span></span><br><span class="line"><span class="comment"># when you scroll in post, the URL will update according to header id.</span></span><br><span class="line"><span class="attr">anchor:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h3 id="文章过期提醒">文章过期提醒</h3>
<p>可设置是否显示文章过期提醒，以更新时间为基准。</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Displays outdated notice for a post (文章過期提醒)</span></span><br><span class="line"><span class="attr">noticeOutdate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">flat</span> <span class="comment"># style: simple/flat</span></span><br><span class="line">  <span class="attr">limit_day:</span> <span class="number">500</span> <span class="comment"># When will it be shown</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">top</span> <span class="comment"># position: top/bottom</span></span><br><span class="line">  <span class="attr">message_prev:</span> <span class="string">It</span> <span class="string">has</span> <span class="string">been</span></span><br><span class="line">  <span class="attr">message_next:</span> <span class="string">days</span> <span class="string">since</span> <span class="string">the</span> <span class="string">last</span> <span class="string">update,</span> <span class="string">the</span> <span class="string">content</span> <span class="string">of</span> <span class="string">the</span> <span class="string">article</span> <span class="string">may</span> <span class="string">be</span> <span class="string">outdated.</span></span><br></pre></td></tr></table></figure>
<p>limit_day： 距离更新时间多少天才显示文章过期提醒</p>
<p>message_prev ： 天数之前的文字</p>
<p>message_next：天数之后的文字</p>
<p>style: 过期提示的样式选择</p>
<h3 id="文章编辑按钮">文章编辑按钮</h3>
<p>在文章标题旁边显示一个编辑按钮，点击会跳转到对应的链接去。</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_edit:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># url: https://github.com/user-name/repo-name/edit/branch-name/subdirectory-name/</span></span><br><span class="line">  <span class="comment"># For example: https://github.com/jerryc127/butterfly.js.org/edit/main/source/</span></span><br><span class="line">  <span class="attr">url:</span></span><br></pre></td></tr></table></figure>
<h3 id="文章分页按钮">文章分页按钮</h3>
<p>在文章标题旁边显示一个编辑按钮，点击会跳转到对应的链接去。</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># post_pagination (分頁)</span></span><br><span class="line"><span class="comment"># value: 1 || 2 || false</span></span><br><span class="line"><span class="comment"># 1: The &#x27;next post&#x27; will link to old post</span></span><br><span class="line"><span class="comment"># 2: The &#x27;next post&#x27; will link to new post</span></span><br><span class="line"><span class="comment"># false: disable pagination</span></span><br><span class="line"><span class="attr">post_pagination:</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>参数</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>post_pagination: false</td>
<td>关闭分页按钮</td>
</tr>
<tr>
<td>post_pagination: 1</td>
<td>下一篇显示的是旧文章</td>
</tr>
<tr>
<td>post_pagination: 2</td>
<td>下一篇显示的是新文章</td>
</tr>
</tbody>
</table>
<h3 id="头像">头像</h3>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Avatar (頭像)</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="attr">img:</span> <span class="string">/img/avatar.jpg</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h3 id="图片描述">图片描述</h3>
<p>可开启图片Figcaption描述文字显示</p>
<p>优先显示图片的 title 属性，然后是 alt 属性</p>
<p>语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">\ ![图片alt](图片链接 &quot;图片title&quot;)。</span><br></pre></td></tr></table></figure>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">photofigcaption:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h3 id="复制相关配置">复制相关配置</h3>
<p>可配置网站是否可以复制、复制的内容是否添加版权信息</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># copy settings</span></span><br><span class="line"><span class="comment"># copyright: Add the copyright information after copied content (複製的內容後面加上版權信息)</span></span><br><span class="line"><span class="attr">copy:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">copyright:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit_count:</span> <span class="number">50</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>配置</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>enable</td>
<td>是否开启网站复制权限</td>
</tr>
<tr>
<td>copyright</td>
<td>复制的内容后面加上版权信息</td>
</tr>
<tr>
<td>enable</td>
<td>是否开启复制版权信息添加</td>
</tr>
<tr>
<td>limit_count</td>
<td>字数限制，当复制文字大于这个字数限制时，将在复制的内容后面加上版权信息</td>
</tr>
</tbody>
</table>
<h3 id="页面底部设置">页面底部设置</h3>
<h4 id="博客年份">博客年份</h4>
<p>since是一个来展示你站点起始时间的选项。它位于页面的最底部。</p>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">owner:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">since:</span> <span class="number">2022</span></span><br></pre></td></tr></table></figure>
<h4 id="页脚自定义文本">页脚自定义文本</h4>
<p>custom_text是一个给你用来在页脚自定义文本的选项。通常你可以在这里写声明文本等。支持 HTML。</p>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">custom_text:</span> <span class="string">欢迎来到我的博客</span></span><br></pre></td></tr></table></figure>
<p>对于部分人需要写 ICP 的，也可以写在 custom_text里</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">custom_text:</span> <span class="string">&lt;a</span> <span class="string">href=&quot;icp链接&quot;&gt;&lt;img</span> <span class="string">class=&quot;icp-icon&quot;</span> <span class="string">src=&quot;icp图片&quot;&gt;&lt;span&gt;备案号：xxxxxx&lt;/span&gt;&lt;/a&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="右下角按钮">右下角按钮</h3>
<h4 id="简繁转换">简繁转换</h4>
<p>简体繁体互换</p>
<p>右下角会有简繁转换按钮。</p>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">translate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># The text of a button</span></span><br><span class="line">  <span class="attr">default:</span> <span class="string">简</span></span><br><span class="line">  <span class="comment"># the language of website (1 - Traditional Chinese/ 2 - Simplified Chinese）</span></span><br><span class="line">  <span class="attr">defaultEncoding:</span> <span class="number">2</span></span><br><span class="line">  <span class="comment"># Time delay</span></span><br><span class="line">  <span class="attr">translateDelay:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment"># The text of the button when the language is Simplified Chinese</span></span><br><span class="line">  <span class="attr">msgToTraditionalChinese:</span> <span class="string">&#x27;繁&#x27;</span></span><br><span class="line">  <span class="comment"># The text of the button when the language is Traditional Chinese</span></span><br><span class="line">  <span class="attr">msgToSimplifiedChinese:</span> <span class="string">&#x27;简&#x27;</span></span><br></pre></td></tr></table></figure>
<h4 id="夜间模式">夜间模式</h4>
<p>右下角会有夜间模式按钮</p>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># dark mode</span></span><br><span class="line"><span class="attr">darkmode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Toggle Button to switch dark/light mode</span></span><br><span class="line">  <span class="attr">button:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Switch dark/light mode automatically (自動切換 dark mode和 light mode)</span></span><br><span class="line">  <span class="comment"># autoChangeMode: 1  Following System Settings, if the system doesn&#x27;t support dark mode, it will switch dark mode between 6 pm to 6 am</span></span><br><span class="line">  <span class="comment"># autoChangeMode: 2  Switch dark mode between 6 pm to 6 am</span></span><br><span class="line">  <span class="comment"># autoChangeMode: false</span></span><br><span class="line">  <span class="attr">autoChangeMode:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>注：V2.0.0 开始增加一个选项，可开启自动切换light mode 和 dark mode</p>
<p>autoChangeMode: 1 跟随系统而变化，不支持的浏览器/系统将按照时间晚上6点到早上6点之间切换为 dark mode</p>
<p>autoChangeMode: 2 只按照时间 晚上6点到早上6点之间切换为 dark mode,其余时间为light mode</p>
<p>autoChangeMode: false 取消自动切换</p>
<h4 id="阅读模式">阅读模式</h4>
<p>阅读模式下会去掉除文章外的内容，避免干扰阅读。</p>
<p>只会出现在文章页面，右下角会有阅读模式按钮。</p>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">readmode:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h4 id="按钮排序">按钮排序</h4>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Don&#x27;t modify the following settings unless you know how they work (非必要請不要修改 )</span></span><br><span class="line"><span class="comment"># Choose: readmode,translate,darkmode,hideAside,toc,chat,comment</span></span><br><span class="line"><span class="comment"># Don&#x27;t repeat 不要重複</span></span><br><span class="line"><span class="attr">rightside_item_order:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">hide:</span> <span class="comment"># readmode,translate,darkmode,hideAside</span></span><br><span class="line">  <span class="attr">show:</span> <span class="comment"># toc,chat,comment</span></span><br></pre></td></tr></table></figure>
<h3 id="侧边栏设置">侧边栏设置</h3>
<h4 id="侧边排版">侧边排版</h4>
<p>可自行决定哪个项目需要显示，可决定位置，也可以设置不显示侧边栏。</p>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">aside:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hide:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">button:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span> <span class="comment"># display on mobile</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">right</span> <span class="comment"># left or right</span></span><br><span class="line">  <span class="attr">card_author:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">description:</span></span><br><span class="line">    <span class="attr">button:</span></span><br><span class="line">      <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">fab</span> <span class="string">fa-github</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">Follow</span> <span class="string">Me</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://github.com/winfredliu</span></span><br><span class="line">  <span class="attr">card_announcement:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">content:</span> <span class="string">This</span> <span class="string">is</span> <span class="string">my</span> <span class="string">Blog</span></span><br><span class="line">  <span class="attr">card_recent_post:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">5</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">sort:</span> <span class="string">date</span> <span class="comment"># date or updated</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_categories:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">8</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">expand:</span> <span class="string">none</span> <span class="comment"># none/true/false</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_tags:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">40</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">color:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_archives:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">monthly</span> <span class="comment"># yearly or monthly</span></span><br><span class="line">    <span class="attr">format:</span> <span class="string">MMMM</span> <span class="string">YYYY</span> <span class="comment"># eg: YYYY年MM月</span></span><br><span class="line">    <span class="attr">order:</span> <span class="number">-1</span> <span class="comment"># Sort of order. 1, asc for ascending; -1, desc for descending</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">8</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_webinfo:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">post_count:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">last_push_date:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br></pre></td></tr></table></figure>
<h4 id="访问人数-busuanzi-UV-和-PV">访问人数 busuanzi (UV 和 PV)</h4>
<p>访问 busuanzi 的<a target="_blank" rel="noopener" href="http://busuanzi.ibruce.info/">官方网站</a>查看更多的介绍。</p>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">busuanzi:</span></span><br><span class="line">  <span class="attr">site_uv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">site_pv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">page_pv:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h4 id="运行时间">运行时间</h4>
<p>网页已运行时间</p>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Time difference between publish date and now (網頁運行時間)</span></span><br><span class="line"><span class="comment"># Formal: Month/Day/Year Time or Year/Month/Day Time</span></span><br><span class="line"><span class="attr">runtimeshow:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">publish_date:</span> <span class="number">18</span><span class="string">/1/2022</span> <span class="number">20</span><span class="string">:00:00</span></span><br></pre></td></tr></table></figure>
<h4 id="最新评论">最新评论</h4>
<p>注：最新评论只会在刷新时才会去读取，并不会实时变化</p>
<p>由于 API 有 访问次数限制，为了避免调用太多，主题默认存取期限为 10 分钟。也就是说，调用后资料会存在 localStorage 里，10分钟内刷新网站只会去 localStorage 读取资料。 10 分钟期限一过，刷新页面时才会去调取 API 读取新的数据。 （ 3.6.0 新增了 storage 配置，可自行配置缓存时间）<br>
在侧边栏显示最新评论板块</p>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">newest_comments:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">6</span></span><br><span class="line">  <span class="attr">storage:</span> <span class="number">10</span> <span class="comment"># unit: mins, save data to localStorage</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>配置</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>limit</td>
<td>显示的数量</td>
</tr>
<tr>
<td>storage</td>
<td>设置缓存时间，单位 分钟</td>
</tr>
<tr>
<td>avatar</td>
<td>是否显示头像</td>
</tr>
</tbody>
</table>
<h3 id="标签外挂（Tag-Plugins）">标签外挂（Tag Plugins）</h3>
<p>info提示的写法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% note info simple %&#125;</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>
<p>详细写法：</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note simple %&#125;</span><br><span class="line">默认 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default simple %&#125;</span><br><span class="line">default 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary simple %&#125;</span><br><span class="line">primary 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success simple %&#125;</span><br><span class="line">success 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info simple %&#125;</span><br><span class="line">info 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning simple %&#125;</span><br><span class="line">warning 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger simple %&#125;</span><br><span class="line">danger 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><p>标签外挂是Hexo独有的功能，并不是标准的Markdown格式。</p>
<p>以下的写法，只适用于Butterfly主题，用在其它主题上不会有效果，甚至可能会报错。使用前请留意</p>
</div>
<div class="note blue icon simple"><i class="note-icon fab fa-cc-visa"></i><p>标签外挂虽然能为主题带来一些额外的功能和UI方面的强化，但是，标签外挂也有明显的限制，使用时请留意。</p>
</div>
<h4 id="Note-Bootstrap-Callout">Note (Bootstrap Callout)</h4>
<p>移植于next主题，并进行修改。</p>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">note:</span></span><br><span class="line">  <span class="comment"># Note tag style values:</span></span><br><span class="line">  <span class="comment">#  - simple    bs-callout old alert style. Default.</span></span><br><span class="line">  <span class="comment">#  - modern    bs-callout new (v2-v3) alert style.</span></span><br><span class="line">  <span class="comment">#  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span></span><br><span class="line">  <span class="comment">#  - disabled  disable all CSS styles import of note tag.</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">simple</span></span><br><span class="line">  <span class="attr">icons:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">border_radius:</span> <span class="number">3</span></span><br><span class="line">  <span class="comment"># Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span></span><br><span class="line">  <span class="comment"># Offset also applied to label tag variables. This option can work with disabled note tag.</span></span><br><span class="line">  <span class="attr">light_bg_offset:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>用法</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note [class] [no-icon] [style] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>名称</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>color</td>
<td>【可选】颜色(default / blue / pink / red / purple / orange / green)</td>
</tr>
<tr>
<td>icon</td>
<td>【可选】可配置自定义 icon (只支持 fontawesome 图标, 也可以配置no-icon )</td>
</tr>
<tr>
<td>style</td>
<td>【可选】可以覆盖配置中的 style（simple/modern/flat/disabled）</td>
</tr>
</tbody>
</table>
<h4 id="Gallery相册图库">Gallery相册图库</h4>
<p>一个图库集合。</p>
<div class="note info simple"><p>例如我的：</p>
</div>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">markdown 图片格式</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure>
<p>写法</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li>name：图库名字</li>
<li>description：图库描述</li>
<li>link：连接到对应相册的地址</li>
<li>img-url：图库封面的地址</li>
</ul>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup &#x27;OH MY GIRL&#x27; &#x27;OH MY GIRL的图片（对没错，是网图）&#x27; &#x27;/gallery/girl&#x27; https://i.loli.net/2019/12/25/hOqbQ3BIwa6KWpo.jpg %&#125;</span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h4 id="Gallery相冊">Gallery相冊</h4>
<p>写法：</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">markdown 图片格式</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure>
<div class="note info simple"><p>例如：</p>
</div>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">![](https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg)</span><br><span class="line">![](https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg)</span><br><span class="line">![](https://i.loli.net/2019/12/25/gEy5Zc1Ai6VuO4N.jpg)</span><br><span class="line">![](https://i.loli.net/2019/12/25/d6QHbytlSYO4FBG.jpg)</span><br><span class="line">![](https://i.loli.net/2019/12/25/6nepIJ1xTgufatZ.jpg)</span><br><span class="line">![](https://i.loli.net/2019/12/25/E7Jvr4eIPwUNmzq.jpg)</span><br><span class="line">![](https://i.loli.net/2019/12/25/mh19anwBSWIkGlH.jpg)</span><br><span class="line">![](https://i.loli.net/2019/12/25/2tu9JC8ewpBFagv.jpg)</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure>
<h4 id="tag-hide">tag-hide</h4>
<div class="note info simple"><p>请注意，tag-hide内的标签外挂content内都不建议有h1 - h6 等标题。因为Toc会把隐藏内容标题也显示出来，而且当滚动屏幕时，如果隐藏内容没有显示出来，会导致Toc的滚动出现异常。</p>
</div>
<p>如果你想把一些文字、内容隐藏起来，并提供按钮让用户点击显示。可以使用这个标签外挂。</p>
<p>有以下三种方式：</p>
<h5 id="inline">inline</h5>
<p>inline 在文本里面添加按钮隐藏内容，只限文字</p>
<p>( content不能包含英文逗号，可用‚)</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% hideInline content,display,bg,color %&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>content: 文本内容</p>
</li>
<li>
<p>display: 按钮显示的文字(可选)</p>
</li>
<li>
<p>bg: 按钮的背景颜色(可选)</p>
</li>
<li>
<p>color: 按钮文字的颜色(可选)</p>
</li>
</ul>
<div class="note default simple"><p>实例</p>
</div>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">你帅（美）吗？ &#123;% hideInline 还行,点击查看答案,#FF7242,#fff %&#125;</span><br><span class="line">挥手告别  &#123;% hideInline 军 %&#125;</span><br></pre></td></tr></table></figure>
<p>你帅（美）吗？ <span class="hide-inline"><button type="button" class="hide-button" style="background-color: #FF7242;color: #fff">点击查看答案
  </button><span class="hide-content">还行</span></span><br>
挥手告别  <span class="hide-inline"><button type="button" class="hide-button" style="">Click
  </button><span class="hide-content">军</span></span></p>
<h5 id="block">block</h5>
<p>block独立的block隐藏内容，可以隐藏很多内容，包括图片，代码块等等</p>
<p>( display 不能包含英文逗号，可用‚)</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% hideBlock display,bg,color %&#125;</span><br><span class="line">content</span><br><span class="line">&#123;% endhideBlock %&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>content: 文本内容</li>
<li>display: 按钮显示的文字(可选)</li>
<li>bg: 按钮的背景颜色(可选)</li>
<li>color: 按钮文字的颜色(可选)</li>
</ul>
<div class="note default simple"><p>实例</p>
</div>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">还有比你更帅（美）的人吗？</span><br><span class="line">&#123;% hideBlock 查看答案 %&#125;</span><br><span class="line">这重要吗？</span><br><span class="line">&#123;% endhideBlock %&#125;</span><br></pre></td></tr></table></figure>
<p>还有比你更帅（美）的人吗？</p>
<div class="hide-block"><button type="button" class="hide-button" style="">查看答案
    </button><div class="hide-content"><p>这重要吗？</p>
</div></div>
<h5 id="Toggle">Toggle</h5>
<p>如果你需要展示的内容太多，可以把它隐藏在收缩框里，需要时再把它展开。</p>
<p>( display 不能包含英文逗号，可用‚)</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% hideToggle display,bg,color %&#125;</span><br><span class="line">content</span><br><span class="line">&#123;% endhideToggle %&#125;</span><br></pre></td></tr></table></figure>
<div class="note default simple"><p>实例</p>
</div>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% hideToggle 不知道写什么了 %&#125;</span><br><span class="line">就不写了吧</span><br><span class="line">&#123;% endhideToggle %&#125;</span><br></pre></td></tr></table></figure>
<div class="hide-toggle" ><div class="hide-button toggle-title" style=""><i class="fas fa-caret-right fa-fw"></i><span>不知道写什么了</span></div>
    <div class="hide-content"><p>就不写了吧</p>
</div></div>
<h4 id="mermaid">mermaid</h4>
<p>使用mermaid标签可以绘制Flowchart（流程图）、Sequence diagram（时序图 ）、Class Diagram（类别图）、State Diagram（状态图）、Gantt（甘特图）和Pie Chart（圆形图），具体可以查看<a target="_blank" rel="noopener" href="https://mermaid-js.github.io/mermaid/#/">mermaid文档</a></p>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># mermaid</span></span><br><span class="line"><span class="comment"># see https://github.com/mermaid-js/mermaid</span></span><br><span class="line"><span class="attr">mermaid:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># built-in themes: default/forest/dark/neutral</span></span><br><span class="line">  <span class="attr">theme:</span></span><br><span class="line">    <span class="attr">light:</span> <span class="string">default</span></span><br><span class="line">    <span class="attr">dark:</span> <span class="string">dark</span></span><br></pre></td></tr></table></figure>
<p>写法：</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% mermaid %&#125;</span><br><span class="line">內容</span><br><span class="line">&#123;% endmermaid %&#125;</span><br></pre></td></tr></table></figure>
<div class="note default simple"><p>实例</p>
</div>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% mermaid %&#125;</span><br><span class="line">pie</span><br><span class="line"><span class="code">    title Key elements in Product X</span></span><br><span class="line"><span class="code">    &quot;钙&quot; : 45</span></span><br><span class="line"><span class="code">    &quot;钾&quot; : 50.00</span></span><br><span class="line"><span class="code">    &quot;Magnesium&quot; : 10</span></span><br><span class="line"><span class="code">    &quot;Iron&quot; :  5</span></span><br><span class="line"><span class="code">&#123;% endmermaid %&#125;</span></span><br></pre></td></tr></table></figure>
<div class="mermaid-wrap"><pre class="mermaid-src" hidden>
  pie
    title Key elements in Product X
    &quot;钙&quot; : 45
    &quot;钾&quot; : 50.00
    &quot;Magnesium&quot; : 10
    &quot;Iron&quot; :  5
  </pre></div>
<h4 id="Tab">Tab</h4>
<p>移植于next主题</p>
<p>使用方法：</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tabs Unique name, [index] %&#125;</span><br><span class="line">&lt;!-- tab [Tab caption] [@icon] --&gt;</span><br><span class="line">Any content (support inline tags too).</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br><span class="line"></span><br><span class="line">Unique name   : Unique name of tabs block tag without comma.</span><br><span class="line"><span class="code">                Will be used in #id&#x27;s as prefix for each tab with their index numbers.</span></span><br><span class="line"><span class="code">                If there are whitespaces in name, for generate #id all whitespaces will replaced by dashes.</span></span><br><span class="line"><span class="code">                Only for current url of post/page must be unique!</span></span><br><span class="line"><span class="code">[index]       : Index number of active tab.</span></span><br><span class="line"><span class="code">                If not specified, first tab (1) will be selected.</span></span><br><span class="line"><span class="code">                If index is -1, no tab will be selected. It&#x27;s will be something like spoiler.</span></span><br><span class="line"><span class="code">                Optional parameter.</span></span><br><span class="line"><span class="code">[Tab caption] : Caption of current tab.</span></span><br><span class="line"><span class="code">                If not caption specified, unique name with tab index suffix will be used as caption of tab.</span></span><br><span class="line"><span class="code">                If not caption specified, but specified icon, caption will empty.</span></span><br><span class="line"><span class="code">                Optional parameter.</span></span><br><span class="line"><span class="code">[@icon]       : FontAwesome icon name (full-name, look like &#x27;fas fa-font&#x27;)</span></span><br><span class="line"><span class="code">                Can be specified with or without space; e.g. &#x27;Tab caption @icon&#x27; similar to &#x27;Tab caption@icon&#x27;.</span></span><br><span class="line"><span class="code">                Optional parameter.</span></span><br></pre></td></tr></table></figure>
<div class="note default simple"><p>实例1 默认选择第一个</p>
</div>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tabs test1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure>
<div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">test1 1</button></li><li class="tab"><button type="button" data-href="#test1-2">test1 2</button></li><li class="tab"><button type="button" data-href="#test1-3">test1 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<div class="note default simple"><p>实例2 自定义Tab名 + 只有icon + icon和Tab名</p>
</div>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tabs test4 %&#125;</span><br><span class="line">&lt;!-- tab 第一个Tab --&gt;</span><br><span class="line"><span class="strong">**tab名字为第一个Tab**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab @fab fa-apple-pay --&gt;</span><br><span class="line"><span class="strong">**只有图标 没有Tab名字**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab 炸弹@fas fa-bomb --&gt;</span><br><span class="line"><span class="strong">**名字+icon**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure>
<div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">第一个Tab</button></li><li class="tab"><button type="button" data-href="#test4-2"><i class="fab fa-apple-pay" style="text-align: center;"></i></button></li><li class="tab"><button type="button" data-href="#test4-3"><i class="fas fa-bomb"></i>炸弹</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p><strong>tab名字为第一个Tab</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><p><strong>只有图标 没有Tab名字</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-3"><p><strong>名字+icon</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h4 id="button">button</h4>
<p>使用方法：</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% btn [url],[text],[icon],[color] [style] [layout] [position] [size] %&#125;</span><br><span class="line"></span><br><span class="line">[url]         : 链接</span><br><span class="line">[text]        : 按钮文字</span><br><span class="line">[icon]        : [可选] 图标</span><br><span class="line">[color]       : [可选] 按钮背景颜色(默认style时）</span><br><span class="line"><span class="code">                      按钮字体和边框颜色(outline时)</span></span><br><span class="line"><span class="code">                      default/blue/pink/red/purple/orange/green</span></span><br><span class="line"><span class="code">[style]       : [可选] 按钮样式 默认实心</span></span><br><span class="line"><span class="code">                      outline/留空</span></span><br><span class="line"><span class="code">[layout]      : [可选] 按钮布局 默认为line</span></span><br><span class="line"><span class="code">                      block/留空</span></span><br><span class="line"><span class="code">[position]    : [可选] 按钮位置 前提是设置了layout为block 默认为左边</span></span><br><span class="line"><span class="code">                      center/right/留空</span></span><br><span class="line"><span class="code">[size]        : [可选] 按钮大小</span></span><br><span class="line"><span class="code">                      larger/留空</span></span><br></pre></td></tr></table></figure>
<div class="note default simple"><p>实例</p>
</div>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">This is my website, click the button &#123;% btn &#x27;https://winfredliu.github.io/gallery/girl/&#x27;,好看的妹妹,blue %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#x27;https://winfredliu.github.io/gallery/girl/&#x27;,好看的妹妹,far fa-hand-point-right %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#x27;https://winfredliu.github.io/gallery/girl/&#x27;,好看的妹妹,outline %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#x27;https://winfredliu.github.io/gallery/girl/&#x27;,好看的妹妹,far fa-hand-point-right,red outline %&#125;</span><br><span class="line">This is my website, click the button &#123;% btn &#x27;https://winfredliu.github.io/gallery/girl/&#x27;,好看的妹妹,far fa-hand-point-right,larger %&#125;</span><br></pre></td></tr></table></figure>
<p>This is my website, click the button <a class="btn-beautify " href="https://winfredliu.github.io/gallery/girl/" 
  title="好看的妹妹"><i class="blue"></i><span>好看的妹妹</span></a><br>
This is my website, click the button <a class="btn-beautify " href="https://winfredliu.github.io/gallery/girl/" 
  title="好看的妹妹"><i class="far fa-hand-point-right"></i><span>好看的妹妹</span></a><br>
This is my website, click the button <a class="btn-beautify " href="https://winfredliu.github.io/gallery/girl/" 
  title="好看的妹妹"><i class="red outline"></i><span>好看的妹妹</span></a><br>
This is my website, click the button <a class="btn-beautify outline" href="https://winfredliu.github.io/gallery/girl/" 
  title="好看的妹妹"><i class="far fa-hand-point-right"></i><span>好看的妹妹</span></a><br>
This is my website, click the button <a class="btn-beautify larger" href="https://winfredliu.github.io/gallery/girl/" 
  title="好看的妹妹"><i class="far fa-hand-point-right"></i><span>好看的妹妹</span></a></p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% btn &#x27;https://winfredliu.github.io/gallery/girl/&#x27;,好看的妹妹,far fa-hand-point-right,block %&#125;</span><br><span class="line">&#123;% btn &#x27;https://winfredliu.github.io/gallery/girl/&#x27;,好看的妹妹,far fa-hand-point-right,block center  green larger %&#125;</span><br><span class="line">&#123;% btn &#x27;https://winfredliu.github.io/gallery/girl/&#x27;,好看的妹妹,far fa-hand-point-right,block right outline blue  larger %&#125;</span><br></pre></td></tr></table></figure>
<a class="btn-beautify block" href="https://winfredliu.github.io/gallery/girl/" 
  title="好看的妹妹"><i class="far fa-hand-point-right"></i><span>好看的妹妹</span></a>
<a class="btn-beautify block center green larger" href="https://winfredliu.github.io/gallery/girl/" 
  title="好看的妹妹"><i class="far fa-hand-point-right"></i><span>好看的妹妹</span></a>
<a class="btn-beautify block right outline blue larger" href="https://winfredliu.github.io/gallery/girl/" 
  title="好看的妹妹"><i class="far fa-hand-point-right"></i><span>好看的妹妹</span></a>
<h4 id="inlineImg">inlineImg</h4>
<p>主题中的图片都是默认以块级元素显示，如果你想以内联元素显示，可以使用这个标签外挂。</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% inlineImg [src] [height] %&#125;</span><br><span class="line"></span><br><span class="line">[src]      :    图片链接</span><br><span class="line">[height]   ：   图片高度限制【可选】</span><br></pre></td></tr></table></figure>
<div class="note default simple"><p>实例</p>
</div>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% inlineImg https://i.loli.net/2021/03/19/5M4jUB3ynq7ePgw.png 150px %&#125;</span><br></pre></td></tr></table></figure>
<p>你看我长得漂亮不</p>
<p><img src="https://i.loli.net/2021/03/19/2P6ivUGsdaEXSFI.png" alt=""></p>
<img class="inline-img" src="https://i.loli.net/2021/03/19/5M4jUB3ynq7ePgw.png" style="height:150px"/>
<h4 id="label">label</h4>
<p>高亮所需的文字</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% label text color %&#125;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>参数</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>text</td>
<td>文字</td>
</tr>
<tr>
<td>color</td>
<td>【可选】背景颜色，默认为 default default/blue/pink/red/purple/orange/green</td>
</tr>
</tbody>
</table>
<div class="note default simple"><p>实例</p>
</div>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">敲黑板&#123;% label 划重点 %&#125;，&#123;% label 网络流行词 blue %&#125;，作为网络语的该词其实和老师当年的&#123;% label 手势动作 pink %&#125;有&#123;% label 异曲同工之妙 red %&#125;，该词常作为标题出现后面还会紧接着其他的信息咨询，意思为&#123;% label 强调 purple %&#125;接下来要说的东西的重要性，起到一定的强调作用，和之前的&#123;% label “前方高能” orange %&#125;一词&#123;% label 意思比较接近 green %&#125;。</span><br></pre></td></tr></table></figure>
<p>敲黑板<mark class="hl-label default">划重点</mark> ，<mark class="hl-label blue">网络流行词</mark> ，作为网络语的该词其实和老师当年的<mark class="hl-label pink">手势动作</mark> 有<mark class="hl-label red">异曲同工之妙</mark> ，该词常作为标题出现后面还会紧接着其他的信息咨询，意思为<mark class="hl-label purple">强调</mark> 接下来要说的东西的重要性，起到一定的强调作用，和之前的<mark class="hl-label orange">“前方高能”</mark> 一词<mark class="hl-label green">意思比较接近</mark> 。</p>
<h4 id="timeline">timeline</h4>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% timeline title,color %&#125;</span><br><span class="line">&lt;!-- timeline title --&gt;</span><br><span class="line">xxxxx</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&lt;!-- timeline title --&gt;</span><br><span class="line">xxxxx</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>参数</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td>标题/时间线</td>
</tr>
<tr>
<td>color</td>
<td>timeline 颜色 default(留空) / blue / pink / red / purple / orange / green</td>
</tr>
</tbody>
</table>
<div class="note default simple"><p>实例</p>
</div>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% timeline 2022,pink %&#125;</span><br><span class="line">&lt;!-- timeline 01-02 --&gt;</span><br><span class="line">这是测试页面</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure>
<div class="timeline pink"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p>
</div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-02</p>
</div></div><div class='timeline-item-content'><p>这是测试页面</p>
</div></div></div>
<h2 id="自定义博客主题三">自定义博客主题三</h2>
<h3 id="评论">评论</h3>
<div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">通用设置</button></li><li class="tab"><button type="button" data-href="#test1-2">Disqus</button></li><li class="tab"><button type="button" data-href="#test1-3">Twikoo</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p>从3.0.0开始，开启评论需要在comments-use中填写你需要的评论。</p>
<p>支持双评论显示，只需要配置两个评论（第一个为默认显示）</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">comments:</span></span><br><span class="line">  <span class="comment"># Up to two comments system, the first will be shown as default</span></span><br><span class="line">  <span class="comment"># Choose: Disqus/Disqusjs/Livere/Gitalk/Valine/Waline/Utterances/Facebook Comments/Twikoo/Giscus</span></span><br><span class="line">  <span class="attr">use:</span> <span class="string">Valine,Disqus</span> <span class="comment"># Valine,Disqus</span></span><br><span class="line">  <span class="attr">text:</span> <span class="literal">true</span> <span class="comment"># Display the comment name next to the button</span></span><br><span class="line">  <span class="comment"># lazyload: The comment system will be load when comment element enters the browser&#x27;s viewport.</span></span><br><span class="line">  <span class="comment"># If you set it to true, the comment count will be invalid</span></span><br><span class="line">  <span class="attr">lazyload:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">count:</span> <span class="literal">true</span> <span class="comment"># Display comment count in post&#x27;s top_img</span></span><br><span class="line">  <span class="attr">card_post_count:</span> <span class="literal">false</span> <span class="comment"># Display comment count in Home Page</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>参数</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>use</td>
<td>使用的评论（请注意，最多支持两个，如果不需要请留空）注意：双评论不能是 Disqus 和 Disqusjs 一起，由于其共用同一个 ID，会出错</td>
</tr>
<tr>
<td>text</td>
<td>是否显示评论服务商的名字</td>
</tr>
<tr>
<td>lazyload</td>
<td>是否为评论开启lazyload，开启后，只有滚动到评论位置时才会加载评论所需要的资源（开启lazyload后，评论数将不显示）</td>
</tr>
<tr>
<td>count</td>
<td>是否在文章顶部显示评论数 livere、Giscus 和 utterances 不支持评论数显示</td>
</tr>
<tr>
<td>card_post_count</td>
<td>是否在首页文章卡片显示评论数 gitalk、livere 、Giscus 和 utterances 不支持评论数显示</td>
</tr>
</tbody>
</table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p>注册 <a href="ttps://disqus.com">disqus</a>，配置你自己的 disqus，然后在Butterfly里开启它。</p>
<p>配置教程：<a href="jianshu.com/p/d68de067ea74">配置流程</a></p>
<p>记得选免费订阅！</p>
<p>允许访客评论：Settings -&gt; Moderation -&gt; Guest Commenting -&gt; Allow guests to comment (Enable)</p>
<p>shortname:<br>
<img src="/img/example3.png" alt="示例图3"></p>
<p>之后把shortname放在对应位置。</p>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">disqus:</span></span><br><span class="line">  <span class="attr">shortname:</span> <span class="string">winfredliu</span></span><br><span class="line">  <span class="attr">apikey:</span> <span class="comment"># For newest comments widget</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><code>Twikoo</code> 是一个简洁、安全、无后端的静态网站评论系统，基于<code>腾讯云开发</code>。</p>
<p>具体如何配置评论，请查看 <a target="_blank" rel="noopener" href="https://twikoo.js.org/quick-start.html#%E7%8E%AF%E5%A2%83%E5%88%9D%E5%A7%8B%E5%8C%96">Twikoo文档</a></p>
<p>所以，大家应该知道怎么做吧？</p>
<p>选择0元套餐的流程如下：<br>
进入腾讯云-&gt; 选择最新活动-&gt; 选择云开发 CloudBase <mark class="hl-label blue">0元xx</mark> （具体我忘了，主要这个套餐我订了之后就没出现了，我也无法演示）</p>
<div class="note info simple"><p>注：如果你的博客评论人数和使用较多（0元每月云存储有5GB，云数据库2GB，云函数使用量1000GBS，每月重置），建议购买资源或自行配置服务器资源。</p>
</div>
<p>我是用命令行的形式部署的。</p>
<p>中间有个指令包下载时间较长，请耐心等待：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\imaegoo\twikoo&gt;yarn install</span><br></pre></td></tr></table></figure>
<p>部署成功你将看到</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">√ [twikoo] 云函数部署成功！</span><br><span class="line"></span><br><span class="line">i 控制台查看函数详情或创建HTTP 访问服务链接 🔗：https://console.cloud.tencent.com/tcb/scf?envId=test1-2gktnr4k00ee729f&amp;rid=4</span><br><span class="line">i 使用 cloudbase functions:list 命令查看已部署云函数</span><br></pre></td></tr></table></figure>
<p>接下来，你只需要把获取到的 <code>环境ID (envId)</code> 填写到配置上去就行</p>
<p>修改 <code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">twikoo:</span></span><br><span class="line">  <span class="attr">envId:</span></span><br><span class="line">  <span class="attr">region:</span></span><br><span class="line">  <span class="attr">visitor:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">option:</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>参数</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>envId</td>
<td>环境 ID</td>
</tr>
<tr>
<td>region</td>
<td>环境地域，默认为 ap-shanghai，如果您的环境地域不是上海，需传此参数</td>
</tr>
<tr>
<td>visitor</td>
<td>是否显示文章閲读数</td>
</tr>
<tr>
<td>option</td>
<td>可选配置</td>
</tr>
</tbody>
</table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<p>更多评论API请看<a target="_blank" rel="noopener" href="https://butterfly.js.org/posts/ceeb73f/#%E8%A9%95%E8%AB%96">这里</a></p>
<h3 id="在线聊天">在线聊天</h3>
<p>从3.0开始，Butterfly主题内置了多种在綫聊天工具。你可以选择开启一种，方便你与访客的交流。</p>
<p>你只需要把chat_btn打开就行。</p>
<p>修改主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Chat Button [recommend]</span></span><br><span class="line"><span class="comment"># It will create a button in the bottom right corner of website, and hide the origin button</span></span><br><span class="line"><span class="attr">chat_btn:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>为了不影响访客的体验，主题提供一个chat_hide_show配置<br>
设为true后，使用工具提供的按钮时，只有向上滚动才会显示聊天按钮，向下滚动时会隐藏按钮。</p>
<p>修改 主题配置文件</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># The origin chat button is displayed when scrolling up, and the button is hidden when scrolling down</span></span><br><span class="line"><span class="attr">chat_hide_show:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<div class="note info simple"><p>如果使用工具自带的聊天按钮，按钮位置可能会遮挡右下角图标，请配置rightside-bottom调正右下角图标位置</p>
<p>the position of bottom right button/default unit: px (右下角按钮距离底部的距离/默认单位为px)<br>
rightside-bottom</p>
</div>
<p>我选择的是daovie这个国内聊天工具，五千人以内免费。</p>
<h4 id="添加步骤">添加步骤</h4>
<h5 id="注册daovice账号">注册daovice账号</h5>
<p>首先需要到 <a target="_blank" rel="noopener" href="https://dashboard.daocloud.io/">DaoCloud</a> 注册，登录之后需要进入到<a target="_blank" rel="noopener" href="http://dashboard.daovoice.io/get-started">控制台</a></p>
<div class="note info simple"><p>注意：注册完毕之后找不到你所需的app_id，一定要从上面的控制台进入，创建你的应用。</p>
</div>
<h5 id="控制台查看app-id">控制台查看app_id</h5>
<p>进入到应用之后，点击左边的应用设置 -&gt; 安装到网站 -&gt; 注册用户+匿名用户，下方会看到我们的 app_id 后面需要用到</p>
<h6 id="聊天样式设置">聊天样式设置</h6>
<p>找到应用设置 -&gt; 聊天设置，可以进行聊天小图标的设置，设置自己喜欢的颜色和位置。</p>
<h6 id="主题配置文件修改">主题配置文件修改</h6>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># daovoice</span></span><br><span class="line"><span class="comment"># http://daovoice.io/</span></span><br><span class="line"><span class="attr">daovoice:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">app_id:</span> <span class="string">填自己的app_id</span></span><br></pre></td></tr></table></figure>
<p>更多在线聊天工具请看<a target="_blank" rel="noopener" href="https://butterfly.js.org/posts/ceeb73f/#%E5%9C%A8%E7%B6%AB%E8%81%8A%E5%A4%A9">这里</a></p>
<h3 id="分享">分享</h3>
<p>默认是<a target="_blank" rel="noopener" href="https://github.com/overtrue/share.js/">sharejs</a>，这个就不用管了。</p>
<h3 id="搜索系统">搜索系统</h3>
<div class="tabs" id="test2"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test2-1">Algolia</button></li><li class="tab"><button type="button" data-href="#test2-2">本地搜索</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test2-1"><div class="note info simple"><p>记得运行<code>hexo clean</code>和<code>hexo g</code></p>
</div>
1. 你需要安装 [hexo-algolia](https://github.com/oncletom/hexo-algolia)或 [hexo-algoliasearch](https://github.com/LouisBarranqueiro/hexo-algoliasearch)（个人推荐这个，但是这个功能有限,只能搜索文章，要搜索全站内容推荐第一个，但是第一个我没配成功）. 根据它们的说明文档去做相应的配置。
<p>网上的教程基本上都是第二个。</p>
<p><a target="_blank" rel="noopener" href="https://blog.ccknbc.cc/posts/hexo-butterfly-algolia/">具体教程</a></p>
<p>这个比较详细</p>
<div class="note info simple"><p>记得添加algolia时，是在根目录下的<code>_config.yml</code>中，而不是主题配置文件。</p>
<p>寻找apikey时，看下图<br>
<img src="/img/example4.png" alt=""></p>
<p>点进去之后，再查看<br>
<img src="/img/example5.png" alt=""></p>
<p><code>Search-Only API Key</code>在<code>all api keys</code>里，其余的<code>appid</code>,<code>admin api key</code>在这里</p>
<p>最后看：<br>
<img src="/img/example6.png" alt=""><br>
有你创建的<code>index</code>的<code>api key</code>才是真正的<code>Search-Only API Key</code></p>
<p>还有在你的电脑里加入关于<code>Search-Only API Key</code>的环境变量</p>
<ol start="2">
<li>修改 <code>主题配置文件</code></li>
</ol>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">algolia_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hits:</span></span><br><span class="line">    <span class="attr">per_page:</span> <span class="number">6</span></span><br></pre></td></tr></table></figure></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test2-2"><p>个人推荐用这个，那个algolia配置之后感觉还不如这个本地搜索，而且配置algolia花了我整整四个小时。</p>
<ol>
<li>
<p>你需要安装 <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search">hexo-generator-search</a>. 根据它的文档去做相应配置。注意格式只支持 xml。<br>
具体就是，根目录下输入<code>npm install hexo-generator-search</code>下载需要的插件</p>
</li>
<li>
<p>修改 <code>主题配置文件</code></p>
</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<div class="note info simple"><p>记得运行<code>hexo clean</code>和<code>hexo g</code></p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h3 id="网站验证">网站验证</h3>
<p>如果需要搜索引擎收录网站，可能需要登录对应搜索引擎的管理平台（站点管理）进行提交。<br>
各自的验证码可从各自管理平台拿到</p>
<p>修改 <code>主题配置文件</code><br>
我的配置如下：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">site_verification:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">google-site-verification</span></span><br><span class="line">      <span class="attr">content:</span> <span class="string">&quot;xxxxxxxx&quot;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">baidu-site-verification</span></span><br><span class="line">      <span class="attr">content:</span> <span class="string">&quot;xxxxxxxxxx&quot;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">msvalidate.01</span></span><br><span class="line">      <span class="attr">content:</span> <span class="string">&quot;xxxxxxxxxx&quot;</span></span><br></pre></td></tr></table></figure>
<p>修改之后,<code>hexo d</code>推送之后再通过各自平台验证（我分别验证了百度，google，bing）。</p>
<h3 id="分析统计">分析统计</h3>
<div class="tabs" id="test3"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test3-1">百度统计</button></li><li class="tab"><button type="button" data-href="#test3-2">谷歌分析</button></li><li class="tab"><button type="button" data-href="#test3-3">Microsoft Clarity</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test3-1"><ol>
<li>
<p>登录百度统计的<a target="_blank" rel="noopener" href="https://tongji.baidu.com/web/welcome/login">官方网站</a><br>
注意这里登录建议选择新媒体站长</p>
</li>
<li>
<p>找到你百度统计的统计代码<br>
<img src="/img/example7.png" alt=""></p>
</li>
<li>
<p>修改<code>主题配置文件</code></p>
</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">baidu_analytics:</span> <span class="string">xxxxxx</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-2"><ol>
<li>
<p>登录谷歌分析的官方网站</p>
</li>
<li>
<p>找到你的谷歌分析的跟踪 ID</p>
</li>
</ol>
<div class="note info simple"><p>创建资源时候要选择高级选项，创建Universal Analytics 媒体资源，不创建Google Analytics（分析）4 媒体资源</p>
<p>详细说明：<br>
<a target="_blank" rel="noopener" href="https://support.google.com/analytics/answer/9539598?hl=zh-Hans">有关跟踪ID的变化</a></p>
</div>
<ol start="3">
<li>修改<code>主题配置文件</code></li>
</ol>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">google_analytics:</span> <span class="string">UA-xxxx</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-3"><ol>
<li>
<p>登录 Clarity 的官方网站</p>
</li>
<li>
<p>创建 PROJECT</p>
</li>
<li>
<p>找到你的 ID<br>
<img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-clarity-id.png" alt=""></p>
</li>
<li>
<p>修改<code>主题配置文件</code></p>
</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">microsoft_clarity:</span> <span class="string">xxxxxxx</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h3 id="广告">广告</h3>
<div class="note info simple"><p>个人认为没必要</p>
</div>
<div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">谷歌广告</button></li><li class="tab"><button type="button" data-href="#test4-2">手动广告配置</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p>主题已集成谷歌广告（自动广告）未开启</p>
<p>修改 <code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">google_adsense:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">auto_ads:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">js:</span> <span class="string">https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js</span></span><br><span class="line">  <span class="attr">client:</span> <span class="comment"># 填入个人识别码</span></span><br><span class="line">  <span class="attr">enable_page_level_ads:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><p>主题预留了三个位置可供插入广告，分别为主页文章(每三篇文章出现广告)/aside公告之后/文章页打赏之后。<br>
把html代码填写到对应的位置<br>
修改 <code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Insert ads manually (手動插入廣告)</span></span><br><span class="line"><span class="comment"># ad:</span></span><br><span class="line"><span class="comment">#   index:</span></span><br><span class="line"><span class="comment">#   aside:</span></span><br><span class="line"><span class="comment">#   post:</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h3 id="Math数学">Math数学</h3>
<p>主题作者提供了两种MAth方式，本人没有配置<a target="_blank" rel="noopener" href="https://butterfly.js.org/posts/ceeb73f/#Math-%E6%95%B8%E5%AD%B8">MsthJax</a>。</p>
<p>Katex配置如下：</p>
<p>首先禁用<code>MathJax</code>（如果你配置过 <code>MathJax</code> 的话），然后修改你的主题配置文件以便加载<code>katex.min.css</code>:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># KaTeX</span></span><br><span class="line"><span class="attr">katex:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">hide_scrollbar:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>你不需要添加<code>katex.min.js</code>来渲染数学方程。相应的你需要卸载你之前的 hexo 的 markdown 渲染器，然后安装其它插件。</p>
<p>卸载掉 marked 插件，安装 <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-renderer-markdown-it">hexo-renderer-markdown-it</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm un hexo-renderer-marked --save # 如果有安装这个的话，卸载</span><br><span class="line">npm un hexo-renderer-kramed --save # 如果有安装这个的话，卸载</span><br><span class="line"></span><br><span class="line">npm i hexo-renderer-markdown-it --save # 需要安装这个渲染插件</span><br><span class="line">npm install @neilsustc/markdown-it-katex --save #需要安装这个katex插件</span><br></pre></td></tr></table></figure>
<p>在 hexo 的根目录的 <code>_config.yml</code> 中配置</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">plugins:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">plugin:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">&#x27;@neilsustc/markdown-it-katex&#x27;</span></span><br><span class="line">      <span class="attr">options:</span></span><br><span class="line">        <span class="attr">strict:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h3 id="美化-特效">美化/特效</h3>
<h4 id="自定义主题色">自定义主题色</h4>
<p>可以修改大部分UI颜色</p>
<p>修改 <code>主题配置文件</code>，比如：</p>
<div class="note info simple"><p>颜色值必须被双引号包裹，就像&quot;#000&quot;而不是#000。否则将会在构建的时候报错！</p>
</div>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">theme_color:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">main:</span> <span class="string">&quot;#49B1F5&quot;</span></span><br><span class="line">  <span class="attr">paginator:</span> <span class="string">&quot;#00c4b6&quot;</span></span><br><span class="line">  <span class="attr">button_hover:</span> <span class="string">&quot;#FF7242&quot;</span></span><br><span class="line">  <span class="attr">text_selection:</span> <span class="string">&quot;#00c4b6&quot;</span></span><br><span class="line">  <span class="attr">link_color:</span> <span class="string">&quot;#99a9bf&quot;</span></span><br><span class="line">  <span class="attr">meta_color:</span> <span class="string">&quot;#858585&quot;</span></span><br><span class="line">  <span class="attr">hr_color:</span> <span class="string">&quot;#A4D8FA&quot;</span></span><br><span class="line">  <span class="attr">code_foreground:</span> <span class="string">&quot;#F47466&quot;</span></span><br><span class="line">  <span class="attr">code_background:</span> <span class="string">&quot;rgba(27, 31, 35, .05)&quot;</span></span><br><span class="line">  <span class="attr">toc_color:</span> <span class="string">&quot;#00c4b6&quot;</span></span><br><span class="line">  <span class="attr">blockquote_padding_color:</span> <span class="string">&quot;#49b1f5&quot;</span></span><br><span class="line">  <span class="attr">blockquote_background_color:</span> <span class="string">&quot;#49b1f5&quot;</span></span><br><span class="line">  <span class="attr">scrollbar_color:</span> <span class="string">&quot;#49b1f5&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="网站背景">网站背景</h4>
<p>默认显示白色，可设置图片或者颜色</p>
<p>修改 <code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 图片格式 url(http://xxxxxx.com/xxx.jpg)</span></span><br><span class="line"><span class="comment"># 颜色（HEX值/RGB值/顔色单词/渐变色)</span></span><br><span class="line"><span class="comment"># 留空 不显示背景</span></span><br><span class="line"><span class="attr">background:</span></span><br></pre></td></tr></table></figure>
<p>留意: 如果你的网站根目录不是’/',使用本地图片时，需加上你的根目录。</p>
<p>例如：网站是 <a target="_blank" rel="noopener" href="https://yoursite.com/blog,%E5%BC%95%E7%94%A8%E4%B8%80%E5%BC%A0img/xx.png%E5%9B%BE%E7%89%87%EF%BC%8C%E5%88%99%E8%AE%BE%E7%BD%AEbackground%E4%B8%BA">https://yoursite.com/blog,引用一张img/xx.png图片，则设置background为</a> `url(/blog/img/xx.png)</p>
<p>像我的网站根目录就是’/'，<a href="https://winfredliu.github.io/">https://winfredliu.github.io/</a>.</p>
<p>以下是两种写法：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">background:&#x27;#49B202&#x27;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">background:</span> <span class="string">url(https://i.loli.net/2019/09/09/5oDRkWVKctx2b6A.png)</span></span><br></pre></td></tr></table></figure>
<h4 id="footer背景">footer背景</h4>
<p>修改<code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Footer Background</span></span><br><span class="line"><span class="attr">footer_bg:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>配置的值</th>
<th>效果</th>
</tr>
</thead>
<tbody>
<tr>
<td>留空/false</td>
<td>显示默认的顔色</td>
</tr>
<tr>
<td>img链接</td>
<td>图片的链接，显示所配置的图片</td>
</tr>
<tr>
<td>顔色(HEX值 - #0000FF RGB值 - rgb(0,0,255) 顔色单词 - orange 渐变色 - linear-gradient( 135deg, #E2B0FF 10%, #9F44D3 100%)）</td>
<td>对应的顔色</td>
</tr>
<tr>
<td>true</td>
<td>显示跟 top_img 一样</td>
</tr>
</tbody>
</table>
<h4 id="打字效果">打字效果</h4>
<p>打字效果<a target="_blank" rel="noopener" href="https://github.com/disjukr/activate-power-mod">activate-power-mode</a></p>
<p>修改<code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Typewriter Effect (打字效果)</span></span><br><span class="line"><span class="comment"># https://github.com/disjukr/activate-power-mode</span></span><br><span class="line"><span class="attr">activate_power_mode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">colorful:</span> <span class="literal">true</span> <span class="comment"># open particle animation (冒光特效)</span></span><br><span class="line">  <span class="attr">shake:</span> <span class="literal">true</span> <span class="comment">#  open shake (抖動特效)</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h4 id="背景特效">背景特效</h4>
<div class="tabs" id="test5"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test5-1">精止彩带</button></li><li class="tab"><button type="button" data-href="#test5-2">动态彩带</button></li><li class="tab"><button type="button" data-href="#test5-3">canvas-nest</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test5-1"><p>好看的彩带背景，可设置每次刷新更换彩带，或者每次点击更换彩带<br>
修改 <code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">canvas_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">size:</span> <span class="number">150</span></span><br><span class="line">  <span class="attr">alpha:</span> <span class="number">0.6</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span></span><br><span class="line">  <span class="attr">click_to_change:</span> <span class="literal">false</span>  <span class="comment">#设置是否每次点击都更换彩带</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment"># false 手机端不显示 true 手机端显示</span></span><br></pre></td></tr></table></figure>
<p>相关配置可查看<a target="_blank" rel="noopener" href="https://github.com/hustcc/ribbon.js">canvas_ribbon</a></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test5-2"><p>好看的彩带背景，会飘动<br>
修改 <code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">canvas_fluttering_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment"># false 手机端不显示 true 手机端显示</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test5-3"><p>修改 <code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line">   <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">   <span class="attr">color:</span> <span class="string">&#x27;0,0,255&#x27;</span> <span class="comment">#color of lines, default: &#x27;0,0,0&#x27;; RGB values: (R,G,B).(<span class="doctag">note:</span> use &#x27;,&#x27; to separate.)</span></span><br><span class="line">   <span class="attr">opacity:</span> <span class="number">0.7</span> <span class="comment"># the opacity of line (0~1), default: 0.5.</span></span><br><span class="line">   <span class="attr">zIndex:</span> <span class="number">-1</span> <span class="comment"># z-index property of the background, default: -1.</span></span><br><span class="line">   <span class="attr">count:</span> <span class="number">99</span> <span class="comment"># the number of lines, default: 99.</span></span><br><span class="line">   <span class="attr">mobile:</span> <span class="literal">true</span> <span class="comment"># false 手机端不显示 true 手机端显示</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h4 id="鼠标点击效果">鼠标点击效果</h4>
<div class="tabs" id="test6"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test6-1">烟花</button></li><li class="tab"><button type="button" data-href="#test6-2">爱心</button></li><li class="tab"><button type="button" data-href="#test6-3">文字</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test6-1"><p>zIndex建议只在-1和9999上选<br>
-1 代表烟火效果在底部<br>
9999 代表烟火效果在前面</p>
<p>修改 <code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">fireworks:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">9999</span> <span class="comment"># -1 or 9999</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-firewall.gif" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test6-2"><p>修改 <code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 点击出现爱心</span></span><br><span class="line"><span class="attr">click_heart:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/click_love.gif" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test6-3"><p>修改 <code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 点击出现文字，文字可自行修改</span></span><br><span class="line"><span class="attr">ClickShowText:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">text:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">I</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">LOVE</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">YOU</span></span><br><span class="line">  <span class="attr">fontSize:</span> <span class="string">15px</span></span><br><span class="line">  <span class="attr">random:</span> <span class="literal">false</span> <span class="comment"># 文字随机显示</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h4 id="页面美化">页面美化</h4>
<p>会改变ol、ul、h1-h5的样式</p>
<p>field配置生效的区域</p>
<ul>
<li>post 只在文章页生效</li>
<li>site 在全站生效<br>
修改 <code>主题配置文件</code></li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 美化页面显示</span></span><br><span class="line"><span class="attr">beautify:</span></span><br><span class="line">   <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">   <span class="attr">field:</span> <span class="string">site</span> <span class="comment"># site/post</span></span><br><span class="line">   <span class="attr">title-prefix-icon:</span> <span class="string">&#x27;\f0c1&#x27;</span></span><br><span class="line">   <span class="attr">title-prefix-icon-color:</span> <span class="string">&quot;#F47466&quot;</span></span><br></pre></td></tr></table></figure>
<p><code>title-prefix-icon</code>填写的是fontawesome的icon的Unicode数。</p>
<h4 id="自定义字体和字体大小">自定义字体和字体大小</h4>
<h5 id="全局字体">全局字体</h5>
<p>可自行设置字体的font-family<br>
如不需要配置，请留空</p>
<p>修改 <code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Global font settings</span></span><br><span class="line"><span class="comment"># Don&#x27;t modify the following settings unless you know how they work (非必要不要修改)</span></span><br><span class="line"><span class="attr">font:</span></span><br><span class="line">  <span class="attr">global-font-size:</span></span><br><span class="line">  <span class="attr">code-font-size:</span></span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">-apple-system,</span> <span class="string">BlinkMacSystemFont,</span> <span class="string">&quot;Segoe UI&quot;</span><span class="string">,</span> <span class="string">&quot;Helvetica Neue&quot;</span><span class="string">,</span> <span class="string">Lato,</span> <span class="string">Roboto,</span> <span class="string">&quot;PingFang SC&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft JhengHei&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft YaHei&quot;</span><span class="string">,</span> <span class="string">sans-serif</span></span><br><span class="line">  <span class="attr">code-font-family:</span> <span class="string">consolas,</span> <span class="string">Menlo,</span> <span class="string">&quot;PingFang SC&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft JhengHei&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft YaHei&quot;</span><span class="string">,</span> <span class="string">sans-serif</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="blog标题字体">blog标题字体</h5>
<p>可自行设置字体的<code>font-family</code><br>
如不需要配置，请留空。<br>
如不需要使用网络字体，只需要把font_link留空就行</p>
<p>修改 <code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Font settings for the site title and site subtitle</span></span><br><span class="line"><span class="comment"># 左上角网站名字 主页居中网站名字</span></span><br><span class="line"><span class="attr">blog_title_font:</span></span><br><span class="line">  <span class="attr">font_link:</span> <span class="string">https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap</span></span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">Titillium</span> <span class="string">Web,</span> <span class="string">&#x27;PingFang SC&#x27;</span><span class="string">,</span> <span class="string">&#x27;Hiragino Sans GB&#x27;</span><span class="string">,</span> <span class="string">&#x27;Microsoft JhengHei&#x27;</span><span class="string">,</span> <span class="string">&#x27;Microsoft YaHei&#x27;</span><span class="string">,</span> <span class="string">sans-serif</span></span><br></pre></td></tr></table></figure>
<h4 id="网站副标题">网站副标题</h4>
<p>可设置主页中显示的网站副标题或者喜欢的座右铭。</p>
<p>修改 <code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 主页subtitle</span></span><br><span class="line"><span class="attr">subtitle:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Typewriter Effect (打字效果)</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># loop (循环打字)</span></span><br><span class="line">  <span class="attr">loop:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># source 调用第三方服务</span></span><br><span class="line">  <span class="comment"># source: false 关闭调用</span></span><br><span class="line">  <span class="comment"># source: 1  调用一言网的一句话（简体） https://hitokoto.cn/</span></span><br><span class="line">  <span class="comment"># source: 2  调用一句网（简体） http://yijuzhan.com/</span></span><br><span class="line">  <span class="comment"># source: 3  调用今日诗词（简体） https://www.jinrishici.com/</span></span><br><span class="line">  <span class="comment"># subtitle 会先显示 source , 再显示 sub 的内容</span></span><br><span class="line">  <span class="attr">source:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># 如果关闭打字效果，subtitle 只会显示 sub 的第一行文字</span></span><br><span class="line">  <span class="attr">sub:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">欢迎来到我的博客</span></span><br><span class="line">  <span class="comment"># &quot;&amp;#44;&quot;表示是逗号</span></span><br></pre></td></tr></table></figure>
<h4 id="主页top-img显示大小">主页top_img显示大小</h4>
<p>默认的显示为全屏。site-info的区域会居中显示</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 主页设置</span></span><br><span class="line"><span class="comment"># 默认top_img全屏，site_info在中间</span></span><br><span class="line"><span class="comment"># 使用默认, 都无需填写（建议默认）</span></span><br><span class="line"><span class="attr">index_site_info_top:</span> <span class="comment"># 主页标题距离顶部距离  例如 300px/300em/300rem/10%</span></span><br><span class="line"><span class="attr">index_top_img_height:</span>  <span class="comment">#主页top_img高度 例如 300px/300em/300rem  不能使用百分比</span></span><br></pre></td></tr></table></figure>
<p>注意：index_top_img_height的值不能使用百分比。<br>
2个都不填的话，会使用默认值</p>
<h4 id="页面加载动画preloader">页面加载动画preloader</h4>
<p>当进入网页时，因为加载速度的问题，可能会导致top_img图片出现断层显示，或者网页加载不全而出现等待时间，开启preloader后，会显示加载动画，等页面加载完，加载动画会消失。</p>
<p>修改 <code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 加载动画 Loading Animation</span></span><br><span class="line"><span class="attr">preloader:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h3 id="PWA">PWA</h3>
<p>要为<code>Butterfly</code>配上 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Progressive_web_application">PWA</a> 特性, 你需要如下几个步骤:</p>
<ol>
<li>
<p>打开 hexo 工作目录</p>
</li>
<li>
<p><code>npm install hexo-offline --save</code> 或者 <code>yarn add hexo-offline</code></p>
</li>
<li>
<p>在根目录创建 <code>hexo-offline.config.cjs</code> 文件，并增加以下内容。</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// offline config passed to workbox-build.</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">globPatterns</span>: [<span class="string">&#x27;**/*.&#123;js,html,css,png,jpg,gif,svg,webp,eot,ttf,woff,woff2&#125;&#x27;</span>],</span><br><span class="line">  <span class="comment">// 静态文件合集，如果你的站点使用了例如 webp 格式的文件，请将文件类型添加进去。</span></span><br><span class="line">  <span class="attr">globDirectory</span>: <span class="string">&#x27;public&#x27;</span>,</span><br><span class="line">  <span class="attr">swDest</span>: <span class="string">&#x27;public/service-worker.js&#x27;</span>,</span><br><span class="line">  <span class="attr">maximumFileSizeToCacheInBytes</span>: <span class="number">10485760</span>, <span class="comment">// 缓存的最大文件大小，以字节为单位。</span></span><br><span class="line">  <span class="attr">skipWaiting</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">clientsClaim</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">runtimeCaching</span>: [ <span class="comment">// 如果你需要加载 CDN 资源，请配置该选项，如果没有，可以不配置。</span></span><br><span class="line">    <span class="comment">// CDNs - should be CacheFirst, since they should be used specific versions so should not change</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">urlPattern</span>: <span class="regexp">/^https:\/\/cdn\.example\.com\/.*/</span>, <span class="comment">// 可替换成你的 URL</span></span><br><span class="line">      handler: <span class="string">&#x27;CacheFirst&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>更多内容请查看<a target="_blank" rel="noopener" href="https://github.com/JLHwung/hexo-offline">hexo-offline</a>的官方文档<br>
4. 在<code>主题配置文件</code>中开启 pwa 选项。</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">pwa:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">manifest:</span> <span class="string">/img/pwa/manifest.json</span></span><br><span class="line">  <span class="attr">apple_touch_icon:</span> <span class="string">/img/pwa/apple-touch-icon.png</span></span><br><span class="line">  <span class="attr">favicon_32_32:</span> <span class="string">/img/pwa/32.png</span></span><br><span class="line">  <span class="attr">favicon_16_16:</span> <span class="string">/img/pwa/16.png</span></span><br><span class="line">  <span class="attr">mask_icon:</span> <span class="string">/img/pwa/safari-pinned-tab.svg</span></span><br></pre></td></tr></table></figure>
<ol start="5">
<li>在创建<code>source/</code>目录中创建<code>manifest.json</code>文件。</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;name&quot;:</span> <span class="string">&quot;string&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;short_name&quot;:</span> <span class="string">&quot;Junzhou&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;theme_color&quot;:</span> <span class="string">&quot;#49b1f5&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;background_color&quot;:</span> <span class="string">&quot;#49b1f5&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;display&quot;:</span> <span class="string">&quot;standalone&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;scope&quot;:</span> <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;start_url&quot;:</span> <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;icons&quot;:</span> [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;src&quot;:</span> <span class="string">&quot;images/pwaicons/36.png&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;sizes&quot;:</span> <span class="string">&quot;36x36&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;type&quot;:</span> <span class="string">&quot;image/png&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;src&quot;:</span> <span class="string">&quot;images/pwaicons/48.png&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;sizes&quot;:</span> <span class="string">&quot;48x48&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;type&quot;:</span> <span class="string">&quot;image/png&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;src&quot;:</span> <span class="string">&quot;images/pwaicons/72.png&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;sizes&quot;:</span> <span class="string">&quot;72x72&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;type&quot;:</span> <span class="string">&quot;image/png&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;src&quot;:</span> <span class="string">&quot;images/pwaicons/96.png&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;sizes&quot;:</span> <span class="string">&quot;96x96&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;type&quot;:</span> <span class="string">&quot;image/png&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;src&quot;:</span> <span class="string">&quot;images/pwaicons/144.png&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;sizes&quot;:</span> <span class="string">&quot;144x144&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;type&quot;:</span> <span class="string">&quot;image/png&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;src&quot;:</span> <span class="string">&quot;images/pwaicons/192.png&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;sizes&quot;:</span> <span class="string">&quot;192x192&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;type&quot;:</span> <span class="string">&quot;image/png&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;src&quot;:</span> <span class="string">&quot;images/pwaicons/512.png&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;sizes&quot;:</span> <span class="string">&quot;512x512&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;:</span> <span class="string">&quot;image/png&quot;</span></span><br><span class="line">          &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">&quot;splash_pages&quot;:</span> <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>你也可以通过 <a target="_blank" rel="noopener" href="https://app-manifest.firebaseapp.com/">Web App Manifest</a>快速创建manifest.json。（Web App Manifest 要求至少包含一个 512<em>512 像素的图标）<br>
6. 可以通过<code>Chrome</code>插件<code>Lighthouse</code>检查 PWA 配置是否生效以及配置是否正确。<br>
* 打开博客页面<br>
* 启动<code>Lighthouse</code>插件 (<code>Lighthouse</code>插件要求至少包含一个 512</em>512 像素的图标)<br>
关于 PWA（渐进式增强 Web 应用）的更多内容请参阅 <a target="_blank" rel="noopener" href="https://web.dev/themed-omnibox/">Google Tools for Web Developers</a></p>
<h3 id="字数统计">字数统计</h3>
<ol>
<li>
<p>打开 hexo 工作目录</p>
</li>
<li>
<p><code>npm install hexo-wordcount --save</code> or <code>yarn add hexo-wordcount</code></p>
</li>
<li>
<p>修改 <code>主题配置文件</code>:</p>
</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># wordcount (字數統計)</span></span><br><span class="line"><span class="attr">wordcount:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">post_wordcount:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">min2read:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_wordcount:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h3 id="图片大图查看模式">图片大图查看模式</h3>
<p>如果你并不想为某张图片添加大图查看模式，你可以使用 html 格式引用图片，并为图片添加 no-lightbox class 名。</p>
<div class="note info simple"><p>只能开启一个</p>
</div>
<div class="tabs" id="test6"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test6-1">fancybox</button></li><li class="tab"><button type="button" data-href="#test6-2">medium_zoom</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test6-1"><p>这个是默认开启的<br>
修改 <code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># fancybox http://fancyapps.com/fancybox/3/</span></span><br><span class="line"><span class="attr">fancybox:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/fancybox.gif" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test6-2"><p>修改 <code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">medium_zoom:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/medium_zoom.gif" alt=""></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<h3 id="Snackbar-弹窗">Snackbar 弹窗</h3>
<p>Snackbar 弹窗,根据自己爱好开启<br>
修改 <code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Snackbar (Toast Notification 彈窗)</span></span><br><span class="line"><span class="comment"># https://github.com/polonel/SnackBar</span></span><br><span class="line"><span class="comment"># position 彈窗位置</span></span><br><span class="line"><span class="comment"># 可選 top-left / top-center / top-right / bottom-left / bottom-center / bottom-right</span></span><br><span class="line"><span class="attr">snackbar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">bottom-left</span></span><br><span class="line">  <span class="attr">bg_light:</span> <span class="string">&#x27;#49b1f5&#x27;</span> <span class="comment"># The background color of Toast Notification in light mode</span></span><br><span class="line">  <span class="attr">bg_dark:</span> <span class="string">&#x27;#121212&#x27;</span> <span class="comment"># The background color of Toast Notification in dark mode</span></span><br></pre></td></tr></table></figure>
<h3 id="其他配置">其他配置</h3>
<h4 id="CSS前缀">CSS前缀</h4>
<p>有些 CSS 并不是所有浏览器都支持，需要增加对应的前缀才会生效。</p>
<p>开启 <code>css_prefix</code> 后，会自动为一些 CSS 增加前缀。（会增加 20%的体积）</p>
<p>默认开启</p>
<p>修改 <code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Add the vendor prefixes to ensure compatibility</span></span><br><span class="line"><span class="attr">css_prefix:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h4 id="Open-Graph">Open Graph</h4>
<p>在 <code>head</code> 里增加一些 meta 资料，例如缩略图、标题、时间等等。当你分享网页到一些平台时，平臺会读取 Open Graph 的内容，展示缩略图，标题等等信息。</p>
<p>默认开启</p>
<p>修改 <code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Open graph meta tags</span></span><br><span class="line"><span class="comment"># https://developers.facebook.com/docs/sharing/webmasters/</span></span><br><span class="line"><span class="attr">Open_Graph_meta:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h4 id="Instantpage">Instantpage</h4>
<p>当鼠标悬停到链接上超过 65 毫秒时，Instantpage 会对该链接进行预加载，可以提升访问速度。</p>
<p>修改<code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># https://instant.page/</span></span><br><span class="line"><span class="comment"># prefetch (預加載)</span></span><br><span class="line"><span class="attr">instantpage:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h4 id="Pangu">Pangu</h4>
<p><code>Pangu</code>它会自动替你在网页中所有的中文字和半形的英文、数字、符号之间插入空白。<br>
修改<code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># https://github.com/vinta/pangu.js</span></span><br><span class="line"><span class="comment"># Insert a space between Chinese character and English character (中英文之間添加空格)</span></span><br><span class="line"><span class="attr">pangu:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span> <span class="comment"># site/post</span></span><br></pre></td></tr></table></figure>
<h3 id="Pjax">Pjax</h3>
<p>当用户点击链接，通过ajax更新页面需要变化的部分，然后使用HTML5的pushState修改浏览器的URL地址。</p>
<p>这样可以不用重复加载相同的资源（css/js）， 从而提升网页的加载速度。</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Pjax</span></span><br><span class="line"><span class="comment"># It may contain bugs and unstable, give feedback when you find the bugs.</span></span><br><span class="line"><span class="comment"># https://github.com/MoOx/pjax</span></span><br><span class="line"><span class="attr">pjax:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="comment"># - /music/</span></span><br><span class="line">    <span class="comment"># - /no-pjax/</span></span><br><span class="line">    <span class="comment"># - /movie/</span></span><br></pre></td></tr></table></figure>
<div class="note info simple"><p>对于一些第三方插件，有些并不支持 pjax 。<br>
你可以把网页加入到 <code>exclude</code> 里，这个网页会被 pjax 排除在外。<br>
点击该网页会重新加载网站</p>
<p>使用pjax后，一些自己DIY的js可能会无效，跳转页面时需要重新调用，请参考<a target="_blank" rel="noopener" href="https://github.com/MoOx/pjax">Pjax文档</a><br>
使用pjax后，一些个别页面加载的js/css，将会改为所有页面都加载</p>
</div>
<div class="note info simple"><p>Butterfly的Pjax目前仍有一些问题，请留意</p>
<ul>
<li>使用谷歌广告可能会报错（例如自动广告）</li>
</ul>
</div>
<h3 id="Inject">Inject</h3>
<p>如想添加额外的js/css/meta等等东西，可以在Inject里添加，支持添加到head(<code>&lt;/body&gt;</code>标签之前)和bottom(<code>&lt;/html&gt;</code>标籤之前)。</p>
<p>请注意：以标准的html格式添加内容</p>
<p>例如：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  	<span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/self.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  	<span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>留意: 如果你的网站根目录不是’/',使用本地图片时，需加上你的根目录。<br>
例如：网站是 <code>https://yoursite.com/blog,引用css/xx.css</code>，则设置为<code>&lt;link rel=&quot;stylesheet&quot; href=&quot;/blog/css/xx.css&quot;&gt;</code></p>
<h3 id="CDN">CDN</h3>
<p>配置文件中最后一部分<a target="_blank" rel="noopener" href="https://www.cloudflare.com/zh-cn/learning/cdn/what-is-a-cdn/">CDN</a>，里面是主题所引用到的文件，可自行配置CDN。（非必要请勿修改，配置后请确认链接是否能访问）</p>
<p>以下是一些CDN提供商：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.jsdelivr.com/">jsdelivr</a></li>
<li><a target="_blank" rel="noopener" href="https://www.bootcdn.cn/">bootcdn</a></li>
<li><a target="_blank" rel="noopener" href="https://cdnjs.com/">cdnjs</a></li>
</ul>
<h2 id="进阶教程">进阶教程</h2>
<h3 id="建议">建议</h3>
<ol>
<li>不要把个人需要的文件/图片放在主题source文件夹里，因为在升级主题的过程中，可能会把文件覆盖删除了。<br>
在Hexo根目录的source文件夹里，创建一个文件夹来放置个人文件/图片。<br>
引用文件直接为/文件夹名称/文件名</li>
</ol>
<h3 id="音乐">音乐</h3>
<p>全局音乐播放设置<br>
音乐界面使用插件<code>hexo-tag-aplayer</code></p>
<p>详细使用方法请参考插件<a target="_blank" rel="noopener" href="https://github.com/MoePlayer/hexo-tag-aplayer/blob/master/docs/README-zh_cn.md">文档</a></p>
<p><a target="_blank" rel="noopener" href="https://easyhexo.com/3-Plugins-use-and-config/3-1-hexo-tag-aplayer/">教程</a></p>
<p>我的做法如下：<br>
我使用的是<code>Metingjs</code></p>
<ol>
<li>安装<code>hexo-tag-aplayer</code>插件,在博客目录执行</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-tag-aplayer -save</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>关闭 asset_inject<br>
在<code>Hexo的配置文件</code>中</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">aplayer:</span></span><br><span class="line">  <span class="attr">meting:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">asset_inject:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li>开启主题的aplayerInject<br>
在<code>主题配置文件</code>中，enable设为true和per_page设为true</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Inject the css and script (aplayer/meting)</span></span><br><span class="line"><span class="attr">aplayerInject:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<ol start="4">
<li>插入Aplayer html<br>
为了适配hexo-tag-aplayer，主题内置的Meting js 仍为1.2版本，并非最新的2.x版本。</li>
</ol>
<p>把aplayer代码插入到主题配置文件的inject.bottom去</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">     <span class="bullet">-</span> <span class="string">&lt;div</span> <span class="string">class=&quot;aplayer</span> <span class="literal">no</span><span class="string">-destroy&quot;</span> <span class="string">data-id=&quot;3136952023&quot;</span> <span class="string">data-server=&quot;netease&quot;</span> <span class="string">data-type=&quot;playlist&quot;</span> <span class="string">data-fixed=&quot;true&quot;</span> <span class="string">data-mini=&quot;false&quot;</span> <span class="string">data-loop=&quot;all&quot;</span> <span class="string">data-listFolded=&quot;false&quot;</span> <span class="string">data-order=&quot;list&quot;</span> <span class="string">data-preload=&quot;none&quot;</span> <span class="string">data-autoplay=&quot;true&quot;</span> <span class="string">muted&gt;&lt;/div&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>3136952023</code>是id,  <code>neteas</code>是平台，  <code>playlist</code>是类型</p>
<p>QQ音乐</p>
<p>搜索歌曲，歌曲地址就是 id ，如果是音乐列表，列表地址就是 id , 同理，歌手也是一样的。</p>
<p><img src="https://easyhexo.com/assets/img/1.eb1f69ab.png" alt=""></p>
<p>网易云音乐</p>
<p>网易云音乐比较实在，直接告诉你 id 是什么了</p>
<p><img src="/img/example8.png" alt=""></p>
<p>其他平台的，也是类似，只要花点时间研究一下就能找到。</p>
<p>详细介绍</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>必须值</td>
<td>歌曲 id / 播放列表 id / 相册 id / 搜索关键字</td>
</tr>
<tr>
<td>server</td>
<td>必须值</td>
<td>音乐平台: netease , tencent , kugou , xiami , baidu</td>
</tr>
<tr>
<td>type</td>
<td>必须值</td>
<td>song , playlist , album , search , artist</td>
</tr>
<tr>
<td>fixed</td>
<td>false</td>
<td>开启固定模式</td>
</tr>
<tr>
<td>mini</td>
<td>false</td>
<td>开启迷你模式</td>
</tr>
<tr>
<td>loop</td>
<td>all</td>
<td>列表循环模式： all , one , none</td>
</tr>
<tr>
<td>order</td>
<td>list</td>
<td>列表播放模式： list , random</td>
</tr>
<tr>
<td>volume</td>
<td>0.7</td>
<td>播放器音量</td>
</tr>
<tr>
<td>lrctype</td>
<td>0</td>
<td>歌词格式类型</td>
</tr>
<tr>
<td>listfolded</td>
<td>false</td>
<td>指定音乐播放列表是否折叠</td>
</tr>
<tr>
<td>storagename</td>
<td>metingjs</td>
<td>LocalStorage 中存储播放器设定的键名</td>
</tr>
<tr>
<td>autoplay</td>
<td>true</td>
<td>自动播放，移动端浏览器暂时不支持此功能</td>
</tr>
<tr>
<td>mutex</td>
<td>true</td>
<td>该选项开启时，如果同页面有其他 aplayer 播放，该播放器会暂停</td>
</tr>
<tr>
<td>listmaxheight</td>
<td>340px</td>
<td>播放列表的最大长度</td>
</tr>
<tr>
<td>preload</td>
<td>auto</td>
<td>音乐文件预载入模式，可选项： none , metadata , auto</td>
</tr>
<tr>
<td>theme</td>
<td>#ad7a86</td>
<td>播放器风格色彩设置</td>
</tr>
</tbody>
</table>
<ol start="5">
<li>UI 调整<br>
按照上面的步骤设置完成后，浏览器左下角会出现Aplayer。打开文章页面时，你会发现打开Toc目录的按钮被遮挡了。我们需要修改CSS来改变按钮的位置。</li>
</ol>
<p>修改<code>主题配置文件</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">     <span class="bullet">-</span> <span class="string">&#x27;&lt;style type=&quot;text/css&quot;&gt;#toggle-sidebar &#123;bottom: 80px&#125;&lt;/style&gt;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>最终如下:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">     <span class="bullet">-</span> <span class="string">&#x27;&lt;style type=&quot;text/css&quot;&gt;#toggle-sidebar &#123;bottom: 80px&#125;&lt;/style&gt;&#x27;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">     <span class="bullet">-</span> <span class="string">&lt;div</span> <span class="string">class=&quot;aplayer</span> <span class="literal">no</span><span class="string">-destroy&quot;</span> <span class="string">data-id=&quot;3136952023&quot;</span> <span class="string">data-server=&quot;netease&quot;</span> <span class="string">data-type=&quot;playlist&quot;</span> <span class="string">data-fixed=&quot;true&quot;</span> <span class="string">data-mini=&quot;false&quot;</span> <span class="string">data-loop=&quot;all&quot;</span> <span class="string">data-listFolded=&quot;false&quot;</span> <span class="string">data-order=&quot;list&quot;</span> <span class="string">data-preload=&quot;none&quot;</span> <span class="string">data-autoplay=&quot;true&quot;</span> <span class="string">muted&gt;&lt;/div&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="电影">电影</h3>
<p>电影界面使用了插件 <code>hexo-butterfly-douban</code><br>
使用方法请参考插件的<a target="_blank" rel="noopener" href="https://github.com/jerryc127/butterfly-plugins/tree/main/hexo-butterfly-douban">文档</a>。</p>
<p>注意：</p>
<ol>
<li>hexo-butterfly-douban 会主动生成页面，所以不需要自己创建（前提是你选择了builtin: true）。</li>
<li>如遇到无法抓取问题，显示 INFO 0 movies have been loaded in xxx ms, because you are offline or your network is bad<br>
请过段时间再试试。</li>
</ol>
<p>这个其实就是抓取了你的豆瓣账号上的内容，如果你没有豆瓣账号或你的豆瓣账号为空，那也没什么用。</p>
<h3 id="说说">说说</h3>
<p>我采用的是<code>Artitalk</code>来配置的。</p>
<p>教程如下：</p>
<ol>
<li>安裝插件</li>
</ol>
<blockquote>
<p>npm install hexo-butterfly-artitalk</p>
</blockquote>
<ol start="2">
<li>
<p>leancloud配置 参考<a target="_blank" rel="noopener" href="https://artitalk.js.org/doc.html#%F0%9F%8C%88-leancloud-%E7%9A%84%E7%9B%B8%E5%85%B3%E5%87%86%E5%A4%87">Artitalk 文档 - LeanCloud 的相关准备</a></p>
</li>
<li>
<p>前往 <a target="_blank" rel="noopener" href="https://leancloud.app/">LeanCloud</a> 国际版，注册账号。</p>
</li>
<li>
<p>注册完成之后根据 LeanCloud 的提示绑定手机号和邮箱。</p>
</li>
<li>
<p>绑定完成之后点击创建应用，应用名称随意，接着在结构化数据中创建 class，命名为 <code>shuoshuo</code>。</p>
</li>
<li>
<p>在你新建的应用中找到<code>结构化数据</code>下的<code>_User</code>。点击<code>添加行</code>，输入想用的用户名及密码。</p>
</li>
<li>
<p>回到<code>结构化数据</code>中，点击 <code>class</code> 下的 <code>shuoshuo</code>。找到权限，在 <code>Class 访问权限</code>中将 <code>add_fields</code> 以及 <code>create</code> 权限设置为指定用户，输入你刚才输入的用户名会自动匹配。为了安全起见，将 <code>delete</code> 和 <code>update</code> 也设置为跟它们一样的权限。</p>
</li>
<li>
<p>然后新建一个名为<code>atComment</code>的class，权限什么的使用默认的即可。</p>
</li>
<li>
<p>点击 <code>class</code> 下的 <code>_User</code> 添加列，列名称为 <code>img</code>，默认值填上你这个账号想要用的发布说说的头像url，这一项不进行配置，说说头像会显示为默认头像 —— Artitalk 的 logo。</p>
</li>
<li>
<p>在最菜单栏中找到设置-&gt; 应用 keys，记下来 <code>AppID</code> 和 <code>AppKey</code> ，一会会用。</p>
</li>
<li>
<p>最后将 <code>_User</code> 中的权限全部调为指定用户，或者数据创建者，为了保证不被篡改用户数据以达到强制发布说说</p>
</li>
<li>
<p>这几步一定要设置好，才可以保证不被 “闲人” 破解发布说说的验证</p>
</li>
<li>
<p>创建页面source\artitalk\<a target="_blank" rel="noopener" href="http://index.md">index.md</a></p>
</li>
</ol>
<p>我的写法如下：</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: artitalk</span><br><span class="line">date: 2022-01-23 22:28:21</span><br><span class="line">type: artitalk</span><br><span class="line"><span class="section">comments: false</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/artitalk&quot;</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;artitalk_main&quot;</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></span><br><span class="line">  new Artitalk(&#123;</span><br><span class="line"><span class="code">    appId: &#x27;EfTHJsYzXKKdIsxz1ibFndD6-MdYXbMMI&#x27;,</span></span><br><span class="line"><span class="code">    appKey: &#x27;WCtHUMA1xWqisTWv1w9Rf0rm&#x27;,</span></span><br><span class="line"><span class="code">    atComment: 1,</span></span><br><span class="line"><span class="code">  &#125;)</span></span><br><span class="line"><span class="code">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>
<ol start="4">
<li>添加配置信息 在 <code>Hexo （根目录下）的配置文件</code> 或者 <code>主题配置文件</code>中添加</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Artitalk</span></span><br><span class="line"> <span class="comment"># see https://artitalk.js.org/</span></span><br><span class="line"> <span class="attr">artitalk:</span></span><br><span class="line">   <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">   <span class="attr">appId:</span></span><br><span class="line">   <span class="attr">appKey:</span></span><br><span class="line">   <span class="attr">path:</span></span><br><span class="line">   <span class="attr">js:</span></span><br><span class="line">   <span class="attr">option:</span></span><br><span class="line">   <span class="attr">front_matter:</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>参数</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>appId</td>
<td>【必须】LeanCloud 创建的应用中的 AppID</td>
</tr>
<tr>
<td>appKey</td>
<td>【必须】LeanCloud 创建的应用中的 AppKEY</td>
</tr>
<tr>
<td>path</td>
<td>【可选】Artitalk 的路径名称（默认为 artitalk，生成的页面为 artitalk/index.html）</td>
</tr>
<tr>
<td>js</td>
<td>【可选】更换 Artitalk 的 js CDN（默认为 <a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/npm/artitalk%EF%BC%89">https://cdn.jsdelivr.net/npm/artitalk）</a></td>
</tr>
<tr>
<td>option</td>
<td>【可选】Artitalk 需要的额外配置</td>
</tr>
<tr>
<td>front_matter</td>
<td>【可选】Artitalk 页面的 front_matter 配置</td>
</tr>
</tbody>
</table>
<h3 id="自定义代码配色">自定义代码配色</h3>
<p><a target="_blank" rel="noopener" href="https://butterfly.js.org/posts/b37b5fe3/">详细教程</a></p>
<h3 id="自定义侧边栏">自定义侧边栏</h3>
<p><a target="_blank" rel="noopener" href="https://butterfly.js.org/posts/ea33ab97/">详细教程</a></p>
<h3 id="Icon">Icon</h3>
<p>Butterfly主题内置了<a target="_blank" rel="noopener" href="https://fontawesome.com/">Font Awesome V5</a> 图标，目前已更新到 5.13.0，总共有1,588个免费图标。由于是国外的图标网站，对于国内的一些网站Icon并不支持。如有需要，你可以引入其它的图标服务商。</p>
<h4 id="iconfont">iconfont</h4>
<p>国内最出名的莫过于<a target="_blank" rel="noopener" href="https://www.iconfont.cn/">iconfont</a>,功能很强大且图标内容很丰富的矢量图标库。很多<code>Font Awesome</code>不支持的图标都可以在这里找到。同时，<code>iconfont</code>支持选择需要的图标生成css链接，减少不必要的CSS加载。</p>
<p><a target="_blank" rel="noopener" href="https://butterfly.js.org/posts/4073eda/#iconfont">详细使用教程</a></p>
<h3 id="图片压缩">图片压缩</h3>
<p><a target="_blank" rel="noopener" href="https://butterfly.js.org/posts/4073eda/#%E5%9C%96%E7%89%87%E5%A3%93%E7%B8%AE">详细教程</a></p>
<h3 id="插件推荐">插件推荐</h3>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/rozbo/hexo-abbrlink">hexo-abbrlink</a><br>
可以把链接permalink转为数字的插件，配置容易，生成时自动转为数字。</li>
<li><a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-generator-feed">hexo-generator-feed</a><br>
生成RSS文件的插件</li>
<li><a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-filter-nofollow">hexo-filter-nofollow</a><br>
为网站使用到的所有外链添加<code>rel=&quot;noopener external nofollow noreferrer&quot;</code>, 可以有效地加强网站SEO和防止权重流失</li>
<li><a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-generator-sitemap">hexo-generator-sitemap</a><br>
生成sitemap的插件</li>
<li><a target="_blank" rel="noopener" href="https://github.com/coneycode/hexo-generator-baidu-sitemap">hexo-generator-baidu-sitemap</a><br>
看名字就知道，是专门为百度生成sitemap的插件</li>
</ul>
<h3 id="留言板配置">留言板配置</h3>
<p>在站点根目录执行</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-butterfly-envelope --save</span><br></pre></td></tr></table></figure>
<p>安装完成之后打开<code>站点的配置文件</code>或<code>主题的配置文件</code>，添加如下配置</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 留言板</span></span><br><span class="line"><span class="attr">envelope_comment:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">cover:</span> <span class="string">https://ae01.alicdn.com/kf/U5bb04af32be544c4b41206d9a42fcacfd.jpg</span> <span class="comment"># 信笺封面图</span></span><br><span class="line">  <span class="attr">message:</span>  <span class="comment"># 信笺内容，支持多行</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">来自木雁的留言</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想问的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想说的？</span></span><br><span class="line">     <span class="bullet">-</span> <span class="string">有什么想吐槽的？</span></span><br><span class="line">  <span class="attr">bottom:</span> <span class="string">自动书记人偶竭诚为您服务!</span>   <span class="comment"># 信笺结束语，只能单行</span></span><br><span class="line">  <span class="attr">height:</span>                          <span class="comment"># 调整信笺划出高度，默认1050px</span></span><br><span class="line">  <span class="attr">path:</span>                           <span class="comment"># 【可选】comments 的路径名称。默认为 comments ， 生成的页面为 comments/index.html</span></span><br><span class="line">  <span class="attr">front_matter:</span>                    <span class="comment"># 【可选】comments页面的 front_matter 配置</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">留言板</span></span><br><span class="line">    <span class="attr">comments:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">aside:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>最后在站点根目录执行</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new page comments</span><br></pre></td></tr></table></figure>
<h3 id="主题更新">主题更新</h3>
<p>了减少升级主题后带来的不便，请使用以下方法（建议，可以不做）。</p>
<p>在 hexo 的根目录创建一个文件 <code>_config.butterfly.yml</code>，并把主题目录的 <code>_config.yml</code> 内容复制到 <code>_config.butterfly.ym</code>l 去。( 注意: 复製的是主题的 <code>_config.yml</code> ,而不是 hexo 的<code> _config.yml</code>)</p>
<p>注意： 不要把主题目录的 _config.yml 删掉</p>
<p>注意： 以后只需要在 <code>_config.butterfly.yml</code>进行配置就行。<br>
如果使用了 <code>_config.butterfly.yml</code>， 配置主题的 <code>_config.yml</code> 将不会有效果。</p>
<p>Hexo会自动合并主题中的<code>_config.yml</code>和 <code>_config.butterfly.yml</code>里的配置，如果存在同名配置，会使用<code>_config.butterfly.yml</code>的配置，其优先度较高。</p>
<p><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/butterfly-docs-install-suggestion-1.png" alt=""></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">木雁之间</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://winfredliu.github.io/2022/01/19/blog%E6%90%AD%E5%BB%BA/">https://winfredliu.github.io/2022/01/19/blog%E6%90%AD%E5%BB%BA/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://winfredliu.github.io" target="_blank">木雁之间的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/butterfly/">butterfly</a><a class="post-meta__tags" href="/tags/%E6%95%99%E7%A8%8B/">教程</a><a class="post-meta__tags" href="/tags/blog/">blog</a></div><div class="post_share"><div class="social-share" data-image="/img/cover1.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.png" target="_blank"><img class="post-qr-code-img" src="/img/wechat.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/01/18/markdown%E5%AD%A6%E4%B9%A0/"><img class="prev-cover" src="/img/cover5.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Markdown基本语法教程</div></div></a></div><div class="next-post pull-right"><a href="/2022/01/25/butterfly%E4%B8%BB%E9%A2%98%E7%9A%84%E9%A2%9D%E5%A4%96%E7%BE%8E%E5%8C%96/"><img class="next-cover" src="/img/cover3.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">butterfly主题的额外美化</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/01/25/butterfly%E4%B8%BB%E9%A2%98%E7%9A%84%E9%A2%9D%E5%A4%96%E7%BE%8E%E5%8C%96/" title="butterfly主题的额外美化"><img class="cover" src="/img/cover3.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2022-01-25</div><div class="title">butterfly主题的额外美化</div></div></a></div><div><a href="/2022/01/18/markdown%E5%AD%A6%E4%B9%A0/" title="Markdown基本语法教程"><img class="cover" src="/img/cover5.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2022-01-24</div><div class="title">Markdown基本语法教程</div></div></a></div><div><a href="/2022/01/18/git%E5%AD%A6%E4%B9%A0/" title="git学习"><img class="cover" src="/img/cover2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2022-01-24</div><div class="title">git学习</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div id="comment-switch"><span class="first-comment">Twikoo</span><span class="switch-btn"></span><span class="second-comment">Disqus</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">木雁之间</div><div class="author-info__description">博客</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">4</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/winfredliu"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/winfredliu" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:3194769362@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%AD%A5"><span class="toc-number">1.</span> <span class="toc-text">第一步</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85node-js"><span class="toc-number">1.1.</span> <span class="toc-text">安装node.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85npm%E7%9A%84%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%E6%BA%90-%E5%8F%AF%E9%80%89"><span class="toc-number">1.2.</span> <span class="toc-text">安装npm的国内镜像源(可选)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6"><span class="toc-number">1.3.</span> <span class="toc-text">安装博客框架</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8hexo%E6%A1%86%E6%9E%B6%E6%9D%A5%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2"><span class="toc-number">1.4.</span> <span class="toc-text">使用hexo框架来搭建博客</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E6%AD%A5"><span class="toc-number">2.</span> <span class="toc-text">第二步</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0%E4%B9%8B%E5%90%8E"><span class="toc-number">2.1.</span> <span class="toc-text">修改博客文章之后</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%86%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E5%88%B0github%E4%B8%8A%E5%85%AC%E5%BC%80%E4%BD%BF%E7%94%A8"><span class="toc-number">2.2.</span> <span class="toc-text">将博客部署到github上公开使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%86%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E5%88%B0gitee%E4%B8%8A%E5%85%AC%E5%BC%80%E4%BD%BF%E7%94%A8"><span class="toc-number">2.3.</span> <span class="toc-text">将博客部署到gitee上公开使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8%E7%9B%AE%E5%BD%95%E4%B8%8B%E5%AE%89%E8%A3%85git%E6%8F%92%E4%BB%B6"><span class="toc-number">2.4.</span> <span class="toc-text">在目录下安装git插件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9-config-yml%E6%96%87%E4%BB%B6"><span class="toc-number">2.5.</span> <span class="toc-text">修改_config.yml文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A8%E9%80%81%E5%8D%9A%E5%AE%A2%E5%88%B0%E8%BF%9C%E7%AB%AF"><span class="toc-number">2.6.</span> <span class="toc-text">推送博客到远端</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#gitee%E6%8E%A8%E5%8A%A8%E6%88%90%E5%8A%9F%E4%B9%8B%E5%90%8E%E8%BF%98%E8%A6%81%E5%BC%80%E5%90%AF%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2%E6%9C%8D%E5%8A%A1"><span class="toc-number">2.6.1.</span> <span class="toc-text">gitee推动成功之后还要开启静态页面服务</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98"><span class="toc-number">3.</span> <span class="toc-text">自定义博客主题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E4%B8%80"><span class="toc-number">4.</span> <span class="toc-text">自定义博客主题一</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E5%BB%BA%E9%A1%B5%E9%9D%A2"><span class="toc-number">4.1.</span> <span class="toc-text">新建页面</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E9%A1%B5"><span class="toc-number">4.1.1.</span> <span class="toc-text">标签页</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%B1%BB%E9%A1%B5"><span class="toc-number">4.1.2.</span> <span class="toc-text">分类页</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5"><span class="toc-number">4.1.3.</span> <span class="toc-text">友情链接</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5%E6%B7%BB%E5%8A%A0"><span class="toc-number">4.2.</span> <span class="toc-text">友情链接添加</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5-2"><span class="toc-number">4.3.</span> <span class="toc-text">友情链接</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E4%BA%8C"><span class="toc-number">5.</span> <span class="toc-text">自定义博客主题二</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#front-master"><span class="toc-number">5.1.</span> <span class="toc-text">front-master</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Page-Front-matter"><span class="toc-number">5.1.1.</span> <span class="toc-text">Page Front-matter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Post-Front-matter"><span class="toc-number">5.1.2.</span> <span class="toc-text">Post Front-matter</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%A5%E9%94%99%E6%9F%A5%E7%9C%8B"><span class="toc-number">5.2.</span> <span class="toc-text">报错查看</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E8%A8%80"><span class="toc-number">5.3.</span> <span class="toc-text">语言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%AB%99%E8%B5%84%E6%96%99"><span class="toc-number">5.4.</span> <span class="toc-text">网站资料</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E8%8F%9C%E5%8D%95"><span class="toc-number">5.5.</span> <span class="toc-text">导航菜单</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81"><span class="toc-number">5.6.</span> <span class="toc-text">代码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE%E4%B8%BB%E9%A2%98"><span class="toc-number">5.6.1.</span> <span class="toc-text">代码高亮主题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%A4%8D%E5%88%B6%E5%8A%9F%E8%83%BD"><span class="toc-number">5.6.2.</span> <span class="toc-text">代码复制功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%A1%86%E5%B1%95%E5%BC%80%E5%85%B3%E9%97%AD"><span class="toc-number">5.6.3.</span> <span class="toc-text">代码框展开关闭</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%8D%A2%E8%A1%8C"><span class="toc-number">5.6.4.</span> <span class="toc-text">代码换行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E9%AB%98%E5%BA%A6%E9%99%90%E5%88%B6"><span class="toc-number">5.6.5.</span> <span class="toc-text">代码高度限制</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BE%E4%BA%A4%E5%9B%BE%E6%A0%87"><span class="toc-number">5.7.</span> <span class="toc-text">社交图标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E9%A1%B5%E6%96%87%E7%AB%A0%E8%8A%82%E9%80%89-%E8%87%AA%E5%8A%A8%E8%8A%82%E9%80%89%E5%92%8C%E6%96%87%E7%AB%A0%E9%A1%B5description"><span class="toc-number">5.8.</span> <span class="toc-text">主页文章节选(自动节选和文章页description)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B6%E9%83%A8%E5%9B%BE"><span class="toc-number">5.9.</span> <span class="toc-text">顶部图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%BD%AE%E9%A1%B6"><span class="toc-number">5.10.</span> <span class="toc-text">文章置顶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2"><span class="toc-number">5.11.</span> <span class="toc-text">文章封面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E9%A1%B5%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE"><span class="toc-number">5.12.</span> <span class="toc-text">文章页相关配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E7%AB%A0meta%E6%98%BE%E7%A4%BA"><span class="toc-number">5.12.1.</span> <span class="toc-text">文章meta显示</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%89%88%E6%9D%83"><span class="toc-number">5.13.</span> <span class="toc-text">文章版权</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E6%89%93%E8%B5%8F"><span class="toc-number">5.14.</span> <span class="toc-text">文章打赏</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95"><span class="toc-number">5.15.</span> <span class="toc-text">目录</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E7%89%B9%E5%AE%9A%E7%9A%84%E6%96%87%E7%AB%A0%E9%85%8D%E7%BD%AE"><span class="toc-number">5.15.1.</span> <span class="toc-text">为特定的文章配置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E6%96%87%E7%AB%A0"><span class="toc-number">5.16.</span> <span class="toc-text">相关文章</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E9%94%9A%E7%82%B9"><span class="toc-number">5.17.</span> <span class="toc-text">文章锚点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E8%BF%87%E6%9C%9F%E6%8F%90%E9%86%92"><span class="toc-number">5.18.</span> <span class="toc-text">文章过期提醒</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%BC%96%E8%BE%91%E6%8C%89%E9%92%AE"><span class="toc-number">5.19.</span> <span class="toc-text">文章编辑按钮</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%88%86%E9%A1%B5%E6%8C%89%E9%92%AE"><span class="toc-number">5.20.</span> <span class="toc-text">文章分页按钮</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%B4%E5%83%8F"><span class="toc-number">5.21.</span> <span class="toc-text">头像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0"><span class="toc-number">5.22.</span> <span class="toc-text">图片描述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E5%88%B6%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE"><span class="toc-number">5.23.</span> <span class="toc-text">复制相关配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E5%BA%95%E9%83%A8%E8%AE%BE%E7%BD%AE"><span class="toc-number">5.24.</span> <span class="toc-text">页面底部设置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%9A%E5%AE%A2%E5%B9%B4%E4%BB%BD"><span class="toc-number">5.24.1.</span> <span class="toc-text">博客年份</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B5%E8%84%9A%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E6%9C%AC"><span class="toc-number">5.24.2.</span> <span class="toc-text">页脚自定义文本</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%B3%E4%B8%8B%E8%A7%92%E6%8C%89%E9%92%AE"><span class="toc-number">5.25.</span> <span class="toc-text">右下角按钮</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E7%B9%81%E8%BD%AC%E6%8D%A2"><span class="toc-number">5.25.1.</span> <span class="toc-text">简繁转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9C%E9%97%B4%E6%A8%A1%E5%BC%8F"><span class="toc-number">5.25.2.</span> <span class="toc-text">夜间模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%85%E8%AF%BB%E6%A8%A1%E5%BC%8F"><span class="toc-number">5.25.3.</span> <span class="toc-text">阅读模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E9%92%AE%E6%8E%92%E5%BA%8F"><span class="toc-number">5.25.4.</span> <span class="toc-text">按钮排序</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%A7%E8%BE%B9%E6%A0%8F%E8%AE%BE%E7%BD%AE"><span class="toc-number">5.26.</span> <span class="toc-text">侧边栏设置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%A7%E8%BE%B9%E6%8E%92%E7%89%88"><span class="toc-number">5.26.1.</span> <span class="toc-text">侧边排版</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E4%BA%BA%E6%95%B0-busuanzi-UV-%E5%92%8C-PV"><span class="toc-number">5.26.2.</span> <span class="toc-text">访问人数 busuanzi (UV 和 PV)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E6%97%B6%E9%97%B4"><span class="toc-number">5.26.3.</span> <span class="toc-text">运行时间</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%80%E6%96%B0%E8%AF%84%E8%AE%BA"><span class="toc-number">5.26.4.</span> <span class="toc-text">最新评论</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E5%A4%96%E6%8C%82%EF%BC%88Tag-Plugins%EF%BC%89"><span class="toc-number">5.27.</span> <span class="toc-text">标签外挂（Tag Plugins）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Note-Bootstrap-Callout"><span class="toc-number">5.27.1.</span> <span class="toc-text">Note (Bootstrap Callout)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Gallery%E7%9B%B8%E5%86%8C%E5%9B%BE%E5%BA%93"><span class="toc-number">5.27.2.</span> <span class="toc-text">Gallery相册图库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Gallery%E7%9B%B8%E5%86%8A"><span class="toc-number">5.27.3.</span> <span class="toc-text">Gallery相冊</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tag-hide"><span class="toc-number">5.27.4.</span> <span class="toc-text">tag-hide</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#inline"><span class="toc-number">5.27.4.1.</span> <span class="toc-text">inline</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#block"><span class="toc-number">5.27.4.2.</span> <span class="toc-text">block</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Toggle"><span class="toc-number">5.27.4.3.</span> <span class="toc-text">Toggle</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mermaid"><span class="toc-number">5.27.5.</span> <span class="toc-text">mermaid</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Tab"><span class="toc-number">5.27.6.</span> <span class="toc-text">Tab</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#button"><span class="toc-number">5.27.7.</span> <span class="toc-text">button</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#inlineImg"><span class="toc-number">5.27.8.</span> <span class="toc-text">inlineImg</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#label"><span class="toc-number">5.27.9.</span> <span class="toc-text">label</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#timeline"><span class="toc-number">5.27.10.</span> <span class="toc-text">timeline</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E4%B8%89"><span class="toc-number">6.</span> <span class="toc-text">自定义博客主题三</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%84%E8%AE%BA"><span class="toc-number">6.1.</span> <span class="toc-text">评论</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E8%81%8A%E5%A4%A9"><span class="toc-number">6.2.</span> <span class="toc-text">在线聊天</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E6%AD%A5%E9%AA%A4"><span class="toc-number">6.2.1.</span> <span class="toc-text">添加步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E5%86%8Cdaovice%E8%B4%A6%E5%8F%B7"><span class="toc-number">6.2.1.1.</span> <span class="toc-text">注册daovice账号</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E5%8F%B0%E6%9F%A5%E7%9C%8Bapp-id"><span class="toc-number">6.2.1.2.</span> <span class="toc-text">控制台查看app_id</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%81%8A%E5%A4%A9%E6%A0%B7%E5%BC%8F%E8%AE%BE%E7%BD%AE"><span class="toc-number">6.2.1.2.1.</span> <span class="toc-text">聊天样式设置</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BF%AE%E6%94%B9"><span class="toc-number">6.2.1.2.2.</span> <span class="toc-text">主题配置文件修改</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E4%BA%AB"><span class="toc-number">6.3.</span> <span class="toc-text">分享</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E7%B3%BB%E7%BB%9F"><span class="toc-number">6.4.</span> <span class="toc-text">搜索系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%AB%99%E9%AA%8C%E8%AF%81"><span class="toc-number">6.5.</span> <span class="toc-text">网站验证</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%9E%90%E7%BB%9F%E8%AE%A1"><span class="toc-number">6.6.</span> <span class="toc-text">分析统计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%BF%E5%91%8A"><span class="toc-number">6.7.</span> <span class="toc-text">广告</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Math%E6%95%B0%E5%AD%A6"><span class="toc-number">6.8.</span> <span class="toc-text">Math数学</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BE%8E%E5%8C%96-%E7%89%B9%E6%95%88"><span class="toc-number">6.9.</span> <span class="toc-text">美化&#x2F;特效</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%BB%E9%A2%98%E8%89%B2"><span class="toc-number">6.9.1.</span> <span class="toc-text">自定义主题色</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%AB%99%E8%83%8C%E6%99%AF"><span class="toc-number">6.9.2.</span> <span class="toc-text">网站背景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#footer%E8%83%8C%E6%99%AF"><span class="toc-number">6.9.3.</span> <span class="toc-text">footer背景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%93%E5%AD%97%E6%95%88%E6%9E%9C"><span class="toc-number">6.9.4.</span> <span class="toc-text">打字效果</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%83%8C%E6%99%AF%E7%89%B9%E6%95%88"><span class="toc-number">6.9.5.</span> <span class="toc-text">背景特效</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E6%95%88%E6%9E%9C"><span class="toc-number">6.9.6.</span> <span class="toc-text">鼠标点击效果</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E7%BE%8E%E5%8C%96"><span class="toc-number">6.9.7.</span> <span class="toc-text">页面美化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E4%BD%93%E5%92%8C%E5%AD%97%E4%BD%93%E5%A4%A7%E5%B0%8F"><span class="toc-number">6.9.8.</span> <span class="toc-text">自定义字体和字体大小</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%AD%97%E4%BD%93"><span class="toc-number">6.9.8.1.</span> <span class="toc-text">全局字体</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#blog%E6%A0%87%E9%A2%98%E5%AD%97%E4%BD%93"><span class="toc-number">6.9.8.2.</span> <span class="toc-text">blog标题字体</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%AB%99%E5%89%AF%E6%A0%87%E9%A2%98"><span class="toc-number">6.9.9.</span> <span class="toc-text">网站副标题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E9%A1%B5top-img%E6%98%BE%E7%A4%BA%E5%A4%A7%E5%B0%8F"><span class="toc-number">6.9.10.</span> <span class="toc-text">主页top_img显示大小</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E5%8A%A0%E8%BD%BD%E5%8A%A8%E7%94%BBpreloader"><span class="toc-number">6.9.11.</span> <span class="toc-text">页面加载动画preloader</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PWA"><span class="toc-number">6.10.</span> <span class="toc-text">PWA</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1"><span class="toc-number">6.11.</span> <span class="toc-text">字数统计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E5%A4%A7%E5%9B%BE%E6%9F%A5%E7%9C%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">6.12.</span> <span class="toc-text">图片大图查看模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Snackbar-%E5%BC%B9%E7%AA%97"><span class="toc-number">6.13.</span> <span class="toc-text">Snackbar 弹窗</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E9%85%8D%E7%BD%AE"><span class="toc-number">6.14.</span> <span class="toc-text">其他配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#CSS%E5%89%8D%E7%BC%80"><span class="toc-number">6.14.1.</span> <span class="toc-text">CSS前缀</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Open-Graph"><span class="toc-number">6.14.2.</span> <span class="toc-text">Open Graph</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Instantpage"><span class="toc-number">6.14.3.</span> <span class="toc-text">Instantpage</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Pangu"><span class="toc-number">6.14.4.</span> <span class="toc-text">Pangu</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pjax"><span class="toc-number">6.15.</span> <span class="toc-text">Pjax</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Inject"><span class="toc-number">6.16.</span> <span class="toc-text">Inject</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CDN"><span class="toc-number">6.17.</span> <span class="toc-text">CDN</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B"><span class="toc-number">7.</span> <span class="toc-text">进阶教程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%BA%E8%AE%AE"><span class="toc-number">7.1.</span> <span class="toc-text">建议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9F%B3%E4%B9%90"><span class="toc-number">7.2.</span> <span class="toc-text">音乐</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%B5%E5%BD%B1"><span class="toc-number">7.3.</span> <span class="toc-text">电影</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B4%E8%AF%B4"><span class="toc-number">7.4.</span> <span class="toc-text">说说</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BB%A3%E7%A0%81%E9%85%8D%E8%89%B2"><span class="toc-number">7.5.</span> <span class="toc-text">自定义代码配色</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BE%A7%E8%BE%B9%E6%A0%8F"><span class="toc-number">7.6.</span> <span class="toc-text">自定义侧边栏</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Icon"><span class="toc-number">7.7.</span> <span class="toc-text">Icon</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#iconfont"><span class="toc-number">7.7.1.</span> <span class="toc-text">iconfont</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9"><span class="toc-number">7.8.</span> <span class="toc-text">图片压缩</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E4%BB%B6%E6%8E%A8%E8%8D%90"><span class="toc-number">7.9.</span> <span class="toc-text">插件推荐</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%95%99%E8%A8%80%E6%9D%BF%E9%85%8D%E7%BD%AE"><span class="toc-number">7.10.</span> <span class="toc-text">留言板配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E9%A2%98%E6%9B%B4%E6%96%B0"><span class="toc-number">7.11.</span> <span class="toc-text">主题更新</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/01/25/butterfly%E4%B8%BB%E9%A2%98%E7%9A%84%E9%A2%9D%E5%A4%96%E7%BE%8E%E5%8C%96/" title="butterfly主题的额外美化"><img src="/img/cover3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="butterfly主题的额外美化"/></a><div class="content"><a class="title" href="/2022/01/25/butterfly%E4%B8%BB%E9%A2%98%E7%9A%84%E9%A2%9D%E5%A4%96%E7%BE%8E%E5%8C%96/" title="butterfly主题的额外美化">butterfly主题的额外美化</a><time datetime="2022-01-25T12:15:07.355Z" title="发表于 2022-01-25 04:15:07">2022-01-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/01/19/blog%E6%90%AD%E5%BB%BA/" title="blog搭建教程"><img src="/img/cover1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="blog搭建教程"/></a><div class="content"><a class="title" href="/2022/01/19/blog%E6%90%AD%E5%BB%BA/" title="blog搭建教程">blog搭建教程</a><time datetime="2022-01-19T14:05:38.145Z" title="发表于 2022-01-19 06:05:38">2022-01-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/01/18/markdown%E5%AD%A6%E4%B9%A0/" title="Markdown基本语法教程"><img src="/img/cover5.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Markdown基本语法教程"/></a><div class="content"><a class="title" href="/2022/01/18/markdown%E5%AD%A6%E4%B9%A0/" title="Markdown基本语法教程">Markdown基本语法教程</a><time datetime="2022-01-19T05:07:00.000Z" title="发表于 2022-01-18 21:07:00">2022-01-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/01/18/git%E5%AD%A6%E4%B9%A0/" title="git学习"><img src="/img/cover2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="git学习"/></a><div class="content"><a class="title" href="/2022/01/18/git%E5%AD%A6%E4%B9%A0/" title="git学习">git学习</a><time datetime="2022-01-18T13:33:07.161Z" title="发表于 2022-01-18 05:33:07">2022-01-18</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 By 木雁之间</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">欢迎来到我的博客</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'test1-2gktnr4k00ee729f',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.vemoji)'))
      }
    }, null))
  }

  const getCount = () => {
    twikoo.getCommentsCount({
      envId: 'test1-2gktnr4k00ee729f',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      document.getElementById('twikoo-count').innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script><script>function loadDisqus () {
  var disqus_config = function () {
    this.page.url = 'https://winfredliu.github.io/2022/01/19/blog%E6%90%AD%E5%BB%BA/'
    this.page.identifier = '2022/01/19/blog搭建/'
    this.page.title = 'blog搭建教程'
  };

  window.disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://winfredliu.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }
}

if ('Twikoo' === 'Disqus' || !true) {
  if (true) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}
</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'test1-2gktnr4k00ee729f',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script>(function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/104fe729.js","daovoice")
</script><script>var isChatBtn = true
daovoice('init', {
  app_id: '104fe729',},{
  launcher: { 
     disableLauncherIcon: isChatBtn // 悬浮 ICON 是否显示
  },
});
daovoice('update');

if (isChatBtn) {
  var chatBtnFn = () => {
    var chatBtn = document.getElementById("chat_btn")
    chatBtn.addEventListener("click", function(){
      daovoice('show')
    });
  }
  chatBtnFn()
} else {
  if (false) {
    function chatBtnHide () {
      daovoice('update', {},{
        launcher: { 
        disableLauncherIcon: true // 悬浮 ICON 是否显示
        },
      });
    }
    function chatBtnShow () {
      daovoice('update', {},{
        launcher: { 
        disableLauncherIcon: false // 悬浮 ICON 是否显示
        },
      });
    }
  }
}</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"]):not([href="/no-pjax/"]):not([href="/movie/"]):not([href="/artitalk/"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: true,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', 'UA-217798011-2', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>